var Ye=Object.create;var G=Object.defineProperty;var Ze=Object.getOwnPropertyDescriptor;var Je=Object.getOwnPropertyNames;var Xe=Object.getPrototypeOf,Ke=Object.prototype.hasOwnProperty;var P=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,r)=>(typeof require<"u"?require:t)[r]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});var Qe=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),et=(e,t)=>{for(var r in t)G(e,r,{get:t[r],enumerable:!0})},tt=(e,t,r,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of Je(t))!Ke.call(e,n)&&n!==r&&G(e,n,{get:()=>t[n],enumerable:!(a=Ze(t,n))||a.enumerable});return e};var rt=(e,t,r)=>(r=e!=null?Ye(Xe(e)):{},tt(t||!e||!e.__esModule?G(r,"default",{value:e,enumerable:!0}):r,e));var de=Qe(()=>{});var $={};et($,{createEndpoint:()=>H,expose:()=>E,finalizer:()=>_,proxy:()=>z,proxyMarker:()=>Z,releaseProxy:()=>ae,transfer:()=>fe,transferHandlers:()=>w,windowEndpoint:()=>ut,wrap:()=>W});var Z=Symbol("Comlink.proxy"),H=Symbol("Comlink.endpoint"),ae=Symbol("Comlink.releaseProxy"),_=Symbol("Comlink.finalizer"),M=Symbol("Comlink.thrown"),se=e=>typeof e=="object"&&e!==null||typeof e=="function",nt={canHandle:e=>se(e)&&e[Z],serialize(e){let{port1:t,port2:r}=new MessageChannel;return E(e,t),[r,[r]]},deserialize(e){return e.start(),W(e)}},it={canHandle:e=>se(e)&&M in e,serialize({value:e}){let t;return e instanceof Error?t={isError:!0,value:{message:e.message,name:e.name,stack:e.stack}}:t={isError:!1,value:e},[t,[]]},deserialize(e){throw e.isError?Object.assign(new Error(e.value.message),e.value):e.value}},w=new Map([["proxy",nt],["throw",it]]);function ot(e,t){for(let r of e)if(t===r||r==="*"||r instanceof RegExp&&r.test(t))return!0;return!1}function E(e,t=globalThis,r=["*"]){t.addEventListener("message",function a(n){if(!n||!n.data)return;if(!ot(r,n.origin)){console.warn(`Invalid origin '${n.origin}' for comlink proxy`);return}let{id:o,type:i,path:l}=Object.assign({path:[]},n.data),c=(n.data.argumentList||[]).map(b),u;try{let d=l.slice(0,-1).reduce((p,m)=>p[m],e),f=l.reduce((p,m)=>p[m],e);switch(i){case"GET":u=f;break;case"SET":d[l.slice(-1)[0]]=b(n.data.value),u=!0;break;case"APPLY":u=f.apply(d,c);break;case"CONSTRUCT":{let p=new f(...c);u=z(p)}break;case"ENDPOINT":{let{port1:p,port2:m}=new MessageChannel;E(e,m),u=fe(p,[p])}break;case"RELEASE":u=void 0;break;default:return}}catch(d){u={value:d,[M]:0}}Promise.resolve(u).catch(d=>({value:d,[M]:0})).then(d=>{let[f,p]=B(d);t.postMessage(Object.assign(Object.assign({},f),{id:o}),p),i==="RELEASE"&&(t.removeEventListener("message",a),le(t),_ in e&&typeof e[_]=="function"&&e[_]())}).catch(d=>{let[f,p]=B({value:new TypeError("Unserializable return value"),[M]:0});t.postMessage(Object.assign(Object.assign({},f),{id:o}),p)})}),t.start&&t.start()}function at(e){return e.constructor.name==="MessagePort"}function le(e){at(e)&&e.close()}function W(e,t){return Y(e,[],t)}function N(e){if(e)throw new Error("Proxy has been released and is not useable")}function ce(e){return A(e,{type:"RELEASE"}).then(()=>{le(e)})}var D=new WeakMap,U="FinalizationRegistry"in globalThis&&new FinalizationRegistry(e=>{let t=(D.get(e)||0)-1;D.set(e,t),t===0&&ce(e)});function st(e,t){let r=(D.get(t)||0)+1;D.set(t,r),U&&U.register(e,t,e)}function lt(e){U&&U.unregister(e)}function Y(e,t=[],r=function(){}){let a=!1,n=new Proxy(r,{get(o,i){if(N(a),i===ae)return()=>{lt(n),ce(e),a=!0};if(i==="then"){if(t.length===0)return{then:()=>n};let l=A(e,{type:"GET",path:t.map(c=>c.toString())}).then(b);return l.then.bind(l)}return Y(e,[...t,i])},set(o,i,l){N(a);let[c,u]=B(l);return A(e,{type:"SET",path:[...t,i].map(d=>d.toString()),value:c},u).then(b)},apply(o,i,l){N(a);let c=t[t.length-1];if(c===H)return A(e,{type:"ENDPOINT"}).then(b);if(c==="bind")return Y(e,t.slice(0,-1));let[u,d]=oe(l);return A(e,{type:"APPLY",path:t.map(f=>f.toString()),argumentList:u},d).then(b)},construct(o,i){N(a);let[l,c]=oe(i);return A(e,{type:"CONSTRUCT",path:t.map(u=>u.toString()),argumentList:l},c).then(b)}});return st(n,e),n}function ct(e){return Array.prototype.concat.apply([],e)}function oe(e){let t=e.map(B);return[t.map(r=>r[0]),ct(t.map(r=>r[1]))]}var ue=new WeakMap;function fe(e,t){return ue.set(e,t),e}function z(e){return Object.assign(e,{[Z]:!0})}function ut(e,t=globalThis,r="*"){return{postMessage:(a,n)=>e.postMessage(a,r,n),addEventListener:t.addEventListener.bind(t),removeEventListener:t.removeEventListener.bind(t)}}function B(e){for(let[t,r]of w)if(r.canHandle(e)){let[a,n]=r.serialize(e);return[{type:"HANDLER",name:t,value:a},n]}return[{type:"RAW",value:e},ue.get(e)||[]]}function b(e){switch(e.type){case"HANDLER":return w.get(e.name).deserialize(e.value);case"RAW":return e.value}}function A(e,t,r){return new Promise(a=>{let n=ft();e.addEventListener("message",function o(i){!i.data||!i.data.id||i.data.id!==n||(e.removeEventListener("message",o),a(i.data))}),e.start&&e.start(),e.postMessage(Object.assign({id:n},t),r)})}function ft(){return new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-")}var dt=Object.defineProperty,s=(e,t)=>dt(e,"name",{value:t,configurable:!0}),me=(e=>typeof P<"u"?P:typeof Proxy<"u"?new Proxy(e,{get:(t,r)=>(typeof P<"u"?P:t)[r]}):e)(function(e){if(typeof P<"u")return P.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')}),pt=(()=>{for(var e=new Uint8Array(128),t=0;t<64;t++)e[t<26?t+65:t<52?t+71:t<62?t-4:t*4-205]=t;return r=>{for(var a=r.length,n=new Uint8Array((a-(r[a-1]=="=")-(r[a-2]=="="))*3/4|0),o=0,i=0;o<a;){var l=e[r.charCodeAt(o++)],c=e[r.charCodeAt(o++)],u=e[r.charCodeAt(o++)],d=e[r.charCodeAt(o++)];n[i++]=l<<2|c>>4,n[i++]=c<<4|u>>2,n[i++]=u<<6|d}return n}})();function ye(e){return!isNaN(parseFloat(e))&&isFinite(e)}s(ye,"_isNumber");function h(e){return e.charAt(0).toUpperCase()+e.substring(1)}s(h,"_capitalize");function j(e){return function(){return this[e]}}s(j,"_getter");var C=["isConstructor","isEval","isNative","isToplevel"],T=["columnNumber","lineNumber"],F=["fileName","functionName","source"],mt=["args"],yt=["evalOrigin"],V=C.concat(T,F,mt,yt);function y(e){if(e)for(var t=0;t<V.length;t++)e[V[t]]!==void 0&&this["set"+h(V[t])](e[V[t]])}s(y,"StackFrame");y.prototype={getArgs:s(function(){return this.args},"getArgs"),setArgs:s(function(e){if(Object.prototype.toString.call(e)!=="[object Array]")throw new TypeError("Args must be an Array");this.args=e},"setArgs"),getEvalOrigin:s(function(){return this.evalOrigin},"getEvalOrigin"),setEvalOrigin:s(function(e){if(e instanceof y)this.evalOrigin=e;else if(e instanceof Object)this.evalOrigin=new y(e);else throw new TypeError("Eval Origin must be an Object or StackFrame")},"setEvalOrigin"),toString:s(function(){var e=this.getFileName()||"",t=this.getLineNumber()||"",r=this.getColumnNumber()||"",a=this.getFunctionName()||"";return this.getIsEval()?e?"[eval] ("+e+":"+t+":"+r+")":"[eval]:"+t+":"+r:a?a+" ("+e+":"+t+":"+r+")":e+":"+t+":"+r},"toString")};y.fromString=s(function(e){var t=e.indexOf("("),r=e.lastIndexOf(")"),a=e.substring(0,t),n=e.substring(t+1,r).split(","),o=e.substring(r+1);if(o.indexOf("@")===0)var i=/@(.+?)(?::(\d+))?(?::(\d+))?$/.exec(o,""),l=i[1],c=i[2],u=i[3];return new y({functionName:a,args:n||void 0,fileName:l,lineNumber:c||void 0,columnNumber:u||void 0})},"StackFrame$$fromString");for(v=0;v<C.length;v++)y.prototype["get"+h(C[v])]=j(C[v]),y.prototype["set"+h(C[v])]=function(e){return function(t){this[e]=!!t}}(C[v]);var v;for(k=0;k<T.length;k++)y.prototype["get"+h(T[k])]=j(T[k]),y.prototype["set"+h(T[k])]=function(e){return function(t){if(!ye(t))throw new TypeError(e+" must be a Number");this[e]=Number(t)}}(T[k]);var k;for(x=0;x<F.length;x++)y.prototype["get"+h(F[x])]=j(F[x]),y.prototype["set"+h(F[x])]=function(e){return function(t){this[e]=String(t)}}(F[x]);var x,J=y;function ge(){var e=/^\s*at .*(\S+:\d+|\(native\))/m,t=/^(eval@)?(\[native code])?$/;return{parse:s(function(r){if(r.stack&&r.stack.match(e))return this.parseV8OrIE(r);if(r.stack)return this.parseFFOrSafari(r);throw new Error("Cannot parse given Error object")},"ErrorStackParser$$parse"),extractLocation:s(function(r){if(r.indexOf(":")===-1)return[r];var a=/(.+?)(?::(\d+))?(?::(\d+))?$/,n=a.exec(r.replace(/[()]/g,""));return[n[1],n[2]||void 0,n[3]||void 0]},"ErrorStackParser$$extractLocation"),parseV8OrIE:s(function(r){var a=r.stack.split(`
`).filter(function(n){return!!n.match(e)},this);return a.map(function(n){n.indexOf("(eval ")>-1&&(n=n.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(,.*$)/g,""));var o=n.replace(/^\s+/,"").replace(/\(eval code/g,"(").replace(/^.*?\s+/,""),i=o.match(/ (\(.+\)$)/);o=i?o.replace(i[0],""):o;var l=this.extractLocation(i?i[1]:o),c=i&&o||void 0,u=["eval","<anonymous>"].indexOf(l[0])>-1?void 0:l[0];return new J({functionName:c,fileName:u,lineNumber:l[1],columnNumber:l[2],source:n})},this)},"ErrorStackParser$$parseV8OrIE"),parseFFOrSafari:s(function(r){var a=r.stack.split(`
`).filter(function(n){return!n.match(t)},this);return a.map(function(n){if(n.indexOf(" > eval")>-1&&(n=n.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")),n.indexOf("@")===-1&&n.indexOf(":")===-1)return new J({functionName:n});var o=/((.*".+"[^@]*)?[^@]*)(?:@)/,i=n.match(o),l=i&&i[1]?i[1]:void 0,c=this.extractLocation(n.replace(o,""));return new J({functionName:l,fileName:c[0],lineNumber:c[1],columnNumber:c[2],source:n})},this)},"ErrorStackParser$$parseFFOrSafari")}}s(ge,"ErrorStackParser");var gt=new ge,wt=gt,g=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string"&&!process.browser,we=g&&typeof module<"u"&&typeof module.exports<"u"&&typeof me<"u"&&typeof __dirname<"u",ht=g&&!we,Nt=typeof globalThis.Bun<"u",Pt=typeof Deno<"u",he=!g&&!Pt,bt=he&&typeof window=="object"&&typeof document=="object"&&typeof document.createElement=="function"&&"sessionStorage"in window&&typeof importScripts!="function",Et=he&&typeof importScripts=="function"&&typeof self=="object",_t=typeof navigator=="object"&&typeof navigator.userAgent=="string"&&navigator.userAgent.indexOf("Chrome")==-1&&navigator.userAgent.indexOf("Safari")>-1,q=typeof read=="function"&&typeof load=="function",Pe,K,be,pe,Q;async function ee(){if(!g||(Pe=(await import("node:url")).default,pe=await import("node:fs"),Q=await import("node:fs/promises"),be=(await import("node:vm")).default,K=await import("node:path"),te=K.sep,typeof me<"u"))return;let e=pe,t=await import("node:crypto"),r=await Promise.resolve().then(()=>rt(de(),1)),a=await import("node:child_process"),n={fs:e,crypto:t,ws:r,child_process:a};globalThis.require=function(o){return n[o]}}s(ee,"initNodeModules");function Ee(e,t){return K.resolve(t||".",e)}s(Ee,"node_resolvePath");function ve(e,t){return t===void 0&&(t=location),new URL(e,t).toString()}s(ve,"browser_resolvePath");var I;g?I=Ee:q?I=s(e=>e,"resolvePath"):I=ve;var te;g||(te="/");function ke(e,t){return e.startsWith("file://")&&(e=e.slice(7)),e.includes("://")?{response:fetch(e)}:{binary:Q.readFile(e).then(r=>new Uint8Array(r.buffer,r.byteOffset,r.byteLength))}}s(ke,"node_getBinaryResponse");function xe(e,t){if(e.startsWith("file://")&&(e=e.slice(7)),e.includes("://"))throw new Error("Shell cannot fetch urls");return{binary:Promise.resolve(new Uint8Array(readbuffer(e)))}}s(xe,"shell_getBinaryResponse");function Se(e,t){let r=new URL(e,location);return{response:fetch(r,t?{integrity:t}:{})}}s(Se,"browser_getBinaryResponse");var L;g?L=ke:q?L=xe:L=Se;async function Ae(e,t){let{response:r,binary:a}=L(e,t);if(a)return a;let n=await r;if(!n.ok)throw new Error(`Failed to load '${e}': request failed.`);return new Uint8Array(await n.arrayBuffer())}s(Ae,"loadBinaryFile");var O;if(bt)O=s(async e=>await import(e),"loadScript");else if(Et)O=s(async e=>{try{globalThis.importScripts(e)}catch(t){if(t instanceof TypeError)await import(e);else throw t}},"loadScript");else if(g)O=Ce;else if(q)O=load;else throw new Error("Cannot determine runtime environment");async function Ce(e){e.startsWith("file://")&&(e=e.slice(7)),e.includes("://")?be.runInThisContext(await(await fetch(e)).text()):await import(Pe.pathToFileURL(e).href)}s(Ce,"nodeLoadScript");async function Te(e){if(g){await ee();let t=await Q.readFile(e,{encoding:"utf8"});return JSON.parse(t)}else if(q){let t=read(e);return JSON.parse(t)}else return await(await fetch(e)).json()}s(Te,"loadLockFile");async function Fe(){if(we)return __dirname;let e;try{throw new Error}catch(a){e=a}let t=wt.parse(e)[0].fileName;if(g&&!t.startsWith("file://")&&(t=`file://${t}`),ht){let a=await import("node:path");return(await import("node:url")).fileURLToPath(a.dirname(t))}let r=t.lastIndexOf(te);if(r===-1)throw new Error("Could not extract indexURL path from pyodide module location");return t.slice(0,r)}s(Fe,"calculateDirname");function Oe(e){return e.substring(0,e.lastIndexOf("/")+1)||globalThis.location?.toString()||"."}s(Oe,"calculateInstallBaseUrl");function Ie(e){let t=e.FS,r=e.FS.filesystems.MEMFS,a=e.PATH,n={DIR_MODE:16895,FILE_MODE:33279,mount:s(function(o){if(!o.opts.fileSystemHandle)throw new Error("opts.fileSystemHandle is required");return r.mount.apply(null,arguments)},"mount"),syncfs:s(async(o,i,l)=>{try{let c=n.getLocalSet(o),u=await n.getRemoteSet(o),d=i?u:c,f=i?c:u;await n.reconcile(o,d,f),l(null)}catch(c){l(c)}},"syncfs"),getLocalSet:s(o=>{let i=Object.create(null);function l(d){return d!=="."&&d!==".."}s(l,"isRealDir");function c(d){return f=>a.join2(d,f)}s(c,"toAbsolute");let u=t.readdir(o.mountpoint).filter(l).map(c(o.mountpoint));for(;u.length;){let d=u.pop(),f=t.stat(d);t.isDir(f.mode)&&u.push.apply(u,t.readdir(d).filter(l).map(c(d))),i[d]={timestamp:f.mtime,mode:f.mode}}return{type:"local",entries:i}},"getLocalSet"),getRemoteSet:s(async o=>{let i=Object.create(null),l=await vt(o.opts.fileSystemHandle);for(let[c,u]of l)c!=="."&&(i[a.join2(o.mountpoint,c)]={timestamp:u.kind==="file"?new Date((await u.getFile()).lastModified):new Date,mode:u.kind==="file"?n.FILE_MODE:n.DIR_MODE});return{type:"remote",entries:i,handles:l}},"getRemoteSet"),loadLocalEntry:s(o=>{let i=t.lookupPath(o).node,l=t.stat(o);if(t.isDir(l.mode))return{timestamp:l.mtime,mode:l.mode};if(t.isFile(l.mode))return i.contents=r.getFileDataAsTypedArray(i),{timestamp:l.mtime,mode:l.mode,contents:i.contents};throw new Error("node type not supported")},"loadLocalEntry"),storeLocalEntry:s((o,i)=>{if(t.isDir(i.mode))t.mkdirTree(o,i.mode);else if(t.isFile(i.mode))t.writeFile(o,i.contents,{canOwn:!0});else throw new Error("node type not supported");t.chmod(o,i.mode),t.utime(o,i.timestamp,i.timestamp)},"storeLocalEntry"),removeLocalEntry:s(o=>{var i=t.stat(o);t.isDir(i.mode)?t.rmdir(o):t.isFile(i.mode)&&t.unlink(o)},"removeLocalEntry"),loadRemoteEntry:s(async o=>{if(o.kind==="file"){let i=await o.getFile();return{contents:new Uint8Array(await i.arrayBuffer()),mode:n.FILE_MODE,timestamp:new Date(i.lastModified)}}else{if(o.kind==="directory")return{mode:n.DIR_MODE,timestamp:new Date};throw new Error("unknown kind: "+o.kind)}},"loadRemoteEntry"),storeRemoteEntry:s(async(o,i,l)=>{let c=o.get(a.dirname(i)),u=t.isFile(l.mode)?await c.getFileHandle(a.basename(i),{create:!0}):await c.getDirectoryHandle(a.basename(i),{create:!0});if(u.kind==="file"){let d=await u.createWritable();await d.write(l.contents),await d.close()}o.set(i,u)},"storeRemoteEntry"),removeRemoteEntry:s(async(o,i)=>{await o.get(a.dirname(i)).removeEntry(a.basename(i)),o.delete(i)},"removeRemoteEntry"),reconcile:s(async(o,i,l)=>{let c=0,u=[];Object.keys(i.entries).forEach(function(p){let m=i.entries[p],S=l.entries[p];(!S||t.isFile(m.mode)&&m.timestamp.getTime()>S.timestamp.getTime())&&(u.push(p),c++)}),u.sort();let d=[];if(Object.keys(l.entries).forEach(function(p){i.entries[p]||(d.push(p),c++)}),d.sort().reverse(),!c)return;let f=i.type==="remote"?i.handles:l.handles;for(let p of u){let m=a.normalize(p.replace(o.mountpoint,"/")).substring(1);if(l.type==="local"){let S=f.get(m),Ge=await n.loadRemoteEntry(S);n.storeLocalEntry(p,Ge)}else{let S=n.loadLocalEntry(p);await n.storeRemoteEntry(f,m,S)}}for(let p of d)if(l.type==="local")n.removeLocalEntry(p);else{let m=a.normalize(p.replace(o.mountpoint,"/")).substring(1);await n.removeRemoteEntry(f,m)}},"reconcile")};e.FS.filesystems.NATIVEFS_ASYNC=n}s(Ie,"initializeNativeFS");var vt=s(async e=>{let t=[];async function r(n){for await(let o of n.values())t.push(o),o.kind==="directory"&&await r(o)}s(r,"collect"),await r(e);let a=new Map;a.set(".",e);for(let n of t){let o=(await e.resolve(n)).join("/");a.set(o,n)}return a},"getFsHandles"),kt=pt("AGFzbQEAAAABDANfAGAAAW9gAW8BfwMDAgECByECD2NyZWF0ZV9zZW50aW5lbAAAC2lzX3NlbnRpbmVsAAEKEwIHAPsBAPsbCwkAIAD7GvsUAAs="),xt=async function(){if(!(globalThis.navigator&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||navigator.platform==="MacIntel"&&typeof navigator.maxTouchPoints<"u"&&navigator.maxTouchPoints>1))){return;try{let e=await WebAssembly.compile(kt);return await WebAssembly.instantiate(e)}catch(e){if(e instanceof WebAssembly.CompileError)return;throw e}}}();async function Le(){let e=await xt;if(e)return e.exports;let t=Symbol("error marker");return{create_sentinel:s(()=>t,"create_sentinel"),is_sentinel:s(r=>r===t,"is_sentinel")}}s(Le,"getSentinelImport");function Re(e){let t={noImageDecoding:!0,noAudioDecoding:!0,noWasmDecoding:!1,preRun:Be(e),print:e.stdout,printErr:e.stderr,onExit(r){t.exitCode=r},thisProgram:e._sysExecutable,arguments:e.args,API:{config:e},locateFile:s(r=>e.indexURL+r,"locateFile"),instantiateWasm:He(e.indexURL)};return t}s(Re,"createSettings");function Ne(e){return function(t){let r="/";try{t.FS.mkdirTree(e)}catch(a){console.error(`Error occurred while making a home directory '${e}':`),console.error(a),console.error(`Using '${r}' for a home directory instead`),e=r}t.FS.chdir(e)}}s(Ne,"createHomeDirectory");function _e(e){return function(t){Object.assign(t.ENV,e)}}s(_e,"setEnvironment");function Me(e){return e?[async t=>{t.addRunDependency("fsInitHook");try{await e(t.FS,{sitePackages:t.API.sitePackages})}finally{t.removeRunDependency("fsInitHook")}}]:[]}s(Me,"callFsInitHook");function De(e){let t=e.HEAPU32[e._Py_Version>>>2],r=t>>>24&255,a=t>>>16&255,n=t>>>8&255;return[r,a,n]}s(De,"computeVersionTuple");function Ue(e){let t=Ae(e);return async r=>{r.API.pyVersionTuple=De(r);let[a,n]=r.API.pyVersionTuple;r.FS.mkdirTree("/lib"),r.API.sitePackages=`/lib/python${a}.${n}/site-packages`,r.FS.mkdirTree(r.API.sitePackages),r.addRunDependency("install-stdlib");try{let o=await t;r.FS.writeFile(`/lib/python${a}${n}.zip`,o)}catch(o){console.error("Error occurred while installing the standard library:"),console.error(o)}finally{r.removeRunDependency("install-stdlib")}}}s(Ue,"installStdlib");function Be(e){let t;return e.stdLibURL!=null?t=e.stdLibURL:t=e.indexURL+"python_stdlib.zip",[Ue(t),Ne(e.env.HOME),_e(e.env),Ie,...Me(e.fsInit)]}s(Be,"getFileSystemInitializationFuncs");function He(e){if(typeof WasmOffsetConverter<"u")return;let{binary:t,response:r}=L(e+"pyodide.asm.wasm"),a=Le();return function(n,o){return async function(){n.sentinel=await a;try{let i;r?i=await WebAssembly.instantiateStreaming(r,n):i=await WebAssembly.instantiate(await t,n);let{instance:l,module:c}=i;o(l,c)}catch(i){console.warn("wasm instantiation failed!"),console.warn(i)}}(),{}}}s(He,"getInstantiateWasmFunc");var St="0.28.1",X=St;async function re(e={}){if(e.lockFileContents&&e.lockFileURL)throw new Error("Can't pass both lockFileContents and lockFileURL");await ee();let t=e.indexURL||await Fe();t=I(t),t.endsWith("/")||(t+="/");let r=e;if(!e.lockFileContents){let f=e.lockFileURL??t+"pyodide-lock.json";r.lockFileContents=Te(f),r.packageBaseUrl??=Oe(f)}if(r.indexURL=t,r.cdnUrl=r.packageBaseUrl??`https://cdn.jsdelivr.net/pyodide/v${X}/full/`,e.packageCacheDir){let f=I(e.packageCacheDir);f.endsWith("/")||(f+="/"),e.packageCacheDir=f}let a={fullStdLib:!1,jsglobals:globalThis,stdin:globalThis.prompt?globalThis.prompt:void 0,args:[],env:{},packages:[],packageCacheDir:r.packageBaseUrl,enableRunUntilComplete:!0,checkAPIVersion:!0,BUILD_ID:"0c0e2ff761547b9adb2156e2c54b8f253cfb8209e53008729249c6f0bed76fff"},n=Object.assign(a,r);n.env.HOME??="/home/pyodide",n.env.PYTHONINSPECT??="1";let o=Re(n),i=o.API;if(i.lockFilePromise=Promise.resolve(r.lockFileContents),typeof _createPyodideModule!="function"){let f=`${n.indexURL}pyodide.asm.js`;await O(f)}let l;if(e._loadSnapshot){let f=await e._loadSnapshot;ArrayBuffer.isView(f)?l=f:l=new Uint8Array(f),o.noInitialRun=!0,o.INITIAL_MEMORY=l.length}let c=await _createPyodideModule(o);if(o.exitCode!==void 0)throw new c.ExitStatus(o.exitCode);if(e.pyproxyToStringRepr&&i.setPyProxyToStringMethod(!0),e.convertNullToNone&&i.setCompatNullToNone(!0),i.version!==X&&n.checkAPIVersion)throw new Error(`Pyodide version does not match: '${X}' <==> '${i.version}'. If you updated the Pyodide version, make sure you also updated the 'indexURL' parameter passed to loadPyodide.`);c.locateFile=f=>{throw f.endsWith(".so")?new Error(`Failed to find dynamic library "${f}"`):new Error(`Unexpected call to locateFile("${f}")`)};let u;l&&(u=i.restoreSnapshot(l));let d=i.finalizeBootstrap(u,e._snapshotDeserializer);return i.sys.path.insert(0,""),i._pyodide.set_excepthook(),await i.packageIndexReady,i.initializeStreams(n.stdin,n.stdout,n.stderr),d}s(re,"loadPyodide");function ne(e){return typeof ImageBitmap<"u"&&e instanceof ImageBitmap}function R(e,t,r,...a){return e==null||ne(e)||e instanceof ArrayBuffer||ArrayBuffer.isView(e)?e:t(e)?r(e,...a):Array.isArray(e)?e.map(n=>R(n,t,r,...a)):typeof e=="object"?Object.fromEntries(Object.entries(e).map(([n,o])=>[n,R(o,t,r,...a)])):e}function At(e){return e&&e[Symbol.toStringTag]=="PyProxy"}function We(e){return e&&!!e[H]}function Ct(e){return e&&typeof e=="object"&&"_comlinkProxy"in e&&"ptr"in e}function Tt(e){return e&&e[Symbol.toStringTag]=="Map"}function ie(e){if(We(e))return!0;if(e==null||e instanceof ArrayBuffer||ArrayBuffer.isView(e))return!1;if(e instanceof Array)return e.some(t=>ie(t));if(typeof e=="object")return Object.entries(e).some(([t,r])=>ie(r))}var ze={},$e={canHandle:At,serialize(e){let t=self.pyodide._module.PyProxy_getPtr(e);ze[t]=e;let{port1:r,port2:a}=new MessageChannel;return E(e,r),[[a,t],[a]]},deserialize([e,t]){e.start();let r=W(e);return new Proxy(r,{get:(n,o)=>o==="_ptr"?t:n[o]})}},Ve={canHandle:ie,serialize(e){return[R(e,We,t=>({_comlinkProxy:!0,ptr:t._ptr})),[]]},deserialize(e){return R(e,Ct,t=>ze[t.ptr])}},je={canHandle:ne,serialize(e){if(e.width==0&&e.height==0){let t=new OffscreenCanvas(1,1);t.getContext("2d"),e=t.transferToImageBitmap()}return[e,[e]]},deserialize(e){return e}},qe={canHandle:Tt,serialize(e){return[Object.fromEntries(e.entries()),[]]},deserialize(e){return e}};var Ft={mkdirTree(e){self.pyodide._FS.mkdirTree(e)},writeFile(e,t){self.pyodide._FS.writeFile(e,t)}};async function Ot(e){return self.pyodide=await re(e),self.pyodide.registerComlink($),self.pyodide._FS=self.pyodide.FS,self.pyodide.FS={...self.pyodide.FS,...Ft},w.set("PyProxy",$e),w.set("Comlink",Ve),w.set("ImageBitmap",je),w.set("Map",qe),w.delete("throw"),z(self.pyodide)}E({init:Ot});
/*! Bundled license information:

comlink/dist/esm/comlink.mjs:
  (**
   * @license
   * Copyright 2019 Google LLC
   * SPDX-License-Identifier: Apache-2.0
   *)
*/
