<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.5">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Sam Foreman">
<meta name="dcterms.date" content="2024-08-23">

<title>ğŸ‹ ezpz @ ALCF â€“ Sam Foreman</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../assets/favicon.svg" rel="icon" type="image/svg+xml">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-ab55ac4bb8c33fe11323d58632b98e13.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../../site_libs/bootstrap/bootstrap-dark-b314661734670aec793591cff1b135c1.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script src="../../site_libs/quarto-contrib/iconify-2.1.0/iconify-icon.min.js"></script>
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "?",
    "H"
  ],
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-XVM2Y822Y1"></script>

<script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-XVM2Y822Y1', { 'anonymize_ip': true});
</script>
<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-TC329HJ');</script>
<!-- End Google Tag Manager -->

  <script>window.backupDefine = window.define; window.define = undefined;</script><script src="https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.js"></script>
  <script>document.addEventListener("DOMContentLoaded", function () {
 var mathElements = document.getElementsByClassName("math");
 var macros = [];
 for (var i = 0; i < mathElements.length; i++) {
  var texText = mathElements[i].firstChild;
  if (mathElements[i].tagName == "SPAN") {
   katex.render(texText.data, mathElements[i], {
    displayMode: mathElements[i].classList.contains('display'),
    throwOnError: false,
    macros: macros,
    fleqn: false
   });
}}});
  </script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.css">

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="../../css/custom.css">
<link rel="stylesheet" href="../../includes/fonts/IosevkaSFNormalSans/IosevkaSFNormalSans.css">
<link rel="stylesheet" href="../../static/fonts/IosevkaSansTerminalss15Custom/IosevkaSansTerminalss15Custom.css">
<link rel="stylesheet" href="../../css/custom.css">
<link rel="stylesheet" href="../../css/svgbob.css">
<link rel="stylesheet" href="../../static/fonts/IosevkaAileSansQPss15/IosevkaAileSansQPss15.css">
<link rel="stylesheet" href="../../static/fonts/IosevkaSansTerminalss15Custom/IosevkaSansTerminalss15Custom.css">
<link rel="stylesheet" href="../../includes/fonts/IosevkaSFNormalSans/IosevkaSFNormalSans.css">
<link rel="stylesheet" href="../../static/fonts/PkgWebFont-IosevkaAile-32.3.0/IosevkaAile.css">
<meta property="og:title" content="ğŸ‹ ezpz @ ALCF">
<meta property="og:description" content="ğŸ‹ ezpz at ALCF">
<meta property="og:image" content="https://samforeman.me/posts/ezpz-at-alcf/assets/thumbnail.png">
<meta property="og:site_name" content="Sam Foreman">
<meta name="twitter:title" content="ğŸ‹ ezpz @ ALCF">
<meta name="twitter:description" content="ğŸ‹ ezpz at ALCF">
<meta name="twitter:image" content="https://samforeman.me/posts/ezpz-at-alcf/assets/thumbnail.png">
<meta name="twitter:creator" content="saforem2">
<meta name="twitter:site" content="saforem2">
<meta name="twitter:card" content="summary_large_image">
<meta name="citation_title" content="ğŸ‹ ezpz at ALCF">
<meta name="citation_author" content="Sam Foreman">
<meta name="citation_publication_date" content="2024-08-23">
<meta name="citation_cover_date" content="2024-08-23">
<meta name="citation_year" content="2024">
<meta name="citation_online_date" content="2024-08-23">
<meta name="citation_fulltext_html_url" content="https://samforeman.me/posts/ezpz-at-alcf">
<meta name="citation_language" content="en">
<meta name="citation_reference" content="citation_title=Superconductivity of in and sn samples;,citation_author=George Deamont;,citation_author=Sam Foreman;,citation_publication_date=2014;,citation_cover_date=2014;,citation_year=2014;">
<meta name="citation_reference" content="citation_title=RG-inspired machine learning for lattice field theory;,citation_author=Sam Foreman;,citation_author=Joel Giedt;,citation_author=Yannick Meurice;,citation_author=Judah Unmuth-Yockey;,citation_publication_date=2018;,citation_cover_date=2018;,citation_year=2018;,citation_volume=175;,citation_conference_title=EPJ web of conferences;,citation_conference=EDP Sciences;">
<meta name="citation_reference" content="citation_title=Large energy density in three-plate nanocapacitors due to coulomb blockade;,citation_author=A Hubler;,citation_author=S Foreman;,citation_author=J Liu;,citation_author=L Wortsmann;,citation_publication_date=2018;,citation_cover_date=2018;,citation_year=2018;,citation_issue=10;,citation_volume=123;,citation_journal_title=Journal of Applied Physics;,citation_publisher=AIP Publishing;">
<meta name="citation_reference" content="citation_title=Examples of renormalization group transformations for image sets;,citation_author=Samuel Foreman;,citation_author=Joel Giedt;,citation_author=Yannick Meurice;,citation_author=Judah Unmuth-Yockey;,citation_publication_date=2018;,citation_cover_date=2018;,citation_year=2018;,citation_issue=5;,citation_volume=98;,citation_journal_title=Physical Review E;,citation_publisher=American Physical Society;">
<meta name="citation_reference" content="citation_title=Machine learning inspired analysis of the ising model transition;,citation_author=Samuel Foreman;,citation_author=Joel Giedt;,citation_author=Yannick Meurice;,citation_author=Judah Unmuth-Yockey;,citation_publication_date=2018;,citation_cover_date=2018;,citation_year=2018;,citation_conference_title=Lattice 2018;">
<meta name="citation_reference" content="citation_title=Learning better physics: A machine learning approach to lattice gauge theory;,citation_author=Samuel Alfred Foreman;,citation_publication_date=2019;,citation_cover_date=2019;,citation_year=2019;,citation_dissertation_institution=University of Iowa;">
<meta name="citation_reference" content="citation_title=Machine learning and neural networks for field theory;,citation_author=Sam Foreman;,citation_author=Xiao-Yong Jin;,citation_author=James C Osborn;,citation_publication_date=2020;,citation_cover_date=2020;,citation_year=2020;">
<meta name="citation_reference" content="citation_title=Deep learning hamiltonian monte carlo;,citation_author=Sam Foreman;,citation_author=Xiao-Yong Jin;,citation_author=James C Osborn;,citation_publication_date=2021;,citation_cover_date=2021;,citation_year=2021;,citation_journal_title=arXiv preprint arXiv:2105.03418;">
<meta name="citation_reference" content="citation_title=HMC with normalizing flows;,citation_author=Sam Foreman;,citation_author=Taku Izubuchi;,citation_author=Luchang Jin;,citation_author=Xiao-Yong Jin;,citation_author=James C Osborn;,citation_author=Akio Tomiya;,citation_publication_date=2021;,citation_cover_date=2021;,citation_year=2021;,citation_journal_title=arXiv preprint arXiv:2112.01586;">
<meta name="citation_reference" content="citation_title=LeapfrogLayers: A trainable framework for effective topological sampling;,citation_author=Sam Foreman;,citation_author=Xiao-Yong Jin;,citation_author=James C Osborn;,citation_publication_date=2021;,citation_cover_date=2021;,citation_year=2021;,citation_journal_title=arXiv preprint arXiv:2112.01582;">
<meta name="citation_reference" content="citation_title=Energy storage in quantum resonators;,citation_author=Jiaqi Liu;,citation_author=Alfred W Hubler;,citation_author=Samuel Alfred Foreman;,citation_author=Katharina Ott;,citation_publication_date=2017;,citation_cover_date=2017;,citation_year=2017;">
<meta name="citation_reference" content="citation_title=Applications of machine learning to lattice quantum field theory;,citation_author=Denis Boyda;,citation_author=Salvatore CalÄ±Ì€;,citation_author=Sam Foreman;,citation_author=Lena Funcke;,citation_author=Daniel C Hackett;,citation_author=Yin Lin;,citation_author=Gert Aarts;,citation_author=Andrei Alexandru;,citation_author=Xiao-Yong Jin;,citation_author=Biagio Lucini;,citation_author=others;,citation_publication_date=2022;,citation_cover_date=2022;,citation_year=2022;,citation_journal_title=arXiv preprint arXiv:2202.05838;">
<meta name="citation_reference" content="citation_title=Lattice QCD and particle physics;,citation_author=Andreas S Kronfeld;,citation_author=Tanmoy Bhattacharya;,citation_author=Thomas Blum;,citation_author=Norman H Christ;,citation_author=Carleton DeTar;,citation_author=William Detmold;,citation_author=Robert Edwards;,citation_author=Anna Hasenfratz;,citation_author=Huey-Wen Lin;,citation_author=Swagato Mukherjee;,citation_author=others;,citation_publication_date=2022;,citation_cover_date=2022;,citation_year=2022;,citation_journal_title=arXiv preprint arXiv:2207.07641;">
<meta name="citation_reference" content="citation_title=GenSLMs: Genome-scale language models reveal SARS-CoV-2 evolutionary dynamics;,citation_author=Maxim Zvyagin;,citation_author=Alexander Brace;,citation_author=Kyle Hippe;,citation_author=Yuntian Deng;,citation_author=Bin Zhang;,citation_author=Cindy Orozco Bohorquez;,citation_author=Austin Clyde;,citation_author=Bharat Kale;,citation_author=Danilo Perez-Rivera;,citation_author=Heng Ma;,citation_author=others;,citation_publication_date=2023;,citation_cover_date=2023;,citation_year=2023;,citation_issue=6;,citation_volume=37;,citation_journal_title=The International Journal of High Performance Computing Applications;,citation_publisher=SAGE Publications Sage UK: London, England;">
<meta name="citation_reference" content="citation_title=MLMC: Machine learning monte carlo;,citation_author=Sam Foreman;,citation_publication_date=2023;,citation_cover_date=2023;,citation_year=2023;,citation_conference_title=The international symposium on lattice field theory;">
<meta name="citation_reference" content="citation_title=Superconductivity of in and sn samples;,citation_author=George Deamont;,citation_author=Sam Foreman;,citation_publication_date=2014;,citation_cover_date=2014;,citation_year=2014;">
<meta name="citation_reference" content="citation_title=A comprehensive performance study of large language models on novel AI accelerators;,citation_author=Murali Emani;,citation_author=Sam Foreman;,citation_author=Varuni Sastry;,citation_author=Zhen Xie;,citation_author=Siddhisanket Raskar;,citation_author=William Arnold;,citation_author=Rajeev Thakur;,citation_author=Venkatram Vishwanath;,citation_author=Michael E Papka;,citation_publication_date=2023;,citation_cover_date=2023;,citation_year=2023;,citation_journal_title=arXiv preprint arXiv:2310.04607;">
<meta name="citation_reference" content="citation_title=DeepSpeed4Science initiative: Enabling large-scale scientific discovery through sophisticated AI system technologies;,citation_author=Shuaiwen Leon Song;,citation_author=Bonnie Kruft;,citation_author=Minjia Zhang;,citation_author=Conglong Li;,citation_author=Shiyang Chen;,citation_author=Chengming Zhang;,citation_author=Masahiro Tanaka;,citation_author=Xiaoxia Wu;,citation_author=Jeff Rasley;,citation_author=Ammar Ahmad Awan;,citation_author=others;,citation_publication_date=2023;,citation_cover_date=2023;,citation_year=2023;,citation_journal_title=arXiv preprint arXiv:2310.04610;">
<meta name="citation_reference" content="citation_title=Protein generation via genome-scale language models with bio-physical scoring;,citation_author=Gautham Dharuman;,citation_author=Logan Ward;,citation_author=Heng Ma;,citation_author=Priyanka V Setty;,citation_author=Ozan Gokdemir;,citation_author=Sam Foreman;,citation_author=Murali Emani;,citation_author=Kyle Hippe;,citation_author=Alexander Brace;,citation_author=Kristopher Keipert;,citation_author=others;,citation_publication_date=2023;,citation_cover_date=2023;,citation_year=2023;,citation_conference_title=Proceedings of the SCâ€™23 workshops of the international conference on high performance computing, network, storage, and analysis;">
<meta name="citation_reference" content="citation_title=MLMC: Machine learning monte carlo for lattice gauge theory;,citation_author=Sam Foreman;,citation_author=Xiao-Yong Jin;,citation_author=James C Osborn;,citation_publication_date=2023;,citation_cover_date=2023;,citation_year=2023;,citation_journal_title=arXiv preprint arXiv:2312.08936;">
<meta name="citation_reference" content="citation_title=Snowmass 2021 computational frontier CompF03 topical group report: Machine learning;,citation_author=Phiala Shanahan;,citation_author=Kazuhiro Terao;,citation_author=Daniel Whiteson;,citation_publication_date=2022;,citation_cover_date=2022;,citation_year=2022;,citation_journal_title=arXiv preprint arXiv:2209.07559;">
<meta name="citation_reference" content="citation_title=Thorough characterization and analysis of large transformer model training at-scale;,citation_author=Scott Cheng;,citation_author=Jun-Liang Lin;,citation_author=Murali Emani;,citation_author=Siddhisanket Raskar;,citation_author=Sam Foreman;,citation_author=Zhen Xie;,citation_author=Venkatram Vishwanath;,citation_author=Mahmut Taylan Kandemir;,citation_publication_date=2024;,citation_cover_date=2024;,citation_year=2024;,citation_issue=1;,citation_volume=8;,citation_journal_title=Proceedings of the ACM on Measurement and Analysis of Computing Systems;,citation_publisher=ACM New York, NY, USA;">
<meta name="citation_reference" content="citation_title=Communities through energy justice projects;,citation_author=Mary Ann Leung;,citation_author=Katharine Cahill;,citation_author=Rebecca Hartman-Baker;,citation_author=Paige Kinsley;,citation_author=Lois Curfman McInnes;,citation_author=Suzanne Parete-Koon;,citation_author=Subil Abraham;,citation_author=Lacy Beach Barrier;,citation_author=Gladys Chen;,citation_author=Lizanne DeStefano;,citation_author=others;,citation_publication_date=2024;,citation_cover_date=2024;,citation_year=2024;,citation_issue=1;,citation_volume=15;,citation_journal_title=Journal of Computational Science;">
<meta name="citation_reference" content="citation_title=Applications of a foundation model approach for weather and climate;,citation_author=Troy Arcomano;,citation_author=Alexander Wikner;,citation_author=Romit Maulik;,citation_author=Veerabhadra Rao Kotamarthi;,citation_author=Sam Foreman;,citation_publication_date=2023;,citation_cover_date=2023;,citation_year=2023;,citation_volume=2023;,citation_conference_title=AGU fall meeting abstracts;">
<meta name="citation_reference" content="citation_title=Toward a holistic performance evaluation of large language models across diverse ai accelerators;,citation_author=Murali Emani;,citation_author=Sam Foreman;,citation_author=Varuni Sastry;,citation_author=Zhen Xie;,citation_author=Siddhisanket Raskar;,citation_author=William Arnold;,citation_author=Rajeev Thakur;,citation_author=Venkatram Vishwanath;,citation_author=Michael E Papka;,citation_author=Sanjif Shanmugavelu;,citation_author=others;,citation_publication_date=2024;,citation_cover_date=2024;,citation_year=2024;,citation_conference_title=2024 IEEE international parallel and distributed processing symposium workshops (IPDPSW);,citation_conference=IEEE;">
<meta name="citation_reference" content="citation_title=Intro to HPC bootcamp: Engaging new communities through energy justice projects;,citation_author=Suzanne Parete-Koon;,citation_author=Michael Sandoval;,citation_author=Kellen Leland;,citation_author=Subil Abraham;,citation_author=Mary Ann Leung;,citation_author=Rebecca Hartman-Baker;,citation_author=Paige Kinsley;,citation_author=Lois McInnes;,citation_author=Sreeranjani Ramprakash;,citation_author=Lacy Beach Barrier;,citation_author=others;,citation_publication_date=2024;,citation_cover_date=2024;,citation_year=2024;,citation_issue=1;,citation_volume=15;,citation_journal_title=Journal of Computational Science Education;,citation_publisher=Oak Ridge National Laboratory (ORNL), Oak Ridge, TN (United States);">
<meta name="citation_reference" content="citation_title=MProt-DPO: Breaking the ExaFLOPS barrier for multimodal protein design workflows with direct preference optimization;,citation_author=Gautham Dharuman;,citation_author=Kyle Hippe;,citation_author=Alexander Brace;,citation_author=Sam Foreman;,citation_author=VÃ¤inÃ¤ HatanpÃ¤Ã¤;,citation_author=Varuni K Sastry;,citation_author=Huihuo Zheng;,citation_author=Logan Ward;,citation_author=Servesh Muralidharan;,citation_author=Archit Vasan;,citation_author=others;,citation_publication_date=2024;,citation_cover_date=2024;,citation_year=2024;,citation_conference_title=2024 SC24: International conference for high performance computing, networking, storage and analysis SC;,citation_conference=IEEE Computer Society;">
<meta name="citation_reference" content="citation_title=Emergent abilities of large language models;,citation_author=Jason Wei;,citation_author=Yi Tay;,citation_author=Rishi Bommasani;,citation_author=Colin Raffel;,citation_author=Barret Zoph;,citation_author=Sebastian Borgeaud;,citation_author=Dani Yogatama;,citation_author=Maarten Bosma;,citation_author=Denny Zhou;,citation_author=Donald Metzler;,citation_author=Ed H. Chi;,citation_author=Tatsunori Hashimoto;,citation_author=Oriol Vinyals;,citation_author=Percy Liang;,citation_author=Jeff Dean;,citation_author=William Fedus;,citation_publication_date=2022;,citation_cover_date=2022;,citation_year=2022;,citation_fulltext_html_url=https://arxiv.org/abs/2206.07682;">
<meta name="citation_reference" content="citation_title=DeepSpeed4Science initiative: Enabling large-scale scientific discovery through sophisticated AI system technologies;,citation_author=Shuaiwen Leon Song;,citation_author=Bonnie Kruft;,citation_author=Minjia Zhang;,citation_author=Conglong Li;,citation_author=Shiyang Chen;,citation_author=Chengming Zhang;,citation_author=Masahiro Tanaka;,citation_author=Xiaoxia Wu;,citation_author=Jeff Rasley;,citation_author=Ammar Ahmad Awan;,citation_author=Connor Holmes;,citation_author=Martin Cai;,citation_author=Adam Ghanem;,citation_author=Zhongzhu Zhou;,citation_author=Yuxiong He;,citation_author=Pete Luferenko;,citation_author=Divya Kumar;,citation_author=Jonathan Weyn;,citation_author=Ruixiong Zhang;,citation_author=Sylwester Klocek;,citation_author=Volodymyr Vragov;,citation_author=Mohammed AlQuraishi;,citation_author=Gustaf Ahdritz;,citation_author=Christina Floristean;,citation_author=Cristina Negri;,citation_author=Rao Kotamarthi;,citation_author=Venkatram Vishwanath;,citation_author=Arvind Ramanathan;,citation_author=Sam Foreman;,citation_author=Kyle Hippe;,citation_author=Troy Arcomano;,citation_author=Romit Maulik;,citation_author=Maxim Zvyagin;,citation_author=Alexander Brace;,citation_author=Bin Zhang;,citation_author=Cindy Orozco Bohorquez;,citation_author=Austin Clyde;,citation_author=Bharat Kale;,citation_author=Danilo Perez-Rivera;,citation_author=Heng Ma;,citation_author=Carla M. Mann;,citation_author=Michael Irvin;,citation_author=J. Gregory Pauloski;,citation_author=Logan Ward;,citation_author=Valerie Hayot;,citation_author=Murali Emani;,citation_author=Zhen Xie;,citation_author=Diangen Lin;,citation_author=Maulik Shukla;,citation_author=Ian Foster;,citation_author=James J. Davis;,citation_author=Michael E. Papka;,citation_author=Thomas Brettin;,citation_author=Prasanna Balaprakash;,citation_author=Gina Tourassi;,citation_author=John Gounley;,citation_author=Heidi Hanson;,citation_author=Thomas E Potok;,citation_author=Massimiliano Lupo Pasini;,citation_author=Kate Evans;,citation_author=Dan Lu;,citation_author=Dalton Lunga;,citation_author=Junqi Yin;,citation_author=Sajal Dash;,citation_author=Feiyi Wang;,citation_author=Mallikarjun Shankar;,citation_author=Isaac Lyngaas;,citation_author=Xiao Wang;,citation_author=Guojing Cong;,citation_author=Pei Zhang;,citation_author=Ming Fan;,citation_author=Siyan Liu;,citation_author=Adolfy Hoisie;,citation_author=Shinjae Yoo;,citation_author=Yihui Ren;,citation_author=William Tang;,citation_author=Kyle Felker;,citation_author=Alexey Svyatkovskiy;,citation_author=Hang Liu;,citation_author=Ashwin Aji;,citation_author=Angela Dalton;,citation_author=Michael Schulte;,citation_author=Karl Schulz;,citation_author=Yuntian Deng;,citation_author=Weili Nie;,citation_author=Josh Romero;,citation_author=Christian Dallago;,citation_author=Arash Vahdat;,citation_author=Chaowei Xiao;,citation_author=Thomas Gibbs;,citation_author=Anima Anandkumar;,citation_author=Rick Stevens;,citation_publication_date=2023;,citation_cover_date=2023;,citation_year=2023;,citation_fulltext_html_url=https://arxiv.org/abs/2310.04610;">
<meta name="citation_reference" content="citation_title=Emergent abilities of large language models;,citation_author=Jason Wei;,citation_author=Yi Tay;,citation_author=Rishi Bommasani;,citation_author=Colin Raffel;,citation_author=Barret Zoph;,citation_author=Sebastian Borgeaud;,citation_author=Dani Yogatama;,citation_author=Maarten Bosma;,citation_author=Denny Zhou;,citation_author=Donald Metzler;,citation_author=Ed H. Chi;,citation_author=Tatsunori Hashimoto;,citation_author=Oriol Vinyals;,citation_author=Percy Liang;,citation_author=Jeff Dean;,citation_author=William Fedus;,citation_publication_date=2022;,citation_cover_date=2022;,citation_year=2022;,citation_fulltext_html_url=https://arxiv.org/abs/2206.07682;">
<meta name="citation_reference" content="citation_title=The climate risk &amp;amp;amp; resilience portal (ClimRR) metadata and data dictionary;,citation_author=C. Burdi;,citation_author=Wall. T Branham;,citation_publication_date=2023;,citation_cover_date=2023;,citation_year=2023;,citation_fulltext_html_url=https://dub.sh/ClimRR-Metadata;">
<meta name="citation_reference" content="citation_title=Progress on $(g-2)_\mu$ from lattice QCD;,citation_author=Hartmut Wittig;,citation_publication_date=2023;,citation_cover_date=2023;,citation_year=2023;,citation_fulltext_html_url=https://arxiv.org/abs/2306.04165;">
<meta name="citation_reference" content="citation_title=Hybrid Monte Carlo;,citation_author=S. Duane;,citation_author=A. D. Kennedy;,citation_author=B. J. Pendleton;,citation_author=D. Roweth;,citation_publication_date=1987;,citation_cover_date=1987;,citation_year=1987;,citation_doi=10.1016/0370-2693(87)91197-X;,citation_volume=195;,citation_journal_title=Phys. Lett. B;">
<meta name="citation_reference" content="citation_title=Snowmass 2021 Computational Frontier CompF03 Topical Group Report: Machine Learning;,citation_author=Phiala Shanahan;,citation_author=others;,citation_publication_date=2022-09;,citation_cover_date=2022-09;,citation_year=2022;,citation_fulltext_html_url=https://arxiv.org/abs/2209.07559;">
<meta name="citation_reference" content="citation_title=Applications of Machine Learning to Lattice Quantum Field Theory;,citation_author=Denis Boyda;,citation_author=others;,citation_publication_date=2022-02;,citation_cover_date=2022-02;,citation_year=2022;,citation_fulltext_html_url=https://arxiv.org/abs/2202.05838;,citation_conference_title=Snowmass 2021;">
<meta name="citation_reference" content="citation_title=HMC with Normalizing Flows;,citation_author=Sam Foreman;,citation_author=Taku Izubuchi;,citation_author=Luchang Jin;,citation_author=Xiao-Yong Jin;,citation_author=James C. Osborn;,citation_author=Akio Tomiya;,citation_publication_date=2022;,citation_cover_date=2022;,citation_year=2022;,citation_fulltext_html_url=https://arxiv.org/abs/2112.01586;,citation_doi=10.22323/1.396.0073;,citation_volume=LATTICE2021;,citation_journal_title=PoS;">
<meta name="citation_reference" content="citation_title=LeapfrogLayers: A Trainable Framework for Effective Topological Sampling;,citation_author=Sam Foreman;,citation_author=Xiao-Yong Jin;,citation_author=James C. Osborn;,citation_publication_date=2022;,citation_cover_date=2022;,citation_year=2022;,citation_fulltext_html_url=https://arxiv.org/abs/2112.01582;,citation_doi=10.22323/1.396.0508;,citation_volume=LATTICE2021;,citation_journal_title=PoS;">
<meta name="citation_reference" content="citation_title=Deep Learning Hamiltonian Monte Carlo;,citation_author=Sam Foreman;,citation_author=Xiao-Yong Jin;,citation_author=James C. Osborn;,citation_publication_date=2021-05;,citation_cover_date=2021-05;,citation_year=2021;,citation_fulltext_html_url=https://arxiv.org/abs/2105.03418;,citation_conference_title=9th International Conference on Learning Representations;">
<meta name="citation_reference" content="citation_title=Energy Justice Analysis of Climate Data with ClimRR;,citation_author=Sam Foreman;,citation_publication_date=2023-08-07;,citation_cover_date=2023-08-07;,citation_year=2023;,citation_fulltext_html_url=https://saforem2.github.io/climate-analysis;,citation_language=en;">
<meta name="citation_reference" content="citation_author=Sam Foreman;,citation_publication_date=2023-08-19;,citation_cover_date=2023-08-19;,citation_year=2023;,citation_fulltext_html_url=https://saforem2.github.io/l2hmc-qcd;,citation_language=en;">
<meta name="citation_reference" content="citation_title=Deep learning hamiltonian monte carlo;,citation_author=Sam Foreman;,citation_author=Xiao-Yong Jin;,citation_author=James C. Osborn;,citation_publication_date=2021;,citation_cover_date=2021;,citation_year=2021;,citation_fulltext_html_url=https://arxiv.org/abs/2105.03418;">
<meta name="citation_reference" content="citation_title=MLMC: Machine learning monte carlo for lattice gauge theory;,citation_author=Sam Foreman;,citation_author=Xiao-Yong Jin;,citation_author=James Osborn;,citation_publication_date=00;,citation_cover_date=00;,citation_year=0;,citation_conference_title=40th international symposium on lattice field theory (lattice 2023) (batavia, IL, united states, 07/31/2023 - 08/04/2023);">
<meta name="citation_reference" content="citation_title=Progress on $(g-2)_\mu$ from lattice QCD;,citation_author=Hartmut Wittig;,citation_publication_date=2023;,citation_cover_date=2023;,citation_year=2023;,citation_fulltext_html_url=https://arxiv.org/abs/2306.04165;">
<meta name="citation_reference" content="citation_title=Hybrid Monte Carlo;,citation_author=S. Duane;,citation_author=A. D. Kennedy;,citation_author=B. J. Pendleton;,citation_author=D. Roweth;,citation_publication_date=1987;,citation_cover_date=1987;,citation_year=1987;,citation_doi=10.1016/0370-2693(87)91197-X;,citation_volume=195;,citation_journal_title=Phys. Lett. B;">
<meta name="citation_reference" content="citation_title=Snowmass 2021 Computational Frontier CompF03 Topical Group Report: Machine Learning;,citation_author=Phiala Shanahan;,citation_author=others;,citation_publication_date=2022-09;,citation_cover_date=2022-09;,citation_year=2022;,citation_fulltext_html_url=https://arxiv.org/abs/2209.07559;">
<meta name="citation_reference" content="citation_title=Applications of Machine Learning to Lattice Quantum Field Theory;,citation_author=Denis Boyda;,citation_author=others;,citation_publication_date=2022-02;,citation_cover_date=2022-02;,citation_year=2022;,citation_fulltext_html_url=https://arxiv.org/abs/2202.05838;,citation_conference_title=Snowmass 2021;">
<meta name="citation_reference" content="citation_title=LeapfrogLayers: A Trainable Framework for Effective Topological Sampling;,citation_author=Sam Foreman;,citation_author=Xiao-Yong Jin;,citation_author=James C. Osborn;,citation_publication_date=2022-05;,citation_cover_date=2022-05;,citation_year=2022;,citation_fulltext_html_url=https://arxiv.org/abs/2112.01582;,citation_doi=10.22323/1.396.0508;,citation_volume=LATTICE2021;,citation_journal_title=PoS;">
<meta name="citation_reference" content="citation_title=HMC with Normalizing Flows;,citation_author=Sam Foreman;,citation_author=Taku Izubuchi;,citation_author=Luchang Jin;,citation_author=Xiao-Yong Jin;,citation_author=James C. Osborn;,citation_author=Akio Tomiya;,citation_publication_date=2022;,citation_cover_date=2022;,citation_year=2022;,citation_fulltext_html_url=https://arxiv.org/abs/2112.01586;,citation_doi=10.22323/1.396.0073;,citation_volume=LATTICE2021;,citation_journal_title=PoS;">
<meta name="citation_reference" content="citation_title=Deep Learning Hamiltonian Monte Carlo;,citation_author=Sam Foreman;,citation_author=Xiao-Yong Jin;,citation_author=James C. Osborn;,citation_publication_date=2021-05;,citation_cover_date=2021-05;,citation_year=2021;,citation_fulltext_html_url=https://arxiv.org/abs/2105.03418;,citation_conference_title=9th International Conference on Learning Representations;">
<meta name="citation_reference" content="citation_title=Mastering language models;,citation_author=Samuel Montgomery;,citation_publication_date=2023-10;,citation_cover_date=2023-10;,citation_year=2023;,citation_fulltext_html_url=https://towardsdatascience.com/mastering-language-models-32e1d891511a
           ;,citation_journal_title=Medium;,citation_publisher=Towards Data Science;">
<meta name="citation_reference" content="citation_title=Harnessing the power of LLMs in practice: A survey on ChatGPT and beyond;,citation_author=Jingfeng Yang;,citation_author=Hongye Jin;,citation_author=Ruixiang Tang;,citation_author=Xiaotian Han;,citation_author=Qizhang Feng;,citation_author=Haoming Jiang;,citation_author=Bing Yin;,citation_author=Xia Hu;,citation_publication_date=2023;,citation_cover_date=2023;,citation_year=2023;,citation_fulltext_html_url=https://arxiv.org/abs/2304.13712;">
<meta name="citation_reference" content="citation_title=Training tips for the transformer model;,citation_author=Martin Popel;,citation_author=OndÅ™ej Bojar;,citation_publication_date=2018-04;,citation_cover_date=2018-04;,citation_year=2018;,citation_fulltext_html_url=https://doi.org/10.2478%2Fpralin-2018-0002;,citation_issue=1;,citation_doi=10.2478/pralin-2018-0002;,citation_volume=110;,citation_journal_title=The Prague Bulletin of Mathematical Linguistics;,citation_publisher=Charles University in Prague, Karolinum Press;">
<meta name="citation_reference" content="citation_title=Attention is all you need;,citation_author=Ashish Vaswani;,citation_author=Noam Shazeer;,citation_author=Niki Parmar;,citation_author=Jakob Uszkoreit;,citation_author=Llion Jones;,citation_author=Aidan N. Gomez;,citation_author=Lukasz Kaiser;,citation_author=Illia Polosukhin;,citation_publication_date=2017;,citation_cover_date=2017;,citation_year=2017;,citation_fulltext_html_url=https://arxiv.org/abs/1706.03762;">
<meta name="citation_reference" content="citation_title=Tree of thoughts: Deliberate problem solving with large language models;,citation_author=Shunyu Yao;,citation_author=Dian Yu;,citation_author=Jeffrey Zhao;,citation_author=Izhak Shafran;,citation_author=Thomas L. Griffiths;,citation_author=Yuan Cao;,citation_author=Karthik Narasimhan;,citation_publication_date=2023;,citation_cover_date=2023;,citation_year=2023;,citation_fulltext_html_url=https://arxiv.org/abs/2305.10601;">
<meta name="citation_reference" content="citation_title=GenSLMs: Genome-scale language models reveal SARS-CoV-2 evolutionary dynamics;,citation_abstract=We seek to transform how new and emergent variants of pandemiccausing viruses, specifically SARS-CoV-2, are identified and classified. By adapting large language models (LLMs) for genomic data, we build genome-scale language models (GenSLMs) which can learn the evolutionary landscape of SARS-CoV-2 genomes. By pretraining on over 110 million prokaryotic gene sequences and finetuning a SARS-CoV-2-specific model on 1.5 million genomes, we show that GenSLMs can accurately and rapidly identify variants of concern. Thus, to our knowledge, GenSLMs represents one of the first whole genome scale foundation models which can generalize to other prediction tasks. We demonstrate scaling of GenSLMs on GPU-based supercomputers and AI-hardware accelerators utilizing 1.63 Zettaflops in training runs with a sustained performance of 121 PFLOPS in mixed precision and peak of 850 PFLOPS. We present initial scientific insights from examining GenSLMs in tracking evolutionary dynamics of SARS-CoV-2, paving the path to realizing this on large biological data.Competing Interest StatementThe authors have declared no competing interest.;,citation_author=Maxim Zvyagin;,citation_author=Alexander Brace;,citation_author=Kyle Hippe;,citation_author=Yuntian Deng;,citation_author=Bin Zhang;,citation_author=Cindy Orozco Bohorquez;,citation_author=Austin Clyde;,citation_author=Bharat Kale;,citation_author=Danilo Perez-Rivera;,citation_author=Heng Ma;,citation_author=Carla M. Mann;,citation_author=Michael Irvin;,citation_author=J. Gregory Pauloski;,citation_author=Logan Ward;,citation_author=Valerie Hayot-Sasson;,citation_author=Murali Emani;,citation_author=Sam Foreman;,citation_author=Zhen Xie;,citation_author=Diangen Lin;,citation_author=Maulik Shukla;,citation_author=Weili Nie;,citation_author=Josh Romero;,citation_author=Christian Dallago;,citation_author=Arash Vahdat;,citation_author=Chaowei Xiao;,citation_author=Thomas Gibbs;,citation_author=Ian Foster;,citation_author=James J. Davis;,citation_author=Michael E. Papka;,citation_author=Thomas Brettin;,citation_author=Rick Stevens;,citation_author=Anima Anandkumar;,citation_author=Venkatram Vishwanath;,citation_author=Arvind Ramanathan;,citation_publication_date=2022;,citation_cover_date=2022;,citation_year=2022;,citation_fulltext_html_url=https://www.biorxiv.org/content/early/2022/11/23/2022.10.10.511571;,citation_doi=10.1101/2022.10.10.511571;,citation_journal_title=bioRxiv;,citation_publisher=Cold Spring Harbor Laboratory;">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../../assets/signature12.svg" alt="Sam Foreman" class="navbar-logo">
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-talks" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">talks</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-talks">    
        <li>
    <a class="dropdown-item" href="../../talks/index.html">
 <span class="dropdown-text">ğŸ“¢ All Talks</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../talks/ai-for-science-2024/slides.html">
 <span class="dropdown-text">Parallel Training Methods</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../talks/alcf-hpc-workshop-2024/slides.html">
 <span class="dropdown-text">AuroraGPT (ALCF Hands-On HPC)</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../talks/alcf-hpc-workshop-2024/slides.html">
 <span class="dropdown-text">ML + Foundation Models at Scale</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../talks/hpc-user-forum/slides.html">
 <span class="dropdown-text">AuroraGPT (HPC User Forum)</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../talks/llms-at-scale/slides.html">
 <span class="dropdown-text">Training LLMs at Scale</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../talks/llms-on-polaris/slides.html">
 <span class="dropdown-text">Polaris Overview + LLMs</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://saforem2.github.io/parallel-training-slides/">
 <span class="dropdown-text">Parallel Training Techniques</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://saforem2.github.io/llm-workshop-talk/">
 <span class="dropdown-text">LLMs from Scratch</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://saforem2.github.io/LLM-tutorial">
 <span class="dropdown-text">Creating Small(-ish) LLMs</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://saforem2.github.io/oneapi-talk/#0">
 <span class="dropdown-text">Exascale Science on Aurora</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://saforem2.github.io/llm-lunch-talk/">
 <span class="dropdown-text">LLM Lunch Talk</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://saforem2.github.io/scaling4science">
 <span class="dropdown-text">Scaling LLMs for Science</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://saforem2.github.io/lattice23">
 <span class="dropdown-text">MLMC (for LQCD)</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://saforem2.github.io/lqcd-pasc23">
 <span class="dropdown-text">Generative Modeling</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://saforem2.github.io/deep-fridays">
 <span class="dropdown-text">Efficient Sampling for LGT</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://saforem2.github.io/ai4sci-large-scale-training">
 <span class="dropdown-text">Large Scale Training</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://saforem2.github.io/hparam-management-sdl2022">
 <span class="dropdown-text">Hyperparameter Management</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://saforem2.github.io/ATPESC-StatisticalLearning">
 <span class="dropdown-text">Statistical Learning</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://saforem2.github.io/anl-job-talk/">
 <span class="dropdown-text">Scientific Data Science</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://saforem2.github.io/physicsSeminar">
 <span class="dropdown-text">Machine Learning in HEP</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://bit.ly/mainz21">
 <span class="dropdown-text">DLHMC for Improved Gauge Generation</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://slides.com/samforeman/l2hmc-qcd-93bc0c">
 <span class="dropdown-text">ML for LQCD</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://bit.ly/mainz21_overview">
 <span class="dropdown-text">ML Techniques in LQCD</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://saforem2.github.io/physicsSeminar">
 <span class="dropdown-text">ML for HEP</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-posts" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">posts</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-posts">    
        <li>
    <a class="dropdown-item" href="../../posts/index.html">
 <span class="dropdown-text">ğŸ“¬ All Posts</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../posts/AuroraGPT/spike-skipper/index.html">
 <span class="dropdown-text">ğŸ”ï¸ Spike Skipper</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../posts/ezpz-at-alcf/index.html">
 <span class="dropdown-text">ğŸ‹ <code>ezpz</code> at ALCF</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../posts/AuroraGPT/determinstic-flash-attn/index.html">
 <span class="dropdown-text">ğŸ° Deterministic Flash Attention</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../posts/AuroraGPT/flash-attn-sunspot/index.html">
 <span class="dropdown-text">ğŸ“¸ <code>flash-attn</code> on Sunspot</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../posts/AuroraGPT/mpi4py-reproducer/index.html">
 <span class="dropdown-text">ğŸ› <code>mpi4py</code> bug on Sunspot</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../posts/ai-for-physics/diffusion/index.html">
 <span class="dropdown-text">ğŸ² MCMC + Diffusion Sampling</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../posts/dope-slides/index.html">
 <span class="dropdown-text">ğŸ’… How to Make Dope Slides</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../posts/AuroraGPT/startup-times/index.html">
 <span class="dropdown-text">â° Starting Up Distributed Training</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../posts/AuroraGPT/long-sequences/index.html">
 <span class="dropdown-text">ğŸš‚ Loooooooong Sequence Lengths</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../posts/AuroraGPT/aurora-gpt/index.html">
 <span class="dropdown-text">ğŸï¸ <code>Megatron-DeepSpeed</code> + Intel XPU</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../posts/ai-for-physics/l2hmc-qcd/2dU1/index.html">
 <span class="dropdown-text">ğŸ¢ <code>l2hmc-qcd</code> Example: 2D U(1)</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../posts/ai-for-physics/l2hmc-qcd/4dSU3/index.html">
 <span class="dropdown-text">ğŸ”³ <code>l2hmc-qcd</code> Example: 4D SU(3)</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-projects" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">projects</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-projects">    
        <li>
    <a class="dropdown-item" href="../../qmd/projects/index.html">
 <span class="dropdown-text">ğŸ“š All Projects</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://saforem2.github.io/ezpz">
 <span class="dropdown-text">ğŸ‹ <code>ezpz</code></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://saforem2.github.io/l2hmc-qcd">
 <span class="dropdown-text">ğŸŸ¥ <code>l2hmc-qcd</code></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://github.com/argonne-lcf/Megatron-DeepSpeed)">
 <span class="dropdown-text">ğŸ¤– <code>Megatron-DeepSpeed</code></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://saforem2.github.io/wordplay">
 <span class="dropdown-text">ğŸ’¬ <code>wordplay</code> ğŸ®</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://www.alcf.anl.gov/alcf-ai-science-training-series?">
 <span class="dropdown-text">ğŸ“ <code>ai-science-training</code></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://saforem2.github.io/enrich">
 <span class="dropdown-text">ğŸ’¸ <code>enrich</code></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://saforem2.github.io/ambivalent">
 <span class="dropdown-text">ğŸ¤·ğŸ»â€â™‚ï¸<code>ambivalent</code></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://saforem2.github.io/climate-analysis">
 <span class="dropdown-text">ğŸŒ <code>climate-analysis</code></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://github.com/saforem2/glitz">
 <span class="dropdown-text">ğŸ¨ <code>glitz</code></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://github.com/saforem2/personal_site">
 <span class="dropdown-text">ğŸ™‹ğŸ»<code>personal_site</code></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://github.com/saforem2/notes-demo">
 <span class="dropdown-text">ğŸ—’ï¸ <code>Notes-Demo</code></span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="https://github.com/saforem2/personal_site"> 
<span class="menu-text"><span class="icon dim-text" style="font-size: 1.25rem;"><iconify-icon role="img" inline="" icon="ph:github-logo" aria-label="Icon github-logo from ph Iconify.design set." title="Icon github-logo from ph Iconify.design set."></iconify-icon></span></span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../index.xml"> 
<span class="menu-text"><span class="icon dim-text" style="font-size: 1.25rem;"><iconify-icon role="img" inline="" icon="ph:rss" aria-label="Icon rss from ph Iconify.design set." title="Icon rss from ph Iconify.design set."></iconify-icon></span></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#getting-started" id="toc-getting-started" class="nav-link active" data-scroll-target="#getting-started">ğŸ£ Getting Started</a></li>
  <li><a href="#shell-utilities" id="toc-shell-utilities" class="nav-link" data-scroll-target="#shell-utilities">ğŸš Shell Utilities</a>
  <ul class="collapse">
  <li><a href="#setup-environment" id="toc-setup-environment" class="nav-link" data-scroll-target="#setup-environment">âš™ï¸ Setup Environment</a></li>
  <li><a href="#example" id="toc-example" class="nav-link" data-scroll-target="#example">ğŸ“ Example</a></li>
  </ul></li>
  <li><a href="#python-library" id="toc-python-library" class="nav-link" data-scroll-target="#python-library">ğŸ Python Library</a></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/saforem2/personal_site/blob/main/posts/ezpz-at-alcf/index.qmd" class="toc-action"><i class="bi bi-github"></i>View source</a></li><li><a href="https://github.com/saforem2/personal_site/edit/main/posts/ezpz-at-alcf/index.qmd" class="toc-action"><i class="bi empty"></i>Edit this page</a></li><li><a href="https://github.com/saforem2/personal_site/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div><div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="index.md"><i class="bi bi-file-code"></i>Github (GFM)</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TC329HJ" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title">ğŸ‹ <code>ezpz</code> @ ALCF</h1><button type="button" class="btn code-tools-button" id="quarto-code-tools-source"><i class="bi"></i> Code</button></div></div>
  <div class="quarto-categories">
    <div class="quarto-category">ezpz</div>
    <div class="quarto-category">ML</div>
    <div class="quarto-category">ai4science</div>
  </div>
  </div>


<div class="quarto-title-meta-author">
  <div class="quarto-title-meta-heading">Author</div>
  <div class="quarto-title-meta-heading">Affiliation</div>
  
    <div class="quarto-title-meta-contents">
    <p class="author"><a href="https://samforeman.me">Sam Foreman</a> <a href="mailto:foremans@anl.gov" class="quarto-title-author-email"><i class="bi bi-envelope"></i></a> </p>
  </div>
  <div class="quarto-title-meta-contents">
        <p class="affiliation">
            <a href="https://alcf.anl.gov/about/people/sam-foreman">
            </a><a href="https://alcf.anl.gov/about/people/sam-foreman">ALCF</a>
            
          </p>
      </div>
  </div>

<div class="quarto-title-meta">

      
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">August 23, 2024</p>
    </div>
  </div>
  
    <div>
    <div class="quarto-title-meta-heading">Modified</div>
    <div class="quarto-title-meta-contents">
      <p class="date-modified">December 25, 2024</p>
    </div>
  </div>
    
  </div>
  


</header>


<blockquote class="blockquote">
<p><em>Work smarter, not harder</em>.</p>
</blockquote>
<section id="getting-started" class="level2">
<h2 class="anchored" data-anchor-id="getting-started">ğŸ£ Getting Started</h2>
<p>There are two main, distinct components of <code>ezpz</code>:</p>
<ol type="1">
<li>ğŸ <a href="#python-library"><strong>Python Library</strong></a></li>
<li>ğŸš <a href="#shell-utilities"><strong>Shell Utilities</strong></a></li>
</ol>
</section>
<section id="shell-utilities" class="level2">
<h2 class="anchored" data-anchor-id="shell-utilities">ğŸš Shell Utilities</h2>
<p>The Shell Utilities can be roughly broken up further into two main components</p>
<ol type="1">
<li><a href="#setup-environment">Setup Environment</a>:
<ol type="1">
<li><a href="#setup-python">Setup Python</a>:
<ol type="1">
<li><a href="#setup-conda">Setup Conda</a></li>
<li><a href="#setup-virtual-environment">Setup Virtual Environment</a></li>
</ol></li>
<li><a href="#setup-job">Setup Job</a>:</li>
</ol></li>
</ol>
<p>We provide a variety of helper functions designed to make your life easier when working with job schedulers (e.g.&nbsp;<code>PBS Pro</code> @ ALCF or <code>slurm</code> elsewhere).</p>
<p><strong>All</strong> of these functions are:</p>
<ul>
<li>located in <a href="../../src/ezpz/bin/utils.sh"><code>utils.sh</code></a></li>
<li>prefixed with <code>ezpz_*</code> (e.g.&nbsp;<code>ezpz_setup_python</code>)<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a></li>
</ul>
<p>To use these, we can <code>source</code> the file directly via:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1"></a><span class="bu">export</span> <span class="va">PBS_O_WORKDIR</span><span class="op">=</span><span class="va">$(</span><span class="bu">pwd</span><span class="va">)</span> <span class="co"># if on ALCF</span></span>
<span id="cb2-2"><a href="#cb2-2"></a><span class="bu">source</span> /dev/stdin <span class="op">&lt;&lt;&lt;</span> <span class="va">$(</span><span class="ex">curl</span> <span class="st">'https://raw.githubusercontent.com/saforem2/ezpz/refs/heads/main/src/ezpz/bin/utils.sh'</span><span class="va">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<section id="setup-environment" class="level3">
<h3 class="anchored" data-anchor-id="setup-environment">âš™ï¸ Setup Environment</h3>
<p>We would like to write our application in such a way that it is able to take full advantage of the resources allocated by the job scheduler.</p>
<p>That is to say, we want to have a single script with the ability to dynamically <code>launch</code> python applications across any number of accelerators on any of the systems under consideration.</p>
<p>In order to do this, there is some basic setup and information gathering that needs to occur.</p>
<p>In particular, we need mechanisms for:</p>
<ol type="1">
<li>Setting up a python environment</li>
<li>Determining what system / machine weâ€™re on
<ul>
<li>+ what job scheduler weâ€™re using (e.g.&nbsp;<code>PBS Pro</code> @ ALCF or <code>slurm</code> elsewhere)</li>
</ul></li>
<li>Determining how many nodes have been allocated in the current job (<code>NHOSTS</code>)
<ul>
<li>+ Determining how many accelerators exist on each of these nodes (<code>NGPU_PER_HOST</code>)</li>
</ul></li>
</ol>
<p>This allows us to calculate the total number of accelerators (GPUs) as: <span class="math inline">N_{\mathrm{GPU}} = N_{\mathrm{HOST}} \times n_{\mathrm{GPU}}</span></p>
<p>where <span class="math inline">n_{\mathrm{GPU}} = N_{\mathrm{GPU}} / N_{\mathrm{HOST}}</span> is the number of GPUs per host.</p>
<p>With this we have everything we need to build the appropriate {<code>mpi</code>{<code>run</code>, <code>exec</code>}, <code>slurm</code>} command for launching our python application across them.</p>
<p>Now, there are a few functions in particular worth elaborating on.</p>
<div id="tbl-shell-fns" class="responsive striped hover quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<div aria-describedby="tbl-shell-fns-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="table-responsive">
<table class="table-striped table-hover table">
<caption>Shell Functions</caption>
<thead>
<tr class="header">
<th style="text-align: left;">&nbsp;</th>
<th style="text-align: left;">Function</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><a href="#setup-environment">Setup Environment</a></td>
<td style="text-align: left;"><code>ezpz_setup_env</code></td>
<td style="text-align: left;">Wrapper around <code>ezpz_setup_python</code> <code>&amp;&amp;</code> <code>ezpz_setup_job</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><a href="#setup-job">Setup Job</a></td>
<td style="text-align: left;"><code>ezpz_setup_job</code></td>
<td style="text-align: left;">Determine {<code>NGPUS</code>, <code>NGPU_PER_HOST</code>, <code>NHOSTS</code>}, build <code>launch</code> command alias</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><a href="#setup-python">Setup Python</a></td>
<td style="text-align: left;"><code>ezpz_setup_python</code></td>
<td style="text-align: left;">Wrapper around <code>ezpz_setup_conda</code> <code>&amp;&amp;</code> <code>ezpz_setup_venv_from_conda</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><a href="#setup-conda">Setup Conda</a></td>
<td style="text-align: left;"><code>ezpz_setup_conda</code></td>
<td style="text-align: left;">Find and activate appropriate <code>conda</code> module to load<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><a href="#setup-virtual-environment">Setup Virtual Environment</a></td>
<td style="text-align: left;"><code>ezpz_setup_venv_from_conda</code></td>
<td style="text-align: left;">From <code>${CONDA_NAME}</code>, build or activate the virtual env located in <code>venvs/${CONDA_NAME}/</code></td>
</tr>
</tbody>
</table>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-tbl" id="tbl-shell-fns-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;1: Shell Functions
</figcaption>
</figure>
</div>
<div class="callout callout-style-simple callout-warning callout-titled" title="Where am I?">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-1-contents" aria-controls="callout-1" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Where am I?
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-1" class="callout-1-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<p><em>Some</em> of the <code>ezpz_*</code> functions (e.g.&nbsp;<code>ezpz_setup_python</code>), will try to create / look for certain directories.</p>
<p>In an effort to be explicit, these directories will be defined <strong>relative to</strong> a <code>WORKING_DIR</code> (e.g.&nbsp;<code>"${WORKING_DIR}/venvs/"</code>)</p>
<p>This <code>WORKING_DIR</code> will be assigned to the first non-zero match found below:</p>
<ol type="1">
<li><code>PBS_O_WORKDIR</code>: If found in environment, paths will be relative to this</li>
<li><code>SLURM_SUBMIT_DIR</code>: Next in line. If not @ ALCF, maybe using <code>slurm</code>â€¦</li>
<li><code>$(pwd)</code>: Otherwise, no worries. Use your <em>actual</em> working directory.</li>
</ol>
</div>
</div>
</div>
</section>
<section id="example" class="level3">
<h3 class="anchored" data-anchor-id="example">ğŸ“ Example</h3>
<ol type="1">
<li><p>Clone repo:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1"></a><span class="fu">git</span> clone https://github.com/saforem2/ezpz</span>
<span id="cb3-2"><a href="#cb3-2"></a><span class="bu">cd</span> ezpz</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p>Setup environment:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1"></a><span class="bu">export</span> <span class="va">PBS_O_WORKDIR</span><span class="op">=</span><span class="va">$(</span><span class="bu">pwd</span><span class="va">)</span> <span class="kw">&amp;&amp;</span> <span class="bu">source</span> src/ezpz/bin/utils.sh <span class="kw">&amp;&amp;</span> <span class="ex">ezpz_setup_env</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<details closed="">
<summary>
<p>Output</p>
</summary>
<div class="sourceCode" id="cb5"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1"></a><span class="ex">$</span> export PBS_O_WORKDIR=<span class="va">$(</span><span class="bu">pwd</span><span class="va">)</span> <span class="kw">&amp;&amp;</span> <span class="bu">source</span> src/ezpz/bin/utils.sh <span class="kw">&amp;&amp;</span> <span class="ex">ezpz_setup_env</span></span>
<span id="cb5-2"><a href="#cb5-2"></a><span class="ex">Using</span> WORKING_DIR: /gila/Aurora_deployment/foremans/projects/saforem2/ezpz</span>
<span id="cb5-3"><a href="#cb5-3"></a><span class="ex">No</span> conda_prefix OR virtual_env found in environment...</span>
<span id="cb5-4"><a href="#cb5-4"></a><span class="ex">Setting</span> up conda...</span>
<span id="cb5-5"><a href="#cb5-5"></a></span>
<span id="cb5-6"><a href="#cb5-6"></a><span class="ex">Due</span> to MODULEPATH changes, the following have been reloaded:</span>
<span id="cb5-7"><a href="#cb5-7"></a>  <span class="ex">1</span><span class="er">)</span> <span class="ex">mpich/icc-all-pmix-gpu/20240717</span></span>
<span id="cb5-8"><a href="#cb5-8"></a></span>
<span id="cb5-9"><a href="#cb5-9"></a><span class="ex">The</span> following have been reloaded with a version change:</span>
<span id="cb5-10"><a href="#cb5-10"></a>  <span class="ex">1</span><span class="er">)</span> <span class="ex">oneapi/eng-compiler/2024.07.30.002</span> =<span class="op">&gt;</span> oneapi/release/2024.2.1</span>
<span id="cb5-11"><a href="#cb5-11"></a></span>
<span id="cb5-12"><a href="#cb5-12"></a><span class="ex">Found</span> conda at: /opt/aurora/24.180.1/frameworks/aurora_nre_models_frameworks-2024.2.1_u1</span>
<span id="cb5-13"><a href="#cb5-13"></a><span class="ex">No</span> VIRTUAL_ENV found in environment!</span>
<span id="cb5-14"><a href="#cb5-14"></a>    <span class="ex">-</span> Trying to setup from /opt/aurora/24.180.1/frameworks/aurora_nre_models_frameworks-2024.2.1_u1</span>
<span id="cb5-15"><a href="#cb5-15"></a>    <span class="ex">-</span> Using VENV_DIR=/gila/Aurora_deployment/foremans/projects/saforem2/ezpz/venvs/aurora_nre_models_frameworks-2024.2.1_u1</span>
<span id="cb5-16"><a href="#cb5-16"></a></span>
<span id="cb5-17"><a href="#cb5-17"></a>    <span class="ex">-</span> Creating a new virtual env on top of aurora_nre_models_frameworks-2024.2.1_u1 in /gila/Aurora_deployment/foremans/projects/saforem2/ezpz/venvs/aurora_nre_models_frameworks-2024.2.1_u1</span>
<span id="cb5-18"><a href="#cb5-18"></a><span class="ex">[python]</span> Using /gila/Aurora_deployment/foremans/projects/saforem2/ezpz/venvs/aurora_nre_models_frameworks-2024.2.1_u1/bin/python3</span>
<span id="cb5-19"><a href="#cb5-19"></a></span>
<span id="cb5-20"><a href="#cb5-20"></a><span class="ex">[ğŸ‹</span> ezpz/bin/utils.sh]</span>
<span id="cb5-21"><a href="#cb5-21"></a>    <span class="ex">â€¢</span> USER=foremans</span>
<span id="cb5-22"><a href="#cb5-22"></a>    <span class="ex">â€¢</span> MACHINE=sunspot</span>
<span id="cb5-23"><a href="#cb5-23"></a>    <span class="ex">â€¢</span> HOST=x1922c5s0b0n0</span>
<span id="cb5-24"><a href="#cb5-24"></a>    <span class="ex">â€¢</span> TSTAMP=2024-11-28-133756</span>
<span id="cb5-25"><a href="#cb5-25"></a></span>
<span id="cb5-26"><a href="#cb5-26"></a><span class="ex">[ezpz_setup_host_pbs]</span></span>
<span id="cb5-27"><a href="#cb5-27"></a>    <span class="ex">â€¢</span> Using hostfile: /var/spool/pbs/aux/10283088.amn-0001</span>
<span id="cb5-28"><a href="#cb5-28"></a>    <span class="ex">â€¢</span> Found in environment:</span>
<span id="cb5-29"><a href="#cb5-29"></a>        <span class="ex">â€¢</span> HOSTFILE: /var/spool/pbs/aux/10283088.amn-0001</span>
<span id="cb5-30"><a href="#cb5-30"></a>        <span class="ex">â€¢</span> Writing PBS vars to: /home/foremans/.pbsenv</span>
<span id="cb5-31"><a href="#cb5-31"></a></span>
<span id="cb5-32"><a href="#cb5-32"></a><span class="ex">[ezpz_save_pbs_env]</span></span>
<span id="cb5-33"><a href="#cb5-33"></a>    <span class="ex">â€¢</span> Setting:</span>
<span id="cb5-34"><a href="#cb5-34"></a>        <span class="ex">â€¢</span> HOSTFILE: /var/spool/pbs/aux/10283088.amn-0001</span>
<span id="cb5-35"><a href="#cb5-35"></a>        <span class="ex">â€¢</span> JOBENV_FILE: /home/foremans/.pbsenv</span>
<span id="cb5-36"><a href="#cb5-36"></a></span>
<span id="cb5-37"><a href="#cb5-37"></a><span class="ex">[HOSTS]</span></span>
<span id="cb5-38"><a href="#cb5-38"></a>    <span class="ex">â€¢</span> <span class="pp">[</span><span class="ss">host:0</span><span class="pp">]</span> <span class="at">-</span> x1922c5s0b0n0.hostmgmt2001.cm.americas.sgi.com</span>
<span id="cb5-39"><a href="#cb5-39"></a>    <span class="ex">â€¢</span> <span class="pp">[</span><span class="ss">host:1</span><span class="pp">]</span> <span class="at">-</span> x1922c5s2b0n0.hostmgmt2001.cm.americas.sgi.com</span>
<span id="cb5-40"><a href="#cb5-40"></a>    <span class="ex">â€¢</span> <span class="pp">[</span><span class="ss">host:2</span><span class="pp">]</span> <span class="at">-</span> x1922c5s4b0n0.hostmgmt2001.cm.americas.sgi.com</span>
<span id="cb5-41"><a href="#cb5-41"></a>    <span class="ex">â€¢</span> <span class="pp">[</span><span class="ss">host:3</span><span class="pp">]</span> <span class="at">-</span> x1922c6s1b0n0.hostmgmt2001.cm.americas.sgi.com</span>
<span id="cb5-42"><a href="#cb5-42"></a></span>
<span id="cb5-43"><a href="#cb5-43"></a><span class="ex">[DIST</span> INFO]</span>
<span id="cb5-44"><a href="#cb5-44"></a>    <span class="ex">â€¢</span> NGPUS=48</span>
<span id="cb5-45"><a href="#cb5-45"></a>    <span class="ex">â€¢</span> NHOSTS=4</span>
<span id="cb5-46"><a href="#cb5-46"></a>    <span class="ex">â€¢</span> NGPU_PER_HOST=12</span>
<span id="cb5-47"><a href="#cb5-47"></a>    <span class="ex">â€¢</span> HOSTFILE=/var/spool/pbs/aux/10283088.amn-0001</span>
<span id="cb5-48"><a href="#cb5-48"></a>    <span class="ex">â€¢</span> DIST_LAUNCH=mpiexec <span class="at">--verbose</span> <span class="at">--envall</span> <span class="at">-n</span> 48 <span class="at">-ppn</span> 12 <span class="at">--hostfile</span> /var/spool/pbs/aux/10283088.amn-0001 <span class="at">--cpu-bind</span> depth <span class="at">-d</span> 8</span>
<span id="cb5-49"><a href="#cb5-49"></a></span>
<span id="cb5-50"><a href="#cb5-50"></a><span class="ex">[LAUNCH]:</span></span>
<span id="cb5-51"><a href="#cb5-51"></a>    <span class="ex">â€¢</span> To launch across all available GPUs, use: launch</span>
<span id="cb5-52"><a href="#cb5-52"></a></span>
<span id="cb5-53"><a href="#cb5-53"></a>      <span class="ex">launch</span> = mpiexec <span class="at">--verbose</span> <span class="at">--envall</span> <span class="at">-n</span> 48 <span class="at">-ppn</span> 12 <span class="at">--hostfile</span> /var/spool/pbs/aux/10283088.amn-0001 <span class="at">--cpu-bind</span> depth <span class="at">-d</span> 8</span>
<span id="cb5-54"><a href="#cb5-54"></a></span>
<span id="cb5-55"><a href="#cb5-55"></a><span class="ex">took:</span> 0h:00m:12s</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details></li>
<li><p>Install <code>ezpz</code>:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1"></a><span class="ex">python3</span> <span class="at">-m</span> pip install <span class="at">-e</span> <span class="st">"."</span> <span class="at">--require-virtualenv</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p>Check <code>launch</code>:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1"></a><span class="ex">$</span> which launch</span>
<span id="cb7-2"><a href="#cb7-2"></a><span class="ex">launch:</span> aliased to mpiexec <span class="at">--verbose</span> <span class="at">--envall</span> <span class="at">-n</span> 48 <span class="at">-ppn</span> 12 <span class="at">--hostfile</span> /var/spool/pbs/aux/10283088.amn-0001 <span class="at">--cpu-bind</span> depth <span class="at">-d</span> 8</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p>Run <code>ezpz.test_dist</code>:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1"></a><span class="ex">launch</span> python3 src/ezpz/test_dist.py</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<details closed="">
<summary>
<p>Output</p>
</summary>
<div class="sourceCode" id="cb9"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1"></a><span class="co">#[ğŸ aurora_nre_models_frameworks-2023.2.1_u1](ğŸ‘» aurora_nre_models_frameworks-2024.2.1_u1)</span></span>
<span id="cb9-2"><a href="#cb9-2"></a><span class="co">#[ğŸŒ»][01:42:37 PM][foremans@x1922c5s0b0n0][â€¦/ezpz][ğŸŒ± saforem2-patch-1]via â¨ v1.4.552</span></span>
<span id="cb9-3"><a href="#cb9-3"></a><span class="ex">$</span> launch python3 <span class="at">-m</span> ezpz.test_dist</span>
<span id="cb9-4"><a href="#cb9-4"></a><span class="ex">Disabling</span> local launch: multi-node application</span>
<span id="cb9-5"><a href="#cb9-5"></a><span class="ex">Connected</span> to tcp://x1922c5s0b0n0.hostmgmt2001.cm.americas.sgi.com:7919</span>
<span id="cb9-6"><a href="#cb9-6"></a><span class="ex">Found</span> executable /gila/Aurora_deployment/foremans/projects/saforem2/ezpz/venvs/aurora_nre_models_frameworks-2024.2.1_u1/bin/python3</span>
<span id="cb9-7"><a href="#cb9-7"></a><span class="ex">Launching</span> application ecd9868b-2b3b-4a0e-b2e6-79769ecc7eff</span>
<span id="cb9-8"><a href="#cb9-8"></a><span class="ex">[2024-11-28</span> 13:43:41.385960]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">dist.py:348</span><span class="pp">]</span> <span class="at">-</span> <span class="pp">[</span><span class="ss">device=</span><span class="st">'xpu'</span><span class="pp">][</span><span class="ss">rank=3/47</span><span class="pp">][</span><span class="ss">local_rank=3/11</span><span class="pp">][</span><span class="ss">node=3/3</span><span class="pp">]</span></span>
<span id="cb9-9"><a href="#cb9-9"></a><span class="ex">[2024-11-28</span> 13:43:41.386603]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">dist.py:348</span><span class="pp">]</span> <span class="at">-</span> <span class="pp">[</span><span class="ss">device=</span><span class="st">'xpu'</span><span class="pp">][</span><span class="ss">rank=1/47</span><span class="pp">][</span><span class="ss">local_rank=1/11</span><span class="pp">][</span><span class="ss">node=1/3</span><span class="pp">]</span></span>
<span id="cb9-10"><a href="#cb9-10"></a><span class="ex">[2024-11-28</span> 13:43:41.386605]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">dist.py:348</span><span class="pp">]</span> <span class="at">-</span> <span class="pp">[</span><span class="ss">device=</span><span class="st">'xpu'</span><span class="pp">][</span><span class="ss">rank=2/47</span><span class="pp">][</span><span class="ss">local_rank=2/11</span><span class="pp">][</span><span class="ss">node=2/3</span><span class="pp">]</span></span>
<span id="cb9-11"><a href="#cb9-11"></a><span class="ex">[2024-11-28</span> 13:43:41.386834]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">dist.py:348</span><span class="pp">]</span> <span class="at">-</span> <span class="pp">[</span><span class="ss">device=</span><span class="st">'xpu'</span><span class="pp">][</span><span class="ss">rank=6/47</span><span class="pp">][</span><span class="ss">local_rank=6/11</span><span class="pp">][</span><span class="ss">node=2/3</span><span class="pp">]</span></span>
<span id="cb9-12"><a href="#cb9-12"></a><span class="ex">[2024-11-28</span> 13:43:41.387707]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">dist.py:348</span><span class="pp">]</span> <span class="at">-</span> <span class="pp">[</span><span class="ss">device=</span><span class="st">'xpu'</span><span class="pp">][</span><span class="ss">rank=8/47</span><span class="pp">][</span><span class="ss">local_rank=8/11</span><span class="pp">][</span><span class="ss">node=0/3</span><span class="pp">]</span></span>
<span id="cb9-13"><a href="#cb9-13"></a><span class="ex">[2024-11-28</span> 13:43:41.387290]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">dist.py:348</span><span class="pp">]</span> <span class="at">-</span> <span class="pp">[</span><span class="ss">device=</span><span class="st">'xpu'</span><span class="pp">][</span><span class="ss">rank=4/47</span><span class="pp">][</span><span class="ss">local_rank=4/11</span><span class="pp">][</span><span class="ss">node=0/3</span><span class="pp">]</span></span>
<span id="cb9-14"><a href="#cb9-14"></a><span class="ex">[2024-11-28</span> 13:43:41.387235]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">dist.py:348</span><span class="pp">]</span> <span class="at">-</span> <span class="pp">[</span><span class="ss">device=</span><span class="st">'xpu'</span><span class="pp">][</span><span class="ss">rank=10/47</span><span class="pp">][</span><span class="ss">local_rank=10/11</span><span class="pp">][</span><span class="ss">node=2/3</span><span class="pp">]</span></span>
<span id="cb9-15"><a href="#cb9-15"></a><span class="ex">[2024-11-28</span> 13:43:41.387362]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">dist.py:348</span><span class="pp">]</span> <span class="at">-</span> <span class="pp">[</span><span class="ss">device=</span><span class="st">'xpu'</span><span class="pp">][</span><span class="ss">rank=11/47</span><span class="pp">][</span><span class="ss">local_rank=11/11</span><span class="pp">][</span><span class="ss">node=3/3</span><span class="pp">]</span></span>
<span id="cb9-16"><a href="#cb9-16"></a><span class="ex">[2024-11-28</span> 13:43:41.387761]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">dist.py:348</span><span class="pp">]</span> <span class="at">-</span> <span class="pp">[</span><span class="ss">device=</span><span class="st">'xpu'</span><span class="pp">][</span><span class="ss">rank=5/47</span><span class="pp">][</span><span class="ss">local_rank=5/11</span><span class="pp">][</span><span class="ss">node=1/3</span><span class="pp">]</span></span>
<span id="cb9-17"><a href="#cb9-17"></a><span class="ex">[2024-11-28</span> 13:43:41.387958]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">dist.py:348</span><span class="pp">]</span> <span class="at">-</span> <span class="pp">[</span><span class="ss">device=</span><span class="st">'xpu'</span><span class="pp">][</span><span class="ss">rank=9/47</span><span class="pp">][</span><span class="ss">local_rank=9/11</span><span class="pp">][</span><span class="ss">node=1/3</span><span class="pp">]</span></span>
<span id="cb9-18"><a href="#cb9-18"></a><span class="ex">[2024-11-28</span> 13:43:46.384505]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">dist.py:348</span><span class="pp">]</span> <span class="at">-</span> <span class="pp">[</span><span class="ss">device=</span><span class="st">'xpu'</span><span class="pp">][</span><span class="ss">rank=7/47</span><span class="pp">][</span><span class="ss">local_rank=7/11</span><span class="pp">][</span><span class="ss">node=3/3</span><span class="pp">]</span></span>
<span id="cb9-19"><a href="#cb9-19"></a><span class="ex">[2024-11-28</span> 13:44:32.816252]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">dist.py:348</span><span class="pp">]</span> <span class="at">-</span> <span class="pp">[</span><span class="ss">device=</span><span class="st">'xpu'</span><span class="pp">][</span><span class="ss">rank=15/47</span><span class="pp">][</span><span class="ss">local_rank=3/11</span><span class="pp">][</span><span class="ss">node=3/3</span><span class="pp">]</span></span>
<span id="cb9-20"><a href="#cb9-20"></a><span class="ex">[2024-11-28</span> 13:44:32.821175]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">dist.py:348</span><span class="pp">]</span> <span class="at">-</span> <span class="pp">[</span><span class="ss">device=</span><span class="st">'xpu'</span><span class="pp">][</span><span class="ss">rank=17/47</span><span class="pp">][</span><span class="ss">local_rank=5/11</span><span class="pp">][</span><span class="ss">node=1/3</span><span class="pp">]</span></span>
<span id="cb9-21"><a href="#cb9-21"></a><span class="ex">[2024-11-28</span> 13:44:32.824021]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">dist.py:348</span><span class="pp">]</span> <span class="at">-</span> <span class="pp">[</span><span class="ss">device=</span><span class="st">'xpu'</span><span class="pp">][</span><span class="ss">rank=22/47</span><span class="pp">][</span><span class="ss">local_rank=10/11</span><span class="pp">][</span><span class="ss">node=2/3</span><span class="pp">]</span></span>
<span id="cb9-22"><a href="#cb9-22"></a><span class="ex">[2024-11-28</span> 13:44:32.825905]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">dist.py:348</span><span class="pp">]</span> <span class="at">-</span> <span class="pp">[</span><span class="ss">device=</span><span class="st">'xpu'</span><span class="pp">][</span><span class="ss">rank=41/47</span><span class="pp">][</span><span class="ss">local_rank=5/11</span><span class="pp">][</span><span class="ss">node=1/3</span><span class="pp">]</span></span>
<span id="cb9-23"><a href="#cb9-23"></a><span class="ex">[2024-11-28</span> 13:44:32.826590]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">dist.py:348</span><span class="pp">]</span> <span class="at">-</span> <span class="pp">[</span><span class="ss">device=</span><span class="st">'xpu'</span><span class="pp">][</span><span class="ss">rank=38/47</span><span class="pp">][</span><span class="ss">local_rank=2/11</span><span class="pp">][</span><span class="ss">node=2/3</span><span class="pp">]</span></span>
<span id="cb9-24"><a href="#cb9-24"></a><span class="ex">[2024-11-28</span> 13:44:32.838048]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">dist.py:348</span><span class="pp">]</span> <span class="at">-</span> <span class="pp">[</span><span class="ss">device=</span><span class="st">'xpu'</span><span class="pp">][</span><span class="ss">rank=23/47</span><span class="pp">][</span><span class="ss">local_rank=11/11</span><span class="pp">][</span><span class="ss">node=3/3</span><span class="pp">]</span></span>
<span id="cb9-25"><a href="#cb9-25"></a><span class="ex">[2024-11-28</span> 13:44:32.838526]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">dist.py:348</span><span class="pp">]</span> <span class="at">-</span> <span class="pp">[</span><span class="ss">device=</span><span class="st">'xpu'</span><span class="pp">][</span><span class="ss">rank=21/47</span><span class="pp">][</span><span class="ss">local_rank=9/11</span><span class="pp">][</span><span class="ss">node=1/3</span><span class="pp">]</span></span>
<span id="cb9-26"><a href="#cb9-26"></a><span class="ex">[2024-11-28</span> 13:44:32.838825]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">dist.py:348</span><span class="pp">]</span> <span class="at">-</span> <span class="pp">[</span><span class="ss">device=</span><span class="st">'xpu'</span><span class="pp">][</span><span class="ss">rank=19/47</span><span class="pp">][</span><span class="ss">local_rank=7/11</span><span class="pp">][</span><span class="ss">node=3/3</span><span class="pp">]</span></span>
<span id="cb9-27"><a href="#cb9-27"></a><span class="ex">[2024-11-28</span> 13:44:32.838817]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">dist.py:348</span><span class="pp">]</span> <span class="at">-</span> <span class="pp">[</span><span class="ss">device=</span><span class="st">'xpu'</span><span class="pp">][</span><span class="ss">rank=36/47</span><span class="pp">][</span><span class="ss">local_rank=0/11</span><span class="pp">][</span><span class="ss">node=0/3</span><span class="pp">]</span></span>
<span id="cb9-28"><a href="#cb9-28"></a><span class="ex">[2024-11-28</span> 13:44:32.838665]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">dist.py:348</span><span class="pp">]</span> <span class="at">-</span> <span class="pp">[</span><span class="ss">device=</span><span class="st">'xpu'</span><span class="pp">][</span><span class="ss">rank=35/47</span><span class="pp">][</span><span class="ss">local_rank=11/11</span><span class="pp">][</span><span class="ss">node=3/3</span><span class="pp">]</span></span>
<span id="cb9-29"><a href="#cb9-29"></a><span class="ex">[2024-11-28</span> 13:44:32.839033]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">dist.py:348</span><span class="pp">]</span> <span class="at">-</span> <span class="pp">[</span><span class="ss">device=</span><span class="st">'xpu'</span><span class="pp">][</span><span class="ss">rank=25/47</span><span class="pp">][</span><span class="ss">local_rank=1/11</span><span class="pp">][</span><span class="ss">node=1/3</span><span class="pp">]</span></span>
<span id="cb9-30"><a href="#cb9-30"></a><span class="ex">[2024-11-28</span> 13:44:32.838855]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">dist.py:348</span><span class="pp">]</span> <span class="at">-</span> <span class="pp">[</span><span class="ss">device=</span><span class="st">'xpu'</span><span class="pp">][</span><span class="ss">rank=26/47</span><span class="pp">][</span><span class="ss">local_rank=2/11</span><span class="pp">][</span><span class="ss">node=2/3</span><span class="pp">]</span></span>
<span id="cb9-31"><a href="#cb9-31"></a><span class="ex">[2024-11-28</span> 13:44:32.839144]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">dist.py:348</span><span class="pp">]</span> <span class="at">-</span> <span class="pp">[</span><span class="ss">device=</span><span class="st">'xpu'</span><span class="pp">][</span><span class="ss">rank=33/47</span><span class="pp">][</span><span class="ss">local_rank=9/11</span><span class="pp">][</span><span class="ss">node=1/3</span><span class="pp">]</span></span>
<span id="cb9-32"><a href="#cb9-32"></a><span class="ex">[2024-11-28</span> 13:44:32.840785]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">dist.py:348</span><span class="pp">]</span> <span class="at">-</span> <span class="pp">[</span><span class="ss">device=</span><span class="st">'xpu'</span><span class="pp">][</span><span class="ss">rank=37/47</span><span class="pp">][</span><span class="ss">local_rank=1/11</span><span class="pp">][</span><span class="ss">node=1/3</span><span class="pp">]</span></span>
<span id="cb9-33"><a href="#cb9-33"></a><span class="ex">[2024-11-28</span> 13:44:32.840740]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">dist.py:348</span><span class="pp">]</span> <span class="at">-</span> <span class="pp">[</span><span class="ss">device=</span><span class="st">'xpu'</span><span class="pp">][</span><span class="ss">rank=47/47</span><span class="pp">][</span><span class="ss">local_rank=11/11</span><span class="pp">][</span><span class="ss">node=3/3</span><span class="pp">]</span></span>
<span id="cb9-34"><a href="#cb9-34"></a><span class="ex">[2024-11-28</span> 13:44:32.844721]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">dist.py:348</span><span class="pp">]</span> <span class="at">-</span> <span class="pp">[</span><span class="ss">device=</span><span class="st">'xpu'</span><span class="pp">][</span><span class="ss">rank=46/47</span><span class="pp">][</span><span class="ss">local_rank=10/11</span><span class="pp">][</span><span class="ss">node=2/3</span><span class="pp">]</span></span>
<span id="cb9-35"><a href="#cb9-35"></a><span class="ex">[2024-11-28</span> 13:44:32.845202]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">dist.py:348</span><span class="pp">]</span> <span class="at">-</span> <span class="pp">[</span><span class="ss">device=</span><span class="st">'xpu'</span><span class="pp">][</span><span class="ss">rank=30/47</span><span class="pp">][</span><span class="ss">local_rank=6/11</span><span class="pp">][</span><span class="ss">node=2/3</span><span class="pp">]</span></span>
<span id="cb9-36"><a href="#cb9-36"></a><span class="ex">[2024-11-28</span> 13:44:32.845888]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">dist.py:348</span><span class="pp">]</span> <span class="at">-</span> <span class="pp">[</span><span class="ss">device=</span><span class="st">'xpu'</span><span class="pp">][</span><span class="ss">rank=18/47</span><span class="pp">][</span><span class="ss">local_rank=6/11</span><span class="pp">][</span><span class="ss">node=2/3</span><span class="pp">]</span></span>
<span id="cb9-37"><a href="#cb9-37"></a><span class="ex">[2024-11-28</span> 13:44:32.849905]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">dist.py:348</span><span class="pp">]</span> <span class="at">-</span> <span class="pp">[</span><span class="ss">device=</span><span class="st">'xpu'</span><span class="pp">][</span><span class="ss">rank=20/47</span><span class="pp">][</span><span class="ss">local_rank=8/11</span><span class="pp">][</span><span class="ss">node=0/3</span><span class="pp">]</span></span>
<span id="cb9-38"><a href="#cb9-38"></a><span class="ex">[2024-11-28</span> 13:44:32.849947]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">dist.py:348</span><span class="pp">]</span> <span class="at">-</span> <span class="pp">[</span><span class="ss">device=</span><span class="st">'xpu'</span><span class="pp">][</span><span class="ss">rank=32/47</span><span class="pp">][</span><span class="ss">local_rank=8/11</span><span class="pp">][</span><span class="ss">node=0/3</span><span class="pp">]</span></span>
<span id="cb9-39"><a href="#cb9-39"></a><span class="ex">[2024-11-28</span> 13:44:32.850232]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">dist.py:348</span><span class="pp">]</span> <span class="at">-</span> <span class="pp">[</span><span class="ss">device=</span><span class="st">'xpu'</span><span class="pp">][</span><span class="ss">rank=39/47</span><span class="pp">][</span><span class="ss">local_rank=3/11</span><span class="pp">][</span><span class="ss">node=3/3</span><span class="pp">]</span></span>
<span id="cb9-40"><a href="#cb9-40"></a><span class="ex">[2024-11-28</span> 13:44:32.850301]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">dist.py:348</span><span class="pp">]</span> <span class="at">-</span> <span class="pp">[</span><span class="ss">device=</span><span class="st">'xpu'</span><span class="pp">][</span><span class="ss">rank=44/47</span><span class="pp">][</span><span class="ss">local_rank=8/11</span><span class="pp">][</span><span class="ss">node=0/3</span><span class="pp">]</span></span>
<span id="cb9-41"><a href="#cb9-41"></a><span class="ex">[2024-11-28</span> 13:44:32.850795]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">dist.py:348</span><span class="pp">]</span> <span class="at">-</span> <span class="pp">[</span><span class="ss">device=</span><span class="st">'xpu'</span><span class="pp">][</span><span class="ss">rank=14/47</span><span class="pp">][</span><span class="ss">local_rank=2/11</span><span class="pp">][</span><span class="ss">node=2/3</span><span class="pp">]</span></span>
<span id="cb9-42"><a href="#cb9-42"></a><span class="ex">[2024-11-28</span> 13:44:32.851872]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">dist.py:348</span><span class="pp">]</span> <span class="at">-</span> <span class="pp">[</span><span class="ss">device=</span><span class="st">'xpu'</span><span class="pp">][</span><span class="ss">rank=28/47</span><span class="pp">][</span><span class="ss">local_rank=4/11</span><span class="pp">][</span><span class="ss">node=0/3</span><span class="pp">]</span></span>
<span id="cb9-43"><a href="#cb9-43"></a><span class="ex">[2024-11-28</span> 13:44:32.852078]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">dist.py:348</span><span class="pp">]</span> <span class="at">-</span> <span class="pp">[</span><span class="ss">device=</span><span class="st">'xpu'</span><span class="pp">][</span><span class="ss">rank=12/47</span><span class="pp">][</span><span class="ss">local_rank=0/11</span><span class="pp">][</span><span class="ss">node=0/3</span><span class="pp">]</span></span>
<span id="cb9-44"><a href="#cb9-44"></a><span class="ex">[2024-11-28</span> 13:44:32.853836]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">dist.py:348</span><span class="pp">]</span> <span class="at">-</span> <span class="pp">[</span><span class="ss">device=</span><span class="st">'xpu'</span><span class="pp">][</span><span class="ss">rank=16/47</span><span class="pp">][</span><span class="ss">local_rank=4/11</span><span class="pp">][</span><span class="ss">node=0/3</span><span class="pp">]</span></span>
<span id="cb9-45"><a href="#cb9-45"></a><span class="ex">[2024-11-28</span> 13:44:32.853997]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">dist.py:348</span><span class="pp">]</span> <span class="at">-</span> <span class="pp">[</span><span class="ss">device=</span><span class="st">'xpu'</span><span class="pp">][</span><span class="ss">rank=24/47</span><span class="pp">][</span><span class="ss">local_rank=0/11</span><span class="pp">][</span><span class="ss">node=0/3</span><span class="pp">]</span></span>
<span id="cb9-46"><a href="#cb9-46"></a><span class="ex">[2024-11-28</span> 13:44:32.855526]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">dist.py:348</span><span class="pp">]</span> <span class="at">-</span> <span class="pp">[</span><span class="ss">device=</span><span class="st">'xpu'</span><span class="pp">][</span><span class="ss">rank=13/47</span><span class="pp">][</span><span class="ss">local_rank=1/11</span><span class="pp">][</span><span class="ss">node=1/3</span><span class="pp">]</span></span>
<span id="cb9-47"><a href="#cb9-47"></a><span class="ex">[2024-11-28</span> 13:44:32.856609]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">dist.py:348</span><span class="pp">]</span> <span class="at">-</span> <span class="pp">[</span><span class="ss">device=</span><span class="st">'xpu'</span><span class="pp">][</span><span class="ss">rank=40/47</span><span class="pp">][</span><span class="ss">local_rank=4/11</span><span class="pp">][</span><span class="ss">node=0/3</span><span class="pp">]</span></span>
<span id="cb9-48"><a href="#cb9-48"></a><span class="ex">[2024-11-28</span> 13:44:32.857991]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">dist.py:348</span><span class="pp">]</span> <span class="at">-</span> <span class="pp">[</span><span class="ss">device=</span><span class="st">'xpu'</span><span class="pp">][</span><span class="ss">rank=42/47</span><span class="pp">][</span><span class="ss">local_rank=6/11</span><span class="pp">][</span><span class="ss">node=2/3</span><span class="pp">]</span></span>
<span id="cb9-49"><a href="#cb9-49"></a><span class="ex">[2024-11-28</span> 13:44:32.863239]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">dist.py:348</span><span class="pp">]</span> <span class="at">-</span> <span class="pp">[</span><span class="ss">device=</span><span class="st">'xpu'</span><span class="pp">][</span><span class="ss">rank=29/47</span><span class="pp">][</span><span class="ss">local_rank=5/11</span><span class="pp">][</span><span class="ss">node=1/3</span><span class="pp">]</span></span>
<span id="cb9-50"><a href="#cb9-50"></a><span class="ex">[2024-11-28</span> 13:44:32.864956]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">dist.py:348</span><span class="pp">]</span> <span class="at">-</span> <span class="pp">[</span><span class="ss">device=</span><span class="st">'xpu'</span><span class="pp">][</span><span class="ss">rank=45/47</span><span class="pp">][</span><span class="ss">local_rank=9/11</span><span class="pp">][</span><span class="ss">node=1/3</span><span class="pp">]</span></span>
<span id="cb9-51"><a href="#cb9-51"></a><span class="ex">[2024-11-28</span> 13:44:32.867388]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">dist.py:348</span><span class="pp">]</span> <span class="at">-</span> <span class="pp">[</span><span class="ss">device=</span><span class="st">'xpu'</span><span class="pp">][</span><span class="ss">rank=27/47</span><span class="pp">][</span><span class="ss">local_rank=3/11</span><span class="pp">][</span><span class="ss">node=3/3</span><span class="pp">]</span></span>
<span id="cb9-52"><a href="#cb9-52"></a><span class="ex">[2024-11-28</span> 13:44:32.867764]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">dist.py:348</span><span class="pp">]</span> <span class="at">-</span> <span class="pp">[</span><span class="ss">device=</span><span class="st">'xpu'</span><span class="pp">][</span><span class="ss">rank=43/47</span><span class="pp">][</span><span class="ss">local_rank=7/11</span><span class="pp">][</span><span class="ss">node=3/3</span><span class="pp">]</span></span>
<span id="cb9-53"><a href="#cb9-53"></a><span class="ex">[2024-11-28</span> 13:44:32.873106]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">dist.py:348</span><span class="pp">]</span> <span class="at">-</span> <span class="pp">[</span><span class="ss">device=</span><span class="st">'xpu'</span><span class="pp">][</span><span class="ss">rank=34/47</span><span class="pp">][</span><span class="ss">local_rank=10/11</span><span class="pp">][</span><span class="ss">node=2/3</span><span class="pp">]</span></span>
<span id="cb9-54"><a href="#cb9-54"></a><span class="ex">[2024-11-28</span> 13:44:32.877043]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">dist.py:348</span><span class="pp">]</span> <span class="at">-</span> <span class="pp">[</span><span class="ss">device=</span><span class="st">'xpu'</span><span class="pp">][</span><span class="ss">rank=31/47</span><span class="pp">][</span><span class="ss">local_rank=7/11</span><span class="pp">][</span><span class="ss">node=3/3</span><span class="pp">]</span></span>
<span id="cb9-55"><a href="#cb9-55"></a><span class="ex">[2024-11-28</span> 13:44:32.887609]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">dist.py:92</span><span class="pp">]</span> <span class="at">-</span></span>
<span id="cb9-56"><a href="#cb9-56"></a></span>
<span id="cb9-57"><a href="#cb9-57"></a><span class="ex">[dist_info]:</span></span>
<span id="cb9-58"><a href="#cb9-58"></a>  <span class="ex">â€¢</span> DEVICE=xpu</span>
<span id="cb9-59"><a href="#cb9-59"></a>  <span class="ex">â€¢</span> DEVICE_ID=xpu:0</span>
<span id="cb9-60"><a href="#cb9-60"></a>  <span class="ex">â€¢</span> DISTRIBUTED_BACKEND=ccl</span>
<span id="cb9-61"><a href="#cb9-61"></a>  <span class="ex">â€¢</span> GPUS_PER_NODE=12</span>
<span id="cb9-62"><a href="#cb9-62"></a>  <span class="ex">â€¢</span> HOSTS=[<span class="st">'x1922c5s0b0n0.hostmgmt2001.cm.americas.sgi.com'</span>, <span class="st">'x1922c5s2b0n0.hostmgmt2001.cm.americas.sgi.com'</span>, <span class="st">'x1922c5s4b0n0.hostmgmt2001.cm.americas.sgi.com'</span>, <span class="st">'x1922c6s1b0n0.hostmgmt2001.cm.americas.sgi.com'</span>]</span>
<span id="cb9-63"><a href="#cb9-63"></a>  <span class="ex">â€¢</span> HOSTFILE=/var/spool/pbs/aux/10283088.amn-0001</span>
<span id="cb9-64"><a href="#cb9-64"></a>  <span class="ex">â€¢</span> HOSTNAME=x1922c5s0b0n0.hostmgmt2001.cm.americas.sgi.com</span>
<span id="cb9-65"><a href="#cb9-65"></a>  <span class="ex">â€¢</span> LOCAL_RANK=0</span>
<span id="cb9-66"><a href="#cb9-66"></a>  <span class="ex">â€¢</span> MACHINE=SunSpot</span>
<span id="cb9-67"><a href="#cb9-67"></a>  <span class="ex">â€¢</span> NUM_NODES=4</span>
<span id="cb9-68"><a href="#cb9-68"></a>  <span class="ex">â€¢</span> NGPUS=48</span>
<span id="cb9-69"><a href="#cb9-69"></a>  <span class="ex">â€¢</span> NGPUS_AVAILABLE=48</span>
<span id="cb9-70"><a href="#cb9-70"></a>  <span class="ex">â€¢</span> NODE_ID=0</span>
<span id="cb9-71"><a href="#cb9-71"></a>  <span class="ex">â€¢</span> RANK=0</span>
<span id="cb9-72"><a href="#cb9-72"></a>  <span class="ex">â€¢</span> SCHEDULER=PBS</span>
<span id="cb9-73"><a href="#cb9-73"></a>  <span class="ex">â€¢</span> WORLD_SIZE_TOTAL=48</span>
<span id="cb9-74"><a href="#cb9-74"></a>  <span class="ex">â€¢</span> WORLD_SIZE_IN_USE=48</span>
<span id="cb9-75"><a href="#cb9-75"></a>  <span class="ex">â€¢</span> LAUNCH_CMD=mpiexec <span class="at">--verbose</span> <span class="at">--envall</span> <span class="at">-n</span> 48 <span class="at">-ppn</span> 12 <span class="at">--hostfile</span> /var/spool/pbs/aux/10283088.amn-0001 <span class="at">--cpu-bind</span> depth <span class="at">-d</span> 16</span>
<span id="cb9-76"><a href="#cb9-76"></a></span>
<span id="cb9-77"><a href="#cb9-77"></a></span>
<span id="cb9-78"><a href="#cb9-78"></a><span class="ex">[2024-11-28</span> 13:44:32.933415]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">dist.py:725</span><span class="pp">]</span> <span class="at">-</span> Using oneccl_bindings from: /opt/aurora/24.180.1/frameworks/aurora_nre_models_frameworks-2024.2.1_u1/lib/python3.10/site-packages/oneccl_bindings_for_pytorch/__init__.py</span>
<span id="cb9-79"><a href="#cb9-79"></a><span class="ex">[2024-11-28</span> 13:44:32.933861]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">dist.py:727</span><span class="pp">]</span> <span class="at">-</span> Using ipex from: /opt/aurora/24.180.1/frameworks/aurora_nre_models_frameworks-2024.2.1_u1/lib/python3.10/site-packages/intel_extension_for_pytorch/__init__.py</span>
<span id="cb9-80"><a href="#cb9-80"></a><span class="ex">[2024-11-28</span> 13:44:32.934238]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">dist.py:728</span><span class="pp">]</span> <span class="at">-</span> <span class="pp">[</span><span class="ss">0/48</span><span class="pp">]</span> Using device=<span class="st">'xpu'</span> with backend=<span class="st">'DDP'</span> + <span class="st">'ccl'</span> for distributed training.</span>
<span id="cb9-81"><a href="#cb9-81"></a><span class="ex">[2024-11-28</span> 13:44:32.940188]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">dist.py:348</span><span class="pp">]</span> <span class="at">-</span> <span class="pp">[</span><span class="ss">device=</span><span class="st">'xpu'</span><span class="pp">][</span><span class="ss">rank=0/47</span><span class="pp">][</span><span class="ss">local_rank=0/11</span><span class="pp">][</span><span class="ss">node=0/3</span><span class="pp">]</span></span>
<span id="cb9-82"><a href="#cb9-82"></a><span class="ex">[2024-11-28</span> 13:44:32.940746]<span class="pp">[</span><span class="ss">WARNING</span><span class="pp">][</span><span class="ss">_logger.py:68</span><span class="pp">]</span> <span class="at">-</span> Using [48 / 48] available <span class="st">"xpu"</span> devices !!</span>
<span id="cb9-83"><a href="#cb9-83"></a><span class="ex">[2024-11-28</span> 13:44:34.193788]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">dist.py:882</span><span class="pp">]</span> <span class="at">-</span> Setting up wandb from rank: 0</span>
<span id="cb9-84"><a href="#cb9-84"></a><span class="ex">[2024-11-28</span> 13:44:34.194312]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">dist.py:883</span><span class="pp">]</span> <span class="at">-</span> Using: WB PROJECT: ezpz.test_dist</span>
<span id="cb9-85"><a href="#cb9-85"></a><span class="ex">wandb:</span> Using wandb-core as the SDK backend.  Please refer to https://wandb.me/wandb-core for more information.</span>
<span id="cb9-86"><a href="#cb9-86"></a><span class="ex">wandb:</span> Currently logged in as: foremans <span class="er">(</span><span class="ex">aurora_gpt</span><span class="kw">)</span><span class="bu">.</span> Use <span class="kw">`</span><span class="ex">wandb</span> login <span class="at">--relogin</span><span class="kw">`</span> to force relogin</span>
<span id="cb9-87"><a href="#cb9-87"></a><span class="ex">wandb:</span> Tracking run with wandb version 0.18.7</span>
<span id="cb9-88"><a href="#cb9-88"></a><span class="ex">wandb:</span> Run data is saved locally in /lus/gila/projects/Aurora_deployment/foremans/projects/saforem2/ezpz/wandb/run-20241128_134434-4mwyy84l</span>
<span id="cb9-89"><a href="#cb9-89"></a><span class="ex">wandb:</span> Run <span class="kw">`</span><span class="ex">wandb</span> offline<span class="kw">`</span> to turn off syncing.</span>
<span id="cb9-90"><a href="#cb9-90"></a><span class="ex">wandb:</span> Syncing run driven-wind-683</span>
<span id="cb9-91"><a href="#cb9-91"></a><span class="ex">wandb:</span> â­ï¸ View project at https://wandb.ai/aurora_gpt/ezpz.test_dist</span>
<span id="cb9-92"><a href="#cb9-92"></a><span class="ex">wandb:</span> ğŸš€ View run at https://wandb.ai/aurora_gpt/ezpz.test_dist/runs/4mwyy84l</span>
<span id="cb9-93"><a href="#cb9-93"></a><span class="ex">[2024-11-28</span> 13:44:35.481364]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">dist.py:908</span><span class="pp">]</span> <span class="at">-</span> W<span class="kw">&amp;</span><span class="ex">B</span> RUN: <span class="pp">[</span><span class="ss">driven</span><span class="pp">-</span><span class="ss">wind</span><span class="pp">-</span><span class="ss">683</span><span class="pp">]</span><span class="er">(</span><span class="ex">https://wandb.ai/aurora_gpt/ezpz.test_dist/runs/4mwyy84l</span><span class="kw">)</span></span>
<span id="cb9-94"><a href="#cb9-94"></a><span class="ex">[2024-11-28</span> 13:44:35.495959]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">dist.py:304</span><span class="pp">]</span> <span class="at">-</span> Updating wandb.run: driven-wind-683 config with <span class="st">"DIST_INFO"</span></span>
<span id="cb9-95"><a href="#cb9-95"></a><span class="ex">[2024-11-28</span> 13:44:35.500222]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">dist.py:936</span><span class="pp">]</span> <span class="at">-</span> Running on machine=<span class="st">'SunSpot'</span></span>
<span id="cb9-96"><a href="#cb9-96"></a><span class="ex">[2024-11-28</span> 13:44:35.501304]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">dist.py:92</span><span class="pp">]</span> <span class="at">-</span></span>
<span id="cb9-97"><a href="#cb9-97"></a></span>
<span id="cb9-98"><a href="#cb9-98"></a><span class="ex">[CONFIG]:</span></span>
<span id="cb9-99"><a href="#cb9-99"></a>  <span class="ex">â€¢</span> warmup=0</span>
<span id="cb9-100"><a href="#cb9-100"></a>  <span class="ex">â€¢</span> log_freq=1</span>
<span id="cb9-101"><a href="#cb9-101"></a>  <span class="ex">â€¢</span> batch_size=64</span>
<span id="cb9-102"><a href="#cb9-102"></a>  <span class="ex">â€¢</span> input_size=128</span>
<span id="cb9-103"><a href="#cb9-103"></a>  <span class="ex">â€¢</span> output_size=128</span>
<span id="cb9-104"><a href="#cb9-104"></a>  <span class="ex">â€¢</span> dtype=torch.float32</span>
<span id="cb9-105"><a href="#cb9-105"></a>  <span class="ex">â€¢</span> device=xpu</span>
<span id="cb9-106"><a href="#cb9-106"></a>  <span class="ex">â€¢</span> world_size=48</span>
<span id="cb9-107"><a href="#cb9-107"></a>  <span class="ex">â€¢</span> train_iters=100</span>
<span id="cb9-108"><a href="#cb9-108"></a></span>
<span id="cb9-109"><a href="#cb9-109"></a></span>
<span id="cb9-110"><a href="#cb9-110"></a><span class="ex">[2024-11-28</span> 13:44:35.575161]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:147</span><span class="pp">]</span> <span class="at">-</span> model=Network<span class="er">(</span></span>
<span id="cb9-111"><a href="#cb9-111"></a>  <span class="kw">(</span><span class="ex">layers</span><span class="kw">)</span><span class="bu">:</span> Sequential<span class="er">(</span></span>
<span id="cb9-112"><a href="#cb9-112"></a>    <span class="kw">(</span><span class="ex">0</span><span class="kw">)</span><span class="bu">:</span> Linear<span class="er">(</span><span class="va">in_features</span><span class="op">=</span>128, <span class="va">out_features</span><span class="op">=</span>1024, <span class="va">bias</span><span class="op">=</span>True<span class="kw">)</span></span>
<span id="cb9-113"><a href="#cb9-113"></a>    <span class="kw">(</span><span class="ex">1</span><span class="kw">)</span><span class="bu">:</span> Linear<span class="er">(</span><span class="va">in_features</span><span class="op">=</span>1024, <span class="va">out_features</span><span class="op">=</span>512, <span class="va">bias</span><span class="op">=</span>True<span class="kw">)</span></span>
<span id="cb9-114"><a href="#cb9-114"></a>    <span class="kw">(</span><span class="ex">2</span><span class="kw">)</span><span class="bu">:</span> Linear<span class="er">(</span><span class="va">in_features</span><span class="op">=</span>512, <span class="va">out_features</span><span class="op">=</span>256, <span class="va">bias</span><span class="op">=</span>True<span class="kw">)</span></span>
<span id="cb9-115"><a href="#cb9-115"></a>    <span class="kw">(</span><span class="ex">3</span><span class="kw">)</span><span class="bu">:</span> Linear<span class="er">(</span><span class="va">in_features</span><span class="op">=</span>256, <span class="va">out_features</span><span class="op">=</span>128, <span class="va">bias</span><span class="op">=</span>True<span class="kw">)</span></span>
<span id="cb9-116"><a href="#cb9-116"></a>    <span class="kw">(</span><span class="ex">4</span><span class="kw">)</span><span class="bu">:</span> Linear<span class="er">(</span><span class="va">in_features</span><span class="op">=</span>128, <span class="va">out_features</span><span class="op">=</span>128, <span class="va">bias</span><span class="op">=</span>True<span class="kw">)</span></span>
<span id="cb9-117"><a href="#cb9-117"></a>  <span class="kw">)</span></span>
<span id="cb9-118"><a href="#cb9-118"></a><span class="kw">)</span></span>
<span id="cb9-119"><a href="#cb9-119"></a><span class="ex">[2024-11-28</span> 13:44:48.340596]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=1 dt=0.019713 dtf=0.002959 dtb=0.016754 loss=1821.131958 sps=3246.551823</span>
<span id="cb9-120"><a href="#cb9-120"></a><span class="ex">[2024-11-28</span> 13:44:48.346527]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=2 dt=0.004083 dtf=0.000822 dtb=0.003261 loss=1348.032227 sps=15673.877930</span>
<span id="cb9-121"><a href="#cb9-121"></a><span class="ex">[2024-11-28</span> 13:44:48.351387]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=3 dt=0.003260 dtf=0.000735 dtb=0.002525 loss=1072.068359 sps=19634.479814</span>
<span id="cb9-122"><a href="#cb9-122"></a><span class="ex">[2024-11-28</span> 13:44:48.356043]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=4 dt=0.003117 dtf=0.000716 dtb=0.002401 loss=928.493774 sps=20534.414826</span>
<span id="cb9-123"><a href="#cb9-123"></a><span class="ex">[2024-11-28</span> 13:44:48.360830]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=5 dt=0.003181 dtf=0.000798 dtb=0.002384 loss=867.221558 sps=20116.568892</span>
<span id="cb9-124"><a href="#cb9-124"></a><span class="ex">[2024-11-28</span> 13:44:48.365608]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=6 dt=0.003146 dtf=0.000738 dtb=0.002408 loss=794.671204 sps=20341.929281</span>
<span id="cb9-125"><a href="#cb9-125"></a><span class="ex">[2024-11-28</span> 13:44:48.370473]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=7 dt=0.003149 dtf=0.000751 dtb=0.002398 loss=748.687500 sps=20324.551047</span>
<span id="cb9-126"><a href="#cb9-126"></a><span class="ex">[2024-11-28</span> 13:44:48.375126]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=8 dt=0.003105 dtf=0.000719 dtb=0.002385 loss=720.116943 sps=20614.492256</span>
<span id="cb9-127"><a href="#cb9-127"></a><span class="ex">[2024-11-28</span> 13:44:48.379744]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=9 dt=0.003057 dtf=0.000698 dtb=0.002359 loss=714.217957 sps=20937.174740</span>
<span id="cb9-128"><a href="#cb9-128"></a><span class="ex">[2024-11-28</span> 13:44:48.384429]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=10 dt=0.003083 dtf=0.000703 dtb=0.002380 loss=718.780884 sps=20760.967373</span>
<span id="cb9-129"><a href="#cb9-129"></a><span class="ex">[2024-11-28</span> 13:44:48.390098]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=11 dt=0.003931 dtf=0.000802 dtb=0.003129 loss=699.931152 sps=16281.262548</span>
<span id="cb9-130"><a href="#cb9-130"></a><span class="ex">[2024-11-28</span> 13:44:48.395638]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=12 dt=0.003698 dtf=0.000865 dtb=0.002832 loss=687.315857 sps=17308.773026</span>
<span id="cb9-131"><a href="#cb9-131"></a><span class="ex">[2024-11-28</span> 13:44:48.400852]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=13 dt=0.003502 dtf=0.000792 dtb=0.002709 loss=685.231995 sps=18276.152786</span>
<span id="cb9-132"><a href="#cb9-132"></a><span class="ex">[2024-11-28</span> 13:44:48.406145]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=14 dt=0.003501 dtf=0.000788 dtb=0.002714 loss=678.643860 sps=18278.977230</span>
<span id="cb9-133"><a href="#cb9-133"></a><span class="ex">[2024-11-28</span> 13:44:48.411186]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=15 dt=0.003366 dtf=0.000760 dtb=0.002606 loss=675.734375 sps=19012.740109</span>
<span id="cb9-134"><a href="#cb9-134"></a><span class="ex">[2024-11-28</span> 13:44:48.416092]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=16 dt=0.003308 dtf=0.000764 dtb=0.002545 loss=656.803894 sps=19345.774997</span>
<span id="cb9-135"><a href="#cb9-135"></a><span class="ex">[2024-11-28</span> 13:44:48.421088]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=17 dt=0.003326 dtf=0.000800 dtb=0.002526 loss=663.846558 sps=19240.551489</span>
<span id="cb9-136"><a href="#cb9-136"></a><span class="ex">[2024-11-28</span> 13:44:48.426305]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=18 dt=0.003439 dtf=0.000805 dtb=0.002634 loss=646.870605 sps=18607.582468</span>
<span id="cb9-137"><a href="#cb9-137"></a><span class="ex">[2024-11-28</span> 13:44:48.431107]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=19 dt=0.003217 dtf=0.000730 dtb=0.002488 loss=631.541504 sps=19893.098888</span>
<span id="cb9-138"><a href="#cb9-138"></a><span class="ex">[2024-11-28</span> 13:44:48.436171]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=20 dt=0.003447 dtf=0.000707 dtb=0.002741 loss=645.819580 sps=18564.526433</span>
<span id="cb9-139"><a href="#cb9-139"></a><span class="ex">[2024-11-28</span> 13:44:48.441333]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=21 dt=0.003465 dtf=0.000921 dtb=0.002543 loss=642.620361 sps=18470.919500</span>
<span id="cb9-140"><a href="#cb9-140"></a><span class="ex">[2024-11-28</span> 13:44:48.446923]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=22 dt=0.003732 dtf=0.000822 dtb=0.002910 loss=639.229980 sps=17149.966074</span>
<span id="cb9-141"><a href="#cb9-141"></a><span class="ex">[2024-11-28</span> 13:44:48.451965]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=23 dt=0.003386 dtf=0.000778 dtb=0.002608 loss=627.894897 sps=18902.966756</span>
<span id="cb9-142"><a href="#cb9-142"></a><span class="ex">[2024-11-28</span> 13:44:48.457006]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=24 dt=0.003367 dtf=0.000807 dtb=0.002560 loss=604.797424 sps=19007.381386</span>
<span id="cb9-143"><a href="#cb9-143"></a><span class="ex">[2024-11-28</span> 13:44:48.461850]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=25 dt=0.003164 dtf=0.000721 dtb=0.002443 loss=614.561523 sps=20229.778931</span>
<span id="cb9-144"><a href="#cb9-144"></a><span class="ex">[2024-11-28</span> 13:44:48.466983]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=26 dt=0.003473 dtf=0.000759 dtb=0.002714 loss=617.550781 sps=18428.700435</span>
<span id="cb9-145"><a href="#cb9-145"></a><span class="ex">[2024-11-28</span> 13:44:48.471925]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=27 dt=0.003289 dtf=0.000758 dtb=0.002531 loss=618.434082 sps=19457.441792</span>
<span id="cb9-146"><a href="#cb9-146"></a><span class="ex">[2024-11-28</span> 13:44:48.477516]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=28 dt=0.003872 dtf=0.000930 dtb=0.002942 loss=607.261475 sps=16528.336617</span>
<span id="cb9-147"><a href="#cb9-147"></a><span class="ex">[2024-11-28</span> 13:44:48.482581]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=29 dt=0.003365 dtf=0.000773 dtb=0.002591 loss=601.454590 sps=19021.673645</span>
<span id="cb9-148"><a href="#cb9-148"></a><span class="ex">[2024-11-28</span> 13:44:48.487622]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=30 dt=0.003288 dtf=0.000825 dtb=0.002463 loss=594.649170 sps=19463.454229</span>
<span id="cb9-149"><a href="#cb9-149"></a><span class="ex">[2024-11-28</span> 13:44:48.492493]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=31 dt=0.003211 dtf=0.000734 dtb=0.002477 loss=582.087036 sps=19933.062380</span>
<span id="cb9-150"><a href="#cb9-150"></a><span class="ex">[2024-11-28</span> 13:44:48.497510]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=32 dt=0.003360 dtf=0.000851 dtb=0.002509 loss=582.850586 sps=19050.324061</span>
<span id="cb9-151"><a href="#cb9-151"></a><span class="ex">[2024-11-28</span> 13:44:48.502534]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=33 dt=0.003299 dtf=0.000751 dtb=0.002547 loss=574.619019 sps=19402.524122</span>
<span id="cb9-152"><a href="#cb9-152"></a><span class="ex">[2024-11-28</span> 13:44:48.507516]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=34 dt=0.003318 dtf=0.000843 dtb=0.002475 loss=571.530273 sps=19291.396984</span>
<span id="cb9-153"><a href="#cb9-153"></a><span class="ex">[2024-11-28</span> 13:44:48.512324]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=35 dt=0.003162 dtf=0.000718 dtb=0.002444 loss=569.056335 sps=20239.766403</span>
<span id="cb9-154"><a href="#cb9-154"></a><span class="ex">[2024-11-28</span> 13:44:48.517314]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=36 dt=0.003338 dtf=0.000803 dtb=0.002535 loss=570.773315 sps=19171.898987</span>
<span id="cb9-155"><a href="#cb9-155"></a><span class="ex">[2024-11-28</span> 13:44:48.522111]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=37 dt=0.003111 dtf=0.000712 dtb=0.002399 loss=564.691101 sps=20571.738756</span>
<span id="cb9-156"><a href="#cb9-156"></a><span class="ex">[2024-11-28</span> 13:44:48.527333]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=38 dt=0.003581 dtf=0.000698 dtb=0.002883 loss=555.157349 sps=17870.995302</span>
<span id="cb9-157"><a href="#cb9-157"></a><span class="ex">[2024-11-28</span> 13:44:48.532827]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=39 dt=0.003596 dtf=0.000841 dtb=0.002755 loss=542.374756 sps=17796.934508</span>
<span id="cb9-158"><a href="#cb9-158"></a><span class="ex">[2024-11-28</span> 13:44:48.538391]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=40 dt=0.003673 dtf=0.000872 dtb=0.002801 loss=538.616821 sps=17424.614226</span>
<span id="cb9-159"><a href="#cb9-159"></a><span class="ex">[2024-11-28</span> 13:44:48.543835]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=41 dt=0.003606 dtf=0.000837 dtb=0.002769 loss=546.055054 sps=17746.977167</span>
<span id="cb9-160"><a href="#cb9-160"></a><span class="ex">[2024-11-28</span> 13:44:48.548728]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=42 dt=0.003171 dtf=0.000786 dtb=0.002385 loss=541.741455 sps=20183.008810</span>
<span id="cb9-161"><a href="#cb9-161"></a><span class="ex">[2024-11-28</span> 13:44:48.553392]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=43 dt=0.003091 dtf=0.000675 dtb=0.002415 loss=541.895630 sps=20707.731509</span>
<span id="cb9-162"><a href="#cb9-162"></a><span class="ex">[2024-11-28</span> 13:44:48.558674]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=44 dt=0.003598 dtf=0.000797 dtb=0.002801 loss=532.636841 sps=17789.399613</span>
<span id="cb9-163"><a href="#cb9-163"></a><span class="ex">[2024-11-28</span> 13:44:48.563691]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=45 dt=0.003305 dtf=0.000726 dtb=0.002579 loss=527.679077 sps=19363.041186</span>
<span id="cb9-164"><a href="#cb9-164"></a><span class="ex">[2024-11-28</span> 13:44:48.568927]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=46 dt=0.003472 dtf=0.000776 dtb=0.002696 loss=519.220581 sps=18435.547756</span>
<span id="cb9-165"><a href="#cb9-165"></a><span class="ex">[2024-11-28</span> 13:44:48.573801]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=47 dt=0.003203 dtf=0.000723 dtb=0.002480 loss=527.749268 sps=19982.521481</span>
<span id="cb9-166"><a href="#cb9-166"></a><span class="ex">[2024-11-28</span> 13:44:48.578761]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=48 dt=0.003253 dtf=0.000782 dtb=0.002471 loss=524.344238 sps=19672.846752</span>
<span id="cb9-167"><a href="#cb9-167"></a><span class="ex">[2024-11-28</span> 13:44:48.583369]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=49 dt=0.003042 dtf=0.000652 dtb=0.002390 loss=514.100464 sps=21038.853899</span>
<span id="cb9-168"><a href="#cb9-168"></a><span class="ex">[2024-11-28</span> 13:44:48.588292]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=50 dt=0.003210 dtf=0.000763 dtb=0.002447 loss=513.998962 sps=19936.401969</span>
<span id="cb9-169"><a href="#cb9-169"></a><span class="ex">[2024-11-28</span> 13:44:48.593155]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=51 dt=0.003210 dtf=0.000763 dtb=0.002447 loss=506.444519 sps=19937.409848</span>
<span id="cb9-170"><a href="#cb9-170"></a><span class="ex">[2024-11-28</span> 13:44:48.598482]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=52 dt=0.003648 dtf=0.000781 dtb=0.002868 loss=505.063721 sps=17542.989327</span>
<span id="cb9-171"><a href="#cb9-171"></a><span class="ex">[2024-11-28</span> 13:44:48.603395]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=53 dt=0.003258 dtf=0.000742 dtb=0.002516 loss=500.011047 sps=19642.561466</span>
<span id="cb9-172"><a href="#cb9-172"></a><span class="ex">[2024-11-28</span> 13:44:48.608385]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=54 dt=0.003292 dtf=0.000797 dtb=0.002495 loss=508.445740 sps=19439.362133</span>
<span id="cb9-173"><a href="#cb9-173"></a><span class="ex">[2024-11-28</span> 13:44:48.613115]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=55 dt=0.003151 dtf=0.000699 dtb=0.002452 loss=492.626648 sps=20310.433009</span>
<span id="cb9-174"><a href="#cb9-174"></a><span class="ex">[2024-11-28</span> 13:44:48.618036]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=56 dt=0.003251 dtf=0.000727 dtb=0.002524 loss=487.402435 sps=19684.735824</span>
<span id="cb9-175"><a href="#cb9-175"></a><span class="ex">[2024-11-28</span> 13:44:48.623122]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=57 dt=0.003449 dtf=0.000979 dtb=0.002469 loss=474.962097 sps=18556.851343</span>
<span id="cb9-176"><a href="#cb9-176"></a><span class="ex">[2024-11-28</span> 13:44:48.628167]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=58 dt=0.003343 dtf=0.000811 dtb=0.002532 loss=479.064941 sps=19143.536594</span>
<span id="cb9-177"><a href="#cb9-177"></a><span class="ex">[2024-11-28</span> 13:44:48.633070]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=59 dt=0.003256 dtf=0.000787 dtb=0.002468 loss=471.197083 sps=19658.706785</span>
<span id="cb9-178"><a href="#cb9-178"></a><span class="ex">[2024-11-28</span> 13:44:48.638373]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=60 dt=0.003548 dtf=0.000853 dtb=0.002696 loss=469.964081 sps=18037.965649</span>
<span id="cb9-179"><a href="#cb9-179"></a><span class="ex">[2024-11-28</span> 13:44:48.643270]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=61 dt=0.003225 dtf=0.000736 dtb=0.002489 loss=476.972076 sps=19844.166872</span>
<span id="cb9-180"><a href="#cb9-180"></a><span class="ex">[2024-11-28</span> 13:44:48.648256]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=62 dt=0.003214 dtf=0.000745 dtb=0.002469 loss=463.572174 sps=19912.478524</span>
<span id="cb9-181"><a href="#cb9-181"></a><span class="ex">[2024-11-28</span> 13:44:48.652939]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=63 dt=0.003095 dtf=0.000683 dtb=0.002411 loss=462.910156 sps=20679.849741</span>
<span id="cb9-182"><a href="#cb9-182"></a><span class="ex">[2024-11-28</span> 13:44:48.657892]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=64 dt=0.003239 dtf=0.000746 dtb=0.002492 loss=457.325439 sps=19762.175344</span>
<span id="cb9-183"><a href="#cb9-183"></a><span class="ex">[2024-11-28</span> 13:44:48.662903]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=65 dt=0.003293 dtf=0.000729 dtb=0.002563 loss=453.347168 sps=19438.021843</span>
<span id="cb9-184"><a href="#cb9-184"></a><span class="ex">[2024-11-28</span> 13:44:48.667970]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=66 dt=0.003276 dtf=0.000788 dtb=0.002488 loss=450.351135 sps=19534.356115</span>
<span id="cb9-185"><a href="#cb9-185"></a><span class="ex">[2024-11-28</span> 13:44:48.672824]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=67 dt=0.003192 dtf=0.000735 dtb=0.002457 loss=450.714233 sps=20047.789409</span>
<span id="cb9-186"><a href="#cb9-186"></a><span class="ex">[2024-11-28</span> 13:44:48.677882]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=68 dt=0.003330 dtf=0.000799 dtb=0.002530 loss=440.284546 sps=19220.840096</span>
<span id="cb9-187"><a href="#cb9-187"></a><span class="ex">[2024-11-28</span> 13:44:48.682532]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=69 dt=0.003081 dtf=0.000663 dtb=0.002418 loss=444.536011 sps=20770.230742</span>
<span id="cb9-188"><a href="#cb9-188"></a><span class="ex">[2024-11-28</span> 13:44:48.687492]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=70 dt=0.003307 dtf=0.000766 dtb=0.002541 loss=446.201233 sps=19354.965715</span>
<span id="cb9-189"><a href="#cb9-189"></a><span class="ex">[2024-11-28</span> 13:44:48.692350]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=71 dt=0.003225 dtf=0.000737 dtb=0.002488 loss=427.167328 sps=19845.047963</span>
<span id="cb9-190"><a href="#cb9-190"></a><span class="ex">[2024-11-28</span> 13:44:48.697422]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=72 dt=0.003415 dtf=0.000881 dtb=0.002534 loss=434.620087 sps=18740.536560</span>
<span id="cb9-191"><a href="#cb9-191"></a><span class="ex">[2024-11-28</span> 13:44:48.702393]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=73 dt=0.003299 dtf=0.000740 dtb=0.002559 loss=425.558777 sps=19402.652860</span>
<span id="cb9-192"><a href="#cb9-192"></a><span class="ex">[2024-11-28</span> 13:44:48.707240]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=74 dt=0.003180 dtf=0.000789 dtb=0.002391 loss=428.168945 sps=20126.919392</span>
<span id="cb9-193"><a href="#cb9-193"></a><span class="ex">[2024-11-28</span> 13:44:48.712103]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=75 dt=0.003322 dtf=0.000680 dtb=0.002642 loss=417.153503 sps=19263.558998</span>
<span id="cb9-194"><a href="#cb9-194"></a><span class="ex">[2024-11-28</span> 13:44:48.717120]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=76 dt=0.003405 dtf=0.000787 dtb=0.002618 loss=412.435059 sps=18794.204421</span>
<span id="cb9-195"><a href="#cb9-195"></a><span class="ex">[2024-11-28</span> 13:44:48.722012]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=77 dt=0.003208 dtf=0.000722 dtb=0.002487 loss=426.690186 sps=19947.873515</span>
<span id="cb9-196"><a href="#cb9-196"></a><span class="ex">[2024-11-28</span> 13:44:48.727040]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=78 dt=0.003330 dtf=0.000775 dtb=0.002554 loss=404.138733 sps=19220.615648</span>
<span id="cb9-197"><a href="#cb9-197"></a><span class="ex">[2024-11-28</span> 13:44:48.731946]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=79 dt=0.003218 dtf=0.000757 dtb=0.002461 loss=396.998413 sps=19886.330391</span>
<span id="cb9-198"><a href="#cb9-198"></a><span class="ex">[2024-11-28</span> 13:44:48.736956]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=80 dt=0.003362 dtf=0.000818 dtb=0.002544 loss=405.073059 sps=19036.951133</span>
<span id="cb9-199"><a href="#cb9-199"></a><span class="ex">[2024-11-28</span> 13:44:48.742154]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=81 dt=0.003309 dtf=0.000840 dtb=0.002468 loss=408.205780 sps=19341.447610</span>
<span id="cb9-200"><a href="#cb9-200"></a><span class="ex">[2024-11-28</span> 13:44:48.747100]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=82 dt=0.003301 dtf=0.000801 dtb=0.002500 loss=391.203918 sps=19389.697222</span>
<span id="cb9-201"><a href="#cb9-201"></a><span class="ex">[2024-11-28</span> 13:44:48.752235]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=83 dt=0.003488 dtf=0.000732 dtb=0.002756 loss=401.911407 sps=18347.650097</span>
<span id="cb9-202"><a href="#cb9-202"></a><span class="ex">[2024-11-28</span> 13:44:48.757468]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=84 dt=0.003567 dtf=0.000886 dtb=0.002681 loss=390.872192 sps=17942.862497</span>
<span id="cb9-203"><a href="#cb9-203"></a><span class="ex">[2024-11-28</span> 13:44:48.762431]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=85 dt=0.003272 dtf=0.000769 dtb=0.002502 loss=390.741089 sps=19562.065370</span>
<span id="cb9-204"><a href="#cb9-204"></a><span class="ex">[2024-11-28</span> 13:44:48.767527]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=86 dt=0.003390 dtf=0.000795 dtb=0.002596 loss=393.982513 sps=18877.408330</span>
<span id="cb9-205"><a href="#cb9-205"></a><span class="ex">[2024-11-28</span> 13:44:48.772363]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=87 dt=0.003198 dtf=0.000727 dtb=0.002471 loss=378.682495 sps=20014.348794</span>
<span id="cb9-206"><a href="#cb9-206"></a><span class="ex">[2024-11-28</span> 13:44:48.777779]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=88 dt=0.003666 dtf=0.000914 dtb=0.002752 loss=378.739502 sps=17459.234394</span>
<span id="cb9-207"><a href="#cb9-207"></a><span class="ex">[2024-11-28</span> 13:44:48.783160]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=89 dt=0.003529 dtf=0.000832 dtb=0.002697 loss=382.028931 sps=18136.158201</span>
<span id="cb9-208"><a href="#cb9-208"></a><span class="ex">[2024-11-28</span> 13:44:48.788498]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=90 dt=0.003442 dtf=0.000809 dtb=0.002633 loss=371.271118 sps=18594.284077</span>
<span id="cb9-209"><a href="#cb9-209"></a><span class="ex">[2024-11-28</span> 13:44:48.793524]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=91 dt=0.003358 dtf=0.000754 dtb=0.002603 loss=371.135925 sps=19060.348912</span>
<span id="cb9-210"><a href="#cb9-210"></a><span class="ex">[2024-11-28</span> 13:44:48.798593]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=92 dt=0.003336 dtf=0.000791 dtb=0.002545 loss=368.860168 sps=19183.369504</span>
<span id="cb9-211"><a href="#cb9-211"></a><span class="ex">[2024-11-28</span> 13:44:48.803491]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=93 dt=0.003227 dtf=0.000725 dtb=0.002502 loss=371.283356 sps=19831.370522</span>
<span id="cb9-212"><a href="#cb9-212"></a><span class="ex">[2024-11-28</span> 13:44:48.808397]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=94 dt=0.003250 dtf=0.000769 dtb=0.002481 loss=362.983154 sps=19693.397864</span>
<span id="cb9-213"><a href="#cb9-213"></a><span class="ex">[2024-11-28</span> 13:44:48.813075]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=95 dt=0.003098 dtf=0.000703 dtb=0.002396 loss=365.535828 sps=20656.015873</span>
<span id="cb9-214"><a href="#cb9-214"></a><span class="ex">[2024-11-28</span> 13:44:48.818465]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=96 dt=0.003581 dtf=0.000872 dtb=0.002709 loss=344.663239 sps=17873.310048</span>
<span id="cb9-215"><a href="#cb9-215"></a><span class="ex">[2024-11-28</span> 13:44:48.823831]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=97 dt=0.003509 dtf=0.000834 dtb=0.002675 loss=361.620361 sps=18238.825661</span>
<span id="cb9-216"><a href="#cb9-216"></a><span class="ex">[2024-11-28</span> 13:44:48.828930]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=98 dt=0.003326 dtf=0.000804 dtb=0.002522 loss=347.258301 sps=19245.190902</span>
<span id="cb9-217"><a href="#cb9-217"></a><span class="ex">[2024-11-28</span> 13:44:48.834103]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=99 dt=0.003474 dtf=0.000740 dtb=0.002733 loss=346.517212 sps=18424.412945</span>
<span id="cb9-218"><a href="#cb9-218"></a><span class="ex">Failed</span> to download font: IBM Plex Sans, skipping!</span>
<span id="cb9-219"><a href="#cb9-219"></a><span class="ex">Failed</span> to download font: IBM Plex Sans Condensed, skipping!</span>
<span id="cb9-220"><a href="#cb9-220"></a><span class="ex">Failed</span> to download font: IBM Plex Serif, skipping!</span>
<span id="cb9-221"><a href="#cb9-221"></a><span class="ex">[2024-11-28</span> 13:44:50.885911]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">history.py:696</span><span class="pp">]</span> <span class="at">-</span> Saving train_iter plot to: /lus/gila/projects/Aurora_deployment/foremans/projects/saforem2/ezpz/test-dist-plots/mplot</span>
<span id="cb9-222"><a href="#cb9-222"></a><span class="ex">[2024-11-28</span> 13:44:51.498182]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">history.py:696</span><span class="pp">]</span> <span class="at">-</span> Saving train_dt plot to: /lus/gila/projects/Aurora_deployment/foremans/projects/saforem2/ezpz/test-dist-plots/mplot</span>
<span id="cb9-223"><a href="#cb9-223"></a><span class="ex">[2024-11-28</span> 13:44:51.758706]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">history.py:696</span><span class="pp">]</span> <span class="at">-</span> Saving train_dtf plot to: /lus/gila/projects/Aurora_deployment/foremans/projects/saforem2/ezpz/test-dist-plots/mplot</span>
<span id="cb9-224"><a href="#cb9-224"></a><span class="ex">[2024-11-28</span> 13:44:52.022463]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">history.py:696</span><span class="pp">]</span> <span class="at">-</span> Saving train_dtb plot to: /lus/gila/projects/Aurora_deployment/foremans/projects/saforem2/ezpz/test-dist-plots/mplot</span>
<span id="cb9-225"><a href="#cb9-225"></a><span class="ex">[2024-11-28</span> 13:44:52.309521]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">history.py:696</span><span class="pp">]</span> <span class="at">-</span> Saving train_loss plot to: /lus/gila/projects/Aurora_deployment/foremans/projects/saforem2/ezpz/test-dist-plots/mplot</span>
<span id="cb9-226"><a href="#cb9-226"></a><span class="ex">[2024-11-28</span> 13:44:52.562425]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">history.py:696</span><span class="pp">]</span> <span class="at">-</span> Saving train_sps plot to: /lus/gila/projects/Aurora_deployment/foremans/projects/saforem2/ezpz/test-dist-plots/mplot</span>
<span id="cb9-227"><a href="#cb9-227"></a>                        <span class="ex">train_iter</span> <span class="pp">[</span><span class="ss">2024</span><span class="pp">-</span><span class="ss">11</span><span class="pp">-</span><span class="ss">28</span><span class="pp">-</span><span class="ss">134452</span><span class="pp">]</span></span>
<span id="cb9-228"><a href="#cb9-228"></a>    <span class="ex">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span></span>
<span id="cb9-229"><a href="#cb9-229"></a><span class="ex">99.0â”¤</span>                                                                 â–—â–„â–„â–€â”‚</span>
<span id="cb9-230"><a href="#cb9-230"></a>    <span class="ex">â”‚</span>                                                              â–„â–â–€â–˜   â”‚</span>
<span id="cb9-231"><a href="#cb9-231"></a>    <span class="ex">â”‚</span>                                                          â–„â–„â–€â–€       â”‚</span>
<span id="cb9-232"><a href="#cb9-232"></a><span class="ex">82.7â”¤</span>                                                      â–„â–„â–€â–€           â”‚</span>
<span id="cb9-233"><a href="#cb9-233"></a>    <span class="ex">â”‚</span>                                                  â–—â–„â–â–€               â”‚</span>
<span id="cb9-234"><a href="#cb9-234"></a>    <span class="ex">â”‚</span>                                              â–„â–„â–€â–€â–˜                  â”‚</span>
<span id="cb9-235"><a href="#cb9-235"></a><span class="ex">66.3â”¤</span>                                          â–—â–„â–€â–€                       â”‚</span>
<span id="cb9-236"><a href="#cb9-236"></a>    <span class="ex">â”‚</span>                                      â–—â–„â–â–€â–˜                          â”‚</span>
<span id="cb9-237"><a href="#cb9-237"></a><span class="ex">50.0â”¤</span>                                  â–—â–„â–â–€â–˜                              â”‚</span>
<span id="cb9-238"><a href="#cb9-238"></a>    <span class="ex">â”‚</span>                               â–„â–„â–€â–˜                                  â”‚</span>
<span id="cb9-239"><a href="#cb9-239"></a>    <span class="ex">â”‚</span>                          â–—â–„â–â–€â–€                                      â”‚</span>
<span id="cb9-240"><a href="#cb9-240"></a><span class="ex">33.7â”¤</span>                       â–„â–â–€â–˜                                          â”‚</span>
<span id="cb9-241"><a href="#cb9-241"></a>    <span class="ex">â”‚</span>                   â–„â–„â–€â–€                                              â”‚</span>
<span id="cb9-242"><a href="#cb9-242"></a>    <span class="ex">â”‚</span>              â–—â–„â–„â–€â–€                                                  â”‚</span>
<span id="cb9-243"><a href="#cb9-243"></a><span class="ex">17.3â”¤</span>           â–„â–„â–â–˜                                                      â”‚</span>
<span id="cb9-244"><a href="#cb9-244"></a>    <span class="ex">â”‚</span>       â–„â–„â–€â–€                                                          â”‚</span>
<span id="cb9-245"><a href="#cb9-245"></a>    <span class="ex">â”‚</span>   â–—â–„â–€â–€                                                              â”‚</span>
<span id="cb9-246"><a href="#cb9-246"></a> <span class="ex">1.0â”¤â–„â–â–€â–˜</span>                                                                 â”‚</span>
<span id="cb9-247"><a href="#cb9-247"></a>    <span class="ex">â””â”€â”¬â”€â”¬â”€â”€â”€â”¬â”€â”€â”¬â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”¬â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”¬â”€â”€â”¬â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”¬â”€â”€â”¬â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”˜</span></span>
<span id="cb9-248"><a href="#cb9-248"></a>      <span class="ex">2</span> 5  11 16 20   27 31 36   43  48 53 57 61  68 71  78 81 86 91   98</span>
<span id="cb9-249"><a href="#cb9-249"></a><span class="ex">train_iter</span>                        train/iter</span>
<span id="cb9-250"><a href="#cb9-250"></a><span class="ex">[2024-11-28</span> 13:44:52.868990]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">plot.py:220</span><span class="pp">]</span> <span class="at">-</span> Appending plot to: /lus/gila/projects/Aurora_deployment/foremans/projects/saforem2/ezpz/test-dist-plots/tplot/train_iter.txt</span>
<span id="cb9-251"><a href="#cb9-251"></a><span class="ex">text</span> saved in /lus/gila/projects/Aurora_deployment/foremans/projects/saforem2/ezpz/test-dist-plots/tplot/train_iter.txt</span>
<span id="cb9-252"><a href="#cb9-252"></a>                          <span class="ex">train_dt</span> <span class="pp">[</span><span class="ss">2024</span><span class="pp">-</span><span class="ss">11</span><span class="pp">-</span><span class="ss">28</span><span class="pp">-</span><span class="ss">134452</span><span class="pp">]</span></span>
<span id="cb9-253"><a href="#cb9-253"></a>      <span class="ex">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span></span>
<span id="cb9-254"><a href="#cb9-254"></a><span class="ex">0.0197â”¤â–Œ</span>                                                                  â”‚</span>
<span id="cb9-255"><a href="#cb9-255"></a>      <span class="ex">â”‚â–Œ</span>                                                                  â”‚</span>
<span id="cb9-256"><a href="#cb9-256"></a>      <span class="ex">â”‚â–Œ</span>                                                                  â”‚</span>
<span id="cb9-257"><a href="#cb9-257"></a><span class="ex">0.0169â”¤â–Œ</span>                                                                  â”‚</span>
<span id="cb9-258"><a href="#cb9-258"></a>      <span class="ex">â”‚â–Œ</span>                                                                  â”‚</span>
<span id="cb9-259"><a href="#cb9-259"></a>      <span class="ex">â”‚â–Œ</span>                                                                  â”‚</span>
<span id="cb9-260"><a href="#cb9-260"></a><span class="ex">0.0142â”¤â–Œ</span>                                                                  â”‚</span>
<span id="cb9-261"><a href="#cb9-261"></a>      <span class="ex">â”‚â–Œ</span>                                                                  â”‚</span>
<span id="cb9-262"><a href="#cb9-262"></a><span class="ex">0.0114â”¤â–Œ</span>                                                                  â”‚</span>
<span id="cb9-263"><a href="#cb9-263"></a>      <span class="ex">â”‚â–Œ</span>                                                                  â”‚</span>
<span id="cb9-264"><a href="#cb9-264"></a>      <span class="ex">â”‚â–Œ</span>                                                                  â”‚</span>
<span id="cb9-265"><a href="#cb9-265"></a><span class="ex">0.0086â”¤â–Œ</span>                                                                  â”‚</span>
<span id="cb9-266"><a href="#cb9-266"></a>      <span class="ex">â”‚â–Œ</span>                                                                  â”‚</span>
<span id="cb9-267"><a href="#cb9-267"></a>      <span class="ex">â”‚â–Œ</span>                                                                  â”‚</span>
<span id="cb9-268"><a href="#cb9-268"></a><span class="ex">0.0058â”¤â–Œ</span>                                                                  â”‚</span>
<span id="cb9-269"><a href="#cb9-269"></a>      <span class="ex">â”‚â–Œ</span>                                                                  â”‚</span>
<span id="cb9-270"><a href="#cb9-270"></a>      <span class="ex">â”‚â–š</span>      â––          â–—                                                â”‚</span>
<span id="cb9-271"><a href="#cb9-271"></a><span class="ex">0.0030â”¤</span> â–šâ–„â–„â–„â–„â–â–â–€â–€â–€â–€â–„â–€â–€â–€â–„â–€â–˜â–€â–„â–€â–€â–„â–šâ–€â–€â–šâ–„â–€â–€â–„â–„â–„â–â–„â–šâ–„â–€â–„â–šâ–„â–„â–â–„â–â–„â–šâ–€â–šâ–€â–šâ–â–â–€â–€â–€â–â–„â–€â–€â–€â–šâ–„â–â–€â–€â”‚</span>
<span id="cb9-272"><a href="#cb9-272"></a>      <span class="ex">â””â”€â”¬â”€â”¬â”€â”€â”€â”¬â”€â”€â”¬â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”¬â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”˜</span></span>
<span id="cb9-273"><a href="#cb9-273"></a>        <span class="ex">2</span> 5  11 16 20   27 32 36  43  48 53   61   68  74   81 86  91  98</span>
<span id="cb9-274"><a href="#cb9-274"></a><span class="ex">train_dt</span>                           train/iter</span>
<span id="cb9-275"><a href="#cb9-275"></a><span class="ex">[2024-11-28</span> 13:44:52.888254]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">plot.py:220</span><span class="pp">]</span> <span class="at">-</span> Appending plot to: /lus/gila/projects/Aurora_deployment/foremans/projects/saforem2/ezpz/test-dist-plots/tplot/train_dt.txt</span>
<span id="cb9-276"><a href="#cb9-276"></a><span class="ex">text</span> saved in /lus/gila/projects/Aurora_deployment/foremans/projects/saforem2/ezpz/test-dist-plots/tplot/train_dt.txt</span>
<span id="cb9-277"><a href="#cb9-277"></a>                           <span class="ex">train_dtf</span> <span class="pp">[</span><span class="ss">2024</span><span class="pp">-</span><span class="ss">11</span><span class="pp">-</span><span class="ss">28</span><span class="pp">-</span><span class="ss">134452</span><span class="pp">]</span></span>
<span id="cb9-278"><a href="#cb9-278"></a>       <span class="ex">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span></span>
<span id="cb9-279"><a href="#cb9-279"></a><span class="ex">0.00296â”¤â–Œ</span>                                                                 â”‚</span>
<span id="cb9-280"><a href="#cb9-280"></a>       <span class="ex">â”‚â–Œ</span>                                                                 â”‚</span>
<span id="cb9-281"><a href="#cb9-281"></a>       <span class="ex">â”‚â–Œ</span>                                                                 â”‚</span>
<span id="cb9-282"><a href="#cb9-282"></a><span class="ex">0.00257â”¤â–Œ</span>                                                                 â”‚</span>
<span id="cb9-283"><a href="#cb9-283"></a>       <span class="ex">â”‚â–Œ</span>                                                                 â”‚</span>
<span id="cb9-284"><a href="#cb9-284"></a>       <span class="ex">â”‚â–Œ</span>                                                                 â”‚</span>
<span id="cb9-285"><a href="#cb9-285"></a><span class="ex">0.00219â”¤â–Œ</span>                                                                 â”‚</span>
<span id="cb9-286"><a href="#cb9-286"></a>       <span class="ex">â”‚â–Œ</span>                                                                 â”‚</span>
<span id="cb9-287"><a href="#cb9-287"></a><span class="ex">0.00181â”¤â–Œ</span>                                                                 â”‚</span>
<span id="cb9-288"><a href="#cb9-288"></a>       <span class="ex">â”‚â–Œ</span>                                                                 â”‚</span>
<span id="cb9-289"><a href="#cb9-289"></a>       <span class="ex">â”‚â–Œ</span>                                                                 â”‚</span>
<span id="cb9-290"><a href="#cb9-290"></a><span class="ex">0.00142â”¤â–Œ</span>                                                                 â”‚</span>
<span id="cb9-291"><a href="#cb9-291"></a>       <span class="ex">â”‚â–Œ</span>                                                                 â”‚</span>
<span id="cb9-292"><a href="#cb9-292"></a>       <span class="ex">â”‚â–Œ</span>                                                                 â”‚</span>
<span id="cb9-293"><a href="#cb9-293"></a><span class="ex">0.00104â”¤â–Œ</span>                                                                 â”‚</span>
<span id="cb9-294"><a href="#cb9-294"></a>       <span class="ex">â”‚â–Œ</span>            â–—    â––                  â–Ÿ                 â–—  â––       â”‚</span>
<span id="cb9-295"><a href="#cb9-295"></a>       <span class="ex">â”‚â–â––â–—</span>   â–—â–â–„â–„â–„â–„â–—â–˜â–šâ–„â–—â–Ÿâ–šâ–Ÿâ–â–„â–Œâ–— â–â–€â–„â–— â––â–— â–„â––â–— â–›â–„â–Ÿ   â–— â––â––â–Ÿ â––â––â–—â–„â–€â––â–›â–„â–Ÿâ–â–šâ–„â––â––â–â–šâ––â”‚</span>
<span id="cb9-296"><a href="#cb9-296"></a><span class="ex">0.00065â”¤</span> â–â–˜â–€â–€â–€â–˜     â–€   â–˜   â–˜ â–â–˜â–€  â–â–Œâ–€â–â–€â– â–â–˜â–€â–˜  â–€â–šâ–€â–˜â–€â–œâ–â–˜â–€â–œâ–â–˜  â–â–˜ â–   â–â–â–˜ â–â”‚</span>
<span id="cb9-297"><a href="#cb9-297"></a>       <span class="ex">â””â”€â”¬â”€â”¬â”€â”€â”€â”¬â”€â”€â”¬â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”¬â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”¬â”€â”€â”¬â”€â”€â”¬â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”˜</span></span>
<span id="cb9-298"><a href="#cb9-298"></a>         <span class="ex">2</span> 5  11 16 20  27 31 36   43 48 53 57 61  68  74   81 86  91  98</span>
<span id="cb9-299"><a href="#cb9-299"></a><span class="ex">train_dtf</span>                           train/iter</span>
<span id="cb9-300"><a href="#cb9-300"></a><span class="ex">[2024-11-28</span> 13:44:52.904574]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">plot.py:220</span><span class="pp">]</span> <span class="at">-</span> Appending plot to: /lus/gila/projects/Aurora_deployment/foremans/projects/saforem2/ezpz/test-dist-plots/tplot/train_dtf.txt</span>
<span id="cb9-301"><a href="#cb9-301"></a><span class="ex">text</span> saved in /lus/gila/projects/Aurora_deployment/foremans/projects/saforem2/ezpz/test-dist-plots/tplot/train_dtf.txt</span>
<span id="cb9-302"><a href="#cb9-302"></a>                          <span class="ex">train_dtb</span> <span class="pp">[</span><span class="ss">2024</span><span class="pp">-</span><span class="ss">11</span><span class="pp">-</span><span class="ss">28</span><span class="pp">-</span><span class="ss">134452</span><span class="pp">]</span></span>
<span id="cb9-303"><a href="#cb9-303"></a>      <span class="ex">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span></span>
<span id="cb9-304"><a href="#cb9-304"></a><span class="ex">0.0168â”¤â–Œ</span>                                                                  â”‚</span>
<span id="cb9-305"><a href="#cb9-305"></a>      <span class="ex">â”‚â–Œ</span>                                                                  â”‚</span>
<span id="cb9-306"><a href="#cb9-306"></a>      <span class="ex">â”‚â–Œ</span>                                                                  â”‚</span>
<span id="cb9-307"><a href="#cb9-307"></a><span class="ex">0.0144â”¤â–Œ</span>                                                                  â”‚</span>
<span id="cb9-308"><a href="#cb9-308"></a>      <span class="ex">â”‚â–Œ</span>                                                                  â”‚</span>
<span id="cb9-309"><a href="#cb9-309"></a>      <span class="ex">â”‚â–Œ</span>                                                                  â”‚</span>
<span id="cb9-310"><a href="#cb9-310"></a><span class="ex">0.0120â”¤â–Œ</span>                                                                  â”‚</span>
<span id="cb9-311"><a href="#cb9-311"></a>      <span class="ex">â”‚â–Œ</span>                                                                  â”‚</span>
<span id="cb9-312"><a href="#cb9-312"></a><span class="ex">0.0096â”¤â–Œ</span>                                                                  â”‚</span>
<span id="cb9-313"><a href="#cb9-313"></a>      <span class="ex">â”‚â–Œ</span>                                                                  â”‚</span>
<span id="cb9-314"><a href="#cb9-314"></a>      <span class="ex">â”‚â–Œ</span>                                                                  â”‚</span>
<span id="cb9-315"><a href="#cb9-315"></a><span class="ex">0.0072â”¤â–Œ</span>                                                                  â”‚</span>
<span id="cb9-316"><a href="#cb9-316"></a>      <span class="ex">â”‚â–Œ</span>                                                                  â”‚</span>
<span id="cb9-317"><a href="#cb9-317"></a>      <span class="ex">â”‚â–Œ</span>                                                                  â”‚</span>
<span id="cb9-318"><a href="#cb9-318"></a><span class="ex">0.0048â”¤â–Œ</span>                                                                  â”‚</span>
<span id="cb9-319"><a href="#cb9-319"></a>      <span class="ex">â”‚â–Œ</span>                                                                  â”‚</span>
<span id="cb9-320"><a href="#cb9-320"></a>      <span class="ex">â”‚â–š</span>      â––                                                           â”‚</span>
<span id="cb9-321"><a href="#cb9-321"></a><span class="ex">0.0024â”¤</span> â–šâ–„â–„â–„â–„â–â–â–€â–€â–„â–â–„â–šâ–â–šâ–„â–šâ–â–šâ–„â–„â–„â–„â–„â–€â–€â–šâ–„â–€â–€â–„â–„â–„â–â–„â–„â–„â–„â–„â–šâ–„â–„â–„â–„â–„â–„â–„â–„â–„â–€â–šâ–„â–„â–„â–â–€â–â–„â–€â–€â–šâ–„â–„â–â–šâ–â”‚</span>
<span id="cb9-322"><a href="#cb9-322"></a>      <span class="ex">â””â”€â”¬â”€â”¬â”€â”€â”€â”¬â”€â”€â”¬â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”¬â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”˜</span></span>
<span id="cb9-323"><a href="#cb9-323"></a>        <span class="ex">2</span> 5  11 16 20   27 32 36  43  48 53   61   68  74   81 86  91  98</span>
<span id="cb9-324"><a href="#cb9-324"></a><span class="ex">train_dtb</span>                          train/iter</span>
<span id="cb9-325"><a href="#cb9-325"></a><span class="ex">[2024-11-28</span> 13:44:52.920733]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">plot.py:220</span><span class="pp">]</span> <span class="at">-</span> Appending plot to: /lus/gila/projects/Aurora_deployment/foremans/projects/saforem2/ezpz/test-dist-plots/tplot/train_dtb.txt</span>
<span id="cb9-326"><a href="#cb9-326"></a><span class="ex">text</span> saved in /lus/gila/projects/Aurora_deployment/foremans/projects/saforem2/ezpz/test-dist-plots/tplot/train_dtb.txt</span>
<span id="cb9-327"><a href="#cb9-327"></a>                         <span class="ex">train_loss</span> <span class="pp">[</span><span class="ss">2024</span><span class="pp">-</span><span class="ss">11</span><span class="pp">-</span><span class="ss">28</span><span class="pp">-</span><span class="ss">134452</span><span class="pp">]</span></span>
<span id="cb9-328"><a href="#cb9-328"></a>      <span class="ex">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span></span>
<span id="cb9-329"><a href="#cb9-329"></a><span class="ex">1821.1â”¤â–Œ</span>                                                                  â”‚</span>
<span id="cb9-330"><a href="#cb9-330"></a>      <span class="ex">â”‚â–Œ</span>                                                                  â”‚</span>
<span id="cb9-331"><a href="#cb9-331"></a>      <span class="ex">â”‚â–Œ</span>                                                                  â”‚</span>
<span id="cb9-332"><a href="#cb9-332"></a><span class="ex">1575.1â”¤â–Œ</span>                                                                  â”‚</span>
<span id="cb9-333"><a href="#cb9-333"></a>      <span class="ex">â”‚â–Œ</span>                                                                  â”‚</span>
<span id="cb9-334"><a href="#cb9-334"></a>      <span class="ex">â”‚â–š</span>                                                                  â”‚</span>
<span id="cb9-335"><a href="#cb9-335"></a><span class="ex">1329.0â”¤â–</span>                                                                  â”‚</span>
<span id="cb9-336"><a href="#cb9-336"></a>      <span class="ex">â”‚â–â––</span>                                                                 â”‚</span>
<span id="cb9-337"><a href="#cb9-337"></a><span class="ex">1082.9â”¤</span> â–Œ                                                                 â”‚</span>
<span id="cb9-338"><a href="#cb9-338"></a>      <span class="ex">â”‚</span> â–                                                                 â”‚</span>
<span id="cb9-339"><a href="#cb9-339"></a>      <span class="ex">â”‚</span> â–â––                                                                â”‚</span>
<span id="cb9-340"><a href="#cb9-340"></a> <span class="ex">836.8â”¤</span>  â–š                                                                â”‚</span>
<span id="cb9-341"><a href="#cb9-341"></a>      <span class="ex">â”‚</span>   â–€â––                                                              â”‚</span>
<span id="cb9-342"><a href="#cb9-342"></a>      <span class="ex">â”‚</span>    â–â–€â–šâ–„â–„â–„ â––                                                       â”‚</span>
<span id="cb9-343"><a href="#cb9-343"></a> <span class="ex">590.7â”¤</span>          â–€â–â–€â–€â–€â–šâ–„â–„â–„â–„â–„â––                                             â”‚</span>
<span id="cb9-344"><a href="#cb9-344"></a>      <span class="ex">â”‚</span>                     â–â–€â–€â–€â–€â–€â–€â–€â–„â–„â–„â–„â–„â–„â–„â–„                              â”‚</span>
<span id="cb9-345"><a href="#cb9-345"></a>      <span class="ex">â”‚</span>                                     â–€â–€â–€â–€â–€â–€â–€â–€â–šâ–„â–„â–„â–„â–„â–„  â–—            â”‚</span>
<span id="cb9-346"><a href="#cb9-346"></a> <span class="ex">344.7â”¤</span>                                                    â–€â–€â–˜â–€â–€â–€â–€â–€â–€â–€â–€â–„â–„â–„â–„â”‚</span>
<span id="cb9-347"><a href="#cb9-347"></a>      <span class="ex">â””â”€â”¬â”€â”¬â”€â”€â”€â”¬â”€â”€â”¬â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”¬â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”˜</span></span>
<span id="cb9-348"><a href="#cb9-348"></a>        <span class="ex">2</span> 5  11 16 20   27 32 36  43  48 53   61   68  74   81 86  91  98</span>
<span id="cb9-349"><a href="#cb9-349"></a><span class="ex">train_loss</span>                         train/iter</span>
<span id="cb9-350"><a href="#cb9-350"></a><span class="ex">[2024-11-28</span> 13:44:52.939625]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">plot.py:220</span><span class="pp">]</span> <span class="at">-</span> Appending plot to: /lus/gila/projects/Aurora_deployment/foremans/projects/saforem2/ezpz/test-dist-plots/tplot/train_loss.txt</span>
<span id="cb9-351"><a href="#cb9-351"></a><span class="ex">text</span> saved in /lus/gila/projects/Aurora_deployment/foremans/projects/saforem2/ezpz/test-dist-plots/tplot/train_loss.txt</span>
<span id="cb9-352"><a href="#cb9-352"></a>                           <span class="ex">train_sps</span> <span class="pp">[</span><span class="ss">2024</span><span class="pp">-</span><span class="ss">11</span><span class="pp">-</span><span class="ss">28</span><span class="pp">-</span><span class="ss">134452</span><span class="pp">]</span></span>
<span id="cb9-353"><a href="#cb9-353"></a>       <span class="ex">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span></span>
<span id="cb9-354"><a href="#cb9-354"></a><span class="ex">21038.9â”¤</span>  â––â–—â–„â–â––                 â––   â––  â–—â–š   â––    â–—   â–—                 â––  â”‚</span>
<span id="cb9-355"><a href="#cb9-355"></a>       <span class="ex">â”‚</span> â–â–â–˜  â–Œ   â––â–—â–Œ  â–—â–Œâ–— â–—â–Œâ–—â–â–Ÿâ–Œ  â–â–Œâ–—â–â–Ÿ â–œ â–Ÿâ–â–– â–„â–€â–€â–„â–„â–šâ–›â–„â–Œâ–„â–šâ–—â–™â–šâ–—â–– â––â–Ÿ   â–â–â–Œ  â”‚</span>
<span id="cb9-356"><a href="#cb9-356"></a>       <span class="ex">â”‚</span> â–Œ    â–Œ â–„â–â–â–Ÿâ–šâ–„â–â–€â–šâ–œâ–â–˜â–â–˜ â–â–Œ â–—â–˜â–™â–€â–Œ  â–â–  â–šâ–€â–ˆ     â–˜ â–œ  â–˜â– â–˜â–â–Ÿâ–â–œ â–—â–€â–˜ â–Œâ–—â–šâ”‚</span>
<span id="cb9-357"><a href="#cb9-357"></a><span class="ex">18073.5â”¤</span> â–Œ    â–Œâ–     â–â–Œ  â–â–Œ     â–â–€â– â–    â–â–Œ    â–               â– â–â–„â–˜   â–â–˜ â”‚</span>
<span id="cb9-358"><a href="#cb9-358"></a>       <span class="ex">â”‚â–</span>     â–šâ–˜      â–˜  â–â–Œ                                               â”‚</span>
<span id="cb9-359"><a href="#cb9-359"></a>       <span class="ex">â”‚â–</span>                                                                 â”‚</span>
<span id="cb9-360"><a href="#cb9-360"></a><span class="ex">15108.1â”¤â–Œ</span>                                                                 â”‚</span>
<span id="cb9-361"><a href="#cb9-361"></a>       <span class="ex">â”‚â–Œ</span>                                                                 â”‚</span>
<span id="cb9-362"><a href="#cb9-362"></a><span class="ex">12142.7â”¤â–Œ</span>                                                                 â”‚</span>
<span id="cb9-363"><a href="#cb9-363"></a>       <span class="ex">â”‚â–Œ</span>                                                                 â”‚</span>
<span id="cb9-364"><a href="#cb9-364"></a>       <span class="ex">â”‚â–Œ</span>                                                                 â”‚</span>
<span id="cb9-365"><a href="#cb9-365"></a> <span class="ex">9177.3â”¤â–Œ</span>                                                                 â”‚</span>
<span id="cb9-366"><a href="#cb9-366"></a>       <span class="ex">â”‚â–Œ</span>                                                                 â”‚</span>
<span id="cb9-367"><a href="#cb9-367"></a>       <span class="ex">â”‚â–Œ</span>                                                                 â”‚</span>
<span id="cb9-368"><a href="#cb9-368"></a> <span class="ex">6211.9â”¤â–Œ</span>                                                                 â”‚</span>
<span id="cb9-369"><a href="#cb9-369"></a>       <span class="ex">â”‚â–Œ</span>                                                                 â”‚</span>
<span id="cb9-370"><a href="#cb9-370"></a>       <span class="ex">â”‚â–Œ</span>                                                                 â”‚</span>
<span id="cb9-371"><a href="#cb9-371"></a> <span class="ex">3246.6â”¤â–Œ</span>                                                                 â”‚</span>
<span id="cb9-372"><a href="#cb9-372"></a>       <span class="ex">â””â”€â”¬â”€â”¬â”€â”€â”€â”¬â”€â”€â”¬â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”¬â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”¬â”€â”€â”¬â”€â”€â”¬â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”˜</span></span>
<span id="cb9-373"><a href="#cb9-373"></a>         <span class="ex">2</span> 5  11 16 20  27 31 36   43 48 53 57 61  68  74   81 86  91  98</span>
<span id="cb9-374"><a href="#cb9-374"></a><span class="ex">train_sps</span>                           train/iter</span>
<span id="cb9-375"><a href="#cb9-375"></a><span class="ex">[2024-11-28</span> 13:44:52.955997]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">plot.py:220</span><span class="pp">]</span> <span class="at">-</span> Appending plot to: /lus/gila/projects/Aurora_deployment/foremans/projects/saforem2/ezpz/test-dist-plots/tplot/train_sps.txt</span>
<span id="cb9-376"><a href="#cb9-376"></a><span class="ex">text</span> saved in /lus/gila/projects/Aurora_deployment/foremans/projects/saforem2/ezpz/test-dist-plots/tplot/train_sps.txt</span>
<span id="cb9-377"><a href="#cb9-377"></a><span class="ex">[2024-11-28</span> 13:44:53.002178]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:246</span><span class="pp">]</span> <span class="at">-</span> dataset=<span class="op">&lt;</span>xarray.Dataset<span class="op">&gt;</span> Size: 5kB</span>
<span id="cb9-378"><a href="#cb9-378"></a><span class="ex">Dimensions:</span>     <span class="er">(</span><span class="ex">draw:</span> 99<span class="kw">)</span></span>
<span id="cb9-379"><a href="#cb9-379"></a><span class="ex">Coordinates:</span></span>
<span id="cb9-380"><a href="#cb9-380"></a>  <span class="ex">*</span> draw        <span class="er">(</span><span class="ex">draw</span><span class="kw">)</span> <span class="ex">int64</span> 792B 0 1 2 3 4 5 6 7 8 ... 91 92 93 94 95 96 97 98</span>
<span id="cb9-381"><a href="#cb9-381"></a><span class="ex">Data</span> variables:</span>
<span id="cb9-382"><a href="#cb9-382"></a>    <span class="ex">train_iter</span>  <span class="er">(</span><span class="ex">draw</span><span class="kw">)</span> <span class="ex">int64</span> 792B 1 2 3 4 5 6 7 8 9 ... 92 93 94 95 96 97 98 99</span>
<span id="cb9-383"><a href="#cb9-383"></a>    <span class="ex">train_dt</span>    <span class="er">(</span><span class="ex">draw</span><span class="kw">)</span> <span class="ex">float64</span> 792B 0.01971 0.004083 ... 0.003326 0.003474</span>
<span id="cb9-384"><a href="#cb9-384"></a>    <span class="ex">train_dtf</span>   <span class="er">(</span><span class="ex">draw</span><span class="kw">)</span> <span class="ex">float64</span> 792B 0.002959 0.0008221 ... 0.0008038 0.0007404</span>
<span id="cb9-385"><a href="#cb9-385"></a>    <span class="ex">train_dtb</span>   <span class="er">(</span><span class="ex">draw</span><span class="kw">)</span> <span class="ex">float64</span> 792B 0.01675 0.003261 ... 0.002522 0.002733</span>
<span id="cb9-386"><a href="#cb9-386"></a>    <span class="ex">train_loss</span>  <span class="er">(</span><span class="ex">draw</span><span class="kw">)</span> <span class="ex">float32</span> 396B 1.821e+03 1.348e+03 ... 347.3 346.5</span>
<span id="cb9-387"><a href="#cb9-387"></a>    <span class="ex">train_sps</span>   <span class="er">(</span><span class="ex">draw</span><span class="kw">)</span> <span class="ex">float64</span> 792B 3.247e+03 1.567e+04 ... 1.925e+04 1.842e+04</span>
<span id="cb9-388"><a href="#cb9-388"></a></span>
<span id="cb9-389"><a href="#cb9-389"></a>  <span class="ex">_</span>     ._   __/__   _ _  _  _ _/_   Recorded: 13:44:35  Samples:  2127</span>
<span id="cb9-390"><a href="#cb9-390"></a> <span class="ex">/_//_///</span> /_\ / //_// / //_<span class="st">'/ //     Duration: 17.440    CPU time: 29.088</span></span>
<span id="cb9-391"><a href="#cb9-391"></a><span class="st">/   _/                      v5.0.0</span></span>
<span id="cb9-392"><a href="#cb9-392"></a></span>
<span id="cb9-393"><a href="#cb9-393"></a><span class="st">Profile at /lus/gila/projects/Aurora_deployment/foremans/projects/saforem2/ezpz/src/ezpz/profile.py:101</span></span>
<span id="cb9-394"><a href="#cb9-394"></a></span>
<span id="cb9-395"><a href="#cb9-395"></a><span class="st">17.440 &lt;module&gt;  ezpz/test_dist.py:1</span></span>
<span id="cb9-396"><a href="#cb9-396"></a><span class="st">â””â”€ 17.440 main  ezpz/test_dist.py:177</span></span>
<span id="cb9-397"><a href="#cb9-397"></a><span class="st">   â”œâ”€ 10.558 build_model_and_optimizer  ezpz/test_dist.py:136</span></span>
<span id="cb9-398"><a href="#cb9-398"></a><span class="st">   â”‚  â””â”€ 10.547 DistributedDataParallel.__init__  torch/nn/parallel/distributed.py:622</span></span>
<span id="cb9-399"><a href="#cb9-399"></a><span class="st">   â”‚     â””â”€ 10.502 _verify_param_shape_across_processes  torch/distributed/utils.py:266</span></span>
<span id="cb9-400"><a href="#cb9-400"></a><span class="st">   â”‚        â””â”€ 10.502 PyCapsule._verify_params_across_processes  &lt;built-in&gt;</span></span>
<span id="cb9-401"><a href="#cb9-401"></a><span class="st">   â”œâ”€ 3.256 History.plot_all  ezpz/history.py:636</span></span>
<span id="cb9-402"><a href="#cb9-402"></a><span class="st">   â”‚  â”œâ”€ 1.809 savefig  matplotlib/pyplot.py:974</span></span>
<span id="cb9-403"><a href="#cb9-403"></a><span class="st">   â”‚  â”‚     [38 frames hidden]  matplotlib, PIL, &lt;built-in&gt;, numpy</span></span>
<span id="cb9-404"><a href="#cb9-404"></a><span class="st">   â”‚  â”œâ”€ 0.895 &lt;module&gt;  seaborn/__init__.py:1</span></span>
<span id="cb9-405"><a href="#cb9-405"></a><span class="st">   â”‚  â”‚     [8 frames hidden]  seaborn, scipy</span></span>
<span id="cb9-406"><a href="#cb9-406"></a><span class="st">   â”‚  â”œâ”€ 0.227 History.get_dataset  ezpz/history.py:752</span></span>
<span id="cb9-407"><a href="#cb9-407"></a><span class="st">   â”‚  â”‚  â””â”€ 0.183 History.to_DataArray  ezpz/history.py:712</span></span>
<span id="cb9-408"><a href="#cb9-408"></a><span class="st">   â”‚  â”‚     â””â”€ 0.183 DataArray.__init__  xarray/core/dataarray.py:437</span></span>
<span id="cb9-409"><a href="#cb9-409"></a><span class="st">   â”‚  â”‚           [5 frames hidden]  xarray</span></span>
<span id="cb9-410"><a href="#cb9-410"></a><span class="st">   â”‚  â””â”€ 0.179 make_ridgeplots  ezpz/plot.py:900</span></span>
<span id="cb9-411"><a href="#cb9-411"></a><span class="st">   â”œâ”€ 2.016 _forward_step  ezpz/test_dist.py:193</span></span>
<span id="cb9-412"><a href="#cb9-412"></a><span class="st">   â”‚  â””â”€ 1.963 DistributedDataParallel._wrapped_call_impl  torch/nn/modules/module.py:1528</span></span>
<span id="cb9-413"><a href="#cb9-413"></a><span class="st">   â”‚        [4 frames hidden]  torch</span></span>
<span id="cb9-414"><a href="#cb9-414"></a><span class="st">   â”‚           1.945 Network._call_impl  torch/nn/modules/module.py:1534</span></span>
<span id="cb9-415"><a href="#cb9-415"></a><span class="st">   â”‚           â””â”€ 1.943 Network.forward  ezpz/test_dist.py:128</span></span>
<span id="cb9-416"><a href="#cb9-416"></a><span class="st">   â”‚              â””â”€ 1.943 Sequential._wrapped_call_impl  torch/nn/modules/module.py:1528</span></span>
<span id="cb9-417"><a href="#cb9-417"></a><span class="st">   â”‚                    [6 frames hidden]  torch, &lt;built-in&gt;</span></span>
<span id="cb9-418"><a href="#cb9-418"></a><span class="st">   â”œâ”€ 0.716 &lt;module&gt;  ambivalent/__init__.py:1</span></span>
<span id="cb9-419"><a href="#cb9-419"></a><span class="st">   â”‚     [20 frames hidden]  ambivalent, requests, urllib3, http, ...</span></span>
<span id="cb9-420"><a href="#cb9-420"></a><span class="st">   â””â”€ 0.495 _backward_step  ezpz/test_dist.py:198</span></span>
<span id="cb9-421"><a href="#cb9-421"></a><span class="st">      â””â”€ 0.457 Tensor.backward  torch/_tensor.py:466</span></span>
<span id="cb9-422"><a href="#cb9-422"></a><span class="st">            [3 frames hidden]  torch, &lt;built-in&gt;</span></span>
<span id="cb9-423"><a href="#cb9-423"></a></span>
<span id="cb9-424"><a href="#cb9-424"></a></span>
<span id="cb9-425"><a href="#cb9-425"></a><span class="st">[2024-11-28 13:44:54.356012][INFO][profile.py:115] - Saving pyinstrument profile output to: /lus/gila/projects/Aurora_deployment/foremans/projects/saforem2/ezpz/ezpz_pyinstrument_profiles</span></span>
<span id="cb9-426"><a href="#cb9-426"></a><span class="st">[2024-11-28 13:44:54.356642][INFO][profile.py:123] - PyInstrument profile saved (as html) to:  /lus/gila/projects/Aurora_deployment/foremans/projects/saforem2/ezpz/ezpz_pyinstrument_profiles/pyinstrument-profile-2024-11-28-134454.html</span></span>
<span id="cb9-427"><a href="#cb9-427"></a><span class="st">[2024-11-28 13:44:54.357100][INFO][profile.py:131] - PyInstrument profile saved (as text) to:  /lus/gila/projects/Aurora_deployment/foremans/projects/saforem2/ezpz/ezpz_pyinstrument_profiles/pyinstrument-profile-2024-11-28-134454.txt</span></span>
<span id="cb9-428"><a href="#cb9-428"></a><span class="st">[2024-11-28 13:44:54.716119][INFO][profile.py:143] - Finished with pyinstrument profiler. Took: 17.44008s</span></span>
<span id="cb9-429"><a href="#cb9-429"></a><span class="st">[2024-11-28 13:44:54.717891][INFO][test_dist.py:269] - [0] runtime=73.419312s</span></span>
<span id="cb9-430"><a href="#cb9-430"></a><span class="st">wandb: ğŸš€ View run driven-wind-683 at: https://wandb.ai/aurora_gpt/ezpz.test_dist/runs/4mwyy84l</span></span>
<span id="cb9-431"><a href="#cb9-431"></a><span class="st">wandb: Find logs at: ../../../../../../lus/gila/projects/Aurora_deployment/foremans/projects/saforem2/ezpz/wandb/run-20241128_134434-4mwyy84l/logs</span></span>
<span id="cb9-432"><a href="#cb9-432"></a><span class="st">Application ecd9868b resources: utime=2078s stime=374s maxrss=2509188KB inblock=786752 oublock=12104 minflt=13378945 majflt=181980 nvcsw=1704995 nivcsw=216931</span></span>
<span id="cb9-433"><a href="#cb9-433"></a><span class="st">took: 0h:01m:32s</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details></li>
</ol>
<p> </p>
<section id="setup-python" class="level4">
<h4 class="anchored" data-anchor-id="setup-python">ğŸ› ï¸ Setup Python</h4>
<div class="sourceCode" id="cb10"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb10-1"><a href="#cb10-1"></a><span class="ex">ezpz_setup_python</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This will:</p>
<ol type="1">
<li><p>Automatically load and activate <code>conda</code> using the <code>ezpz_setup_conda</code> function.</p>
<p>How this is done, in practice, varies from machine to machine:</p>
<ul>
<li><p><strong>ALCF</strong><a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a>: Automatically load the most recent <code>conda</code> module and activate the base environment.</p></li>
<li><p><strong>Frontier</strong>: Load the appropriate AMD modules (e.g.&nbsp;<code>rocm</code>, <code>RCCL</code>, etc.), and activate base <code>conda</code></p></li>
<li><p><strong>Perlmutter</strong>: Load the appropriate <code>pytorch</code> module and activate environment</p></li>
<li><p><strong>Unknown</strong>: In this case, we will look for a <code>conda</code>, <code>mamba</code>, or <code>micromamba</code> executable, and if found, use that to activate the base environment.</p></li>
</ul>
<div class="callout callout-style-simple callout-tip callout-titled" title="Using your own `conda`">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-2-contents" aria-controls="callout-2" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Using your own <code>conda</code>
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-2" class="callout-2-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<p>If you are already in a conda environment when calling <code>ezpz_setup_python</code> then it will try and use this instead.</p>
<p>For example, if you have a custom <code>conda</code> env at <code>~/conda/envs/custom</code>, then this would bootstrap the <code>custom</code> conda environment and create the virtual env in <code>venvs/custom/</code></p>
</div>
</div>
</div></li>
</ol>
<ol start="2" type="1">
<li><p>Build (or activate, if found) a virtual environment on top of (the active) base <code>conda</code> environment.</p>
<p>By default, it will try looking in:</p>
<ul>
<li><code>$PBS_O_WORKDIR</code>, otherwise</li>
<li><code>${SLURM_SUBMIT_DIR}</code>, otherwise</li>
<li><code>$(pwd)</code></li>
</ul>
<p>for a nested folder named <code>"venvs/${CONDA_NAME}"</code>.</p>
<p>If this doesnâ€™t exist, it will attempt to create a new virtual environment at this location using:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1"></a><span class="ex">python3</span> <span class="at">-m</span> venv venvs/<span class="va">${CONDA_NAME}</span> <span class="at">--system-site-packages</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>(where weâ€™ve pulled in the <code>--system-site-packages</code> from conda).</p></li>
</ol>
</section>
<section id="setup-job" class="level4">
<h4 class="anchored" data-anchor-id="setup-job">ğŸ§° Setup Job</h4>
<div class="sourceCode" id="cb12"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb12-1"><a href="#cb12-1"></a><span class="ex">ezpz_setup_job</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Now that we are in a suitable python environment, we need to construct the command that we will use to run python on each of our acceleratorss.</p>
<p>To do this, we need a few things:</p>
<ol type="1">
<li>What machine weâ€™re on (and what scheduler is it using i.e.&nbsp;{PBS, SLURM})</li>
<li>How many nodes are available in our active job</li>
<li>How many GPUs are on each of those nodes</li>
<li>What type of GPUs are they</li>
</ol>
<p>With this information, we can then use <code>mpi{exec,run}</code> or <code>srun</code> to launch python across all of our accelerators.</p>
<p>Again, how this is done will vary from machine to machine and will depend on the job scheduler in use.</p>
<p>To identify where we are, we look at our <code>$(hostname)</code> and see if weâ€™re running on one of the known machines:</p>
<ul>
<li><strong>ALCF</strong><a href="#fn4" class="footnote-ref" id="fnref4" role="doc-noteref"><sup>4</sup></a>: Using PBS Pro via <code>qsub</code> and <code>mpiexec</code> / <code>mpirun</code>.
<ul>
<li><code>x4*</code>: <strong>Aurora</strong></li>
<li><strong>Aurora</strong>: <code>x4*</code> (or <code>aurora*</code> on login nodes)</li>
<li><strong>Sunspot</strong>: <code>x1*</code> (or <code>uan*</code>)</li>
<li><strong>Sophia</strong>: <code>sophia-*</code></li>
<li><strong>Polaris</strong> / <strong>Sirius</strong>: <code>x3*</code>
<ul>
<li>to determine between the two, we look at <code>"${PBS_O_HOST}"</code></li>
</ul></li>
</ul></li>
</ul>
<ul>
<li><p><strong>OLCF</strong>: Using Slurm via <code>sbatch</code> / <code>srun</code>.</p>
<ul>
<li><code>frontier*</code>: <strong>Frontier</strong>, using Slurm</li>
<li><code>nid*</code>: Perlmutter, using Slurm</li>
</ul></li>
<li><p>Unknown machine: If <code>$(hostname)</code> does not match one of these patterns we assume that we are running on an unknown machine and will try to use <code>mpirun</code> as our generic launch command</p>
<p>Once we have this, we can:</p>
<ol type="1">
<li><p>Get <code>PBS_NODEFILE</code> from <code>$(hostname)</code>:</p>
<ul>
<li><p><code>ezpz_qsme_running</code>: For each (running) job owned by <code>${USER}</code>, print out both the jobid as well as a list of hosts the job is running on, e.g.:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb13-1"><a href="#cb13-1"></a><span class="op">&lt;</span>jobid0<span class="op">&gt;</span> host00 <span class="ex">host01</span> host02 host03 ...</span>
<span id="cb13-2"><a href="#cb13-2"></a><span class="op">&lt;</span>jobid1<span class="op">&gt;</span> host10 <span class="ex">host11</span> host12 host13 ...</span>
<span id="cb13-3"><a href="#cb13-3"></a><span class="ex">...</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p><code>ezpz_get_pbs_nodefile_from_hostname</code>: Look for <code>$(hostname)</code> in the output from the above command to determine our <code>${PBS_JOBID}</code>.</p>
<p>Once weâ€™ve identified our <code>${PBS_JOBID}</code> we then know the location of our <code>${PBS_NODEFILE}</code> since they are named according to:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb14-1"><a href="#cb14-1"></a><span class="va">jobid</span><span class="op">=</span><span class="va">$(</span><span class="ex">ezpz_qsme_running</span> <span class="kw">|</span> <span class="fu">grep</span> <span class="st">"</span><span class="va">$(</span><span class="fu">hostname</span><span class="va">)</span><span class="st">"</span> <span class="kw">|</span> <span class="fu">awk</span> <span class="st">'{print $1}'</span><span class="va">)</span></span>
<span id="cb14-2"><a href="#cb14-2"></a><span class="va">prefix</span><span class="op">=</span>/var/spool/pbs/aux</span>
<span id="cb14-3"><a href="#cb14-3"></a><span class="va">match</span><span class="op">=</span><span class="va">$(</span><span class="ex">/bin/ls</span> <span class="st">"</span><span class="va">${prefix}</span><span class="st">"</span> <span class="kw">|</span> <span class="fu">grep</span> <span class="st">"</span><span class="va">${jobid}</span><span class="st">"</span><span class="va">)</span></span>
<span id="cb14-4"><a href="#cb14-4"></a><span class="va">hostfile</span><span class="op">=</span><span class="st">"</span><span class="va">${prefix}</span><span class="st">/</span><span class="va">${match}</span><span class="st">"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
</ul></li>
<li><p>Identify number of available accelerators:</p></li>
</ol></li>
</ul>
</section>
</section>
</section>
<section id="python-library" class="level2">
<h2 class="anchored" data-anchor-id="python-library">ğŸ Python Library</h2>
<p>To install<a href="#fn5" class="footnote-ref" id="fnref5" role="doc-noteref"><sup>5</sup></a>:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb15-1"><a href="#cb15-1"></a><span class="ex">python3</span> <span class="at">-m</span> pip install <span class="at">-e</span> <span class="st">"git+https://github.com/saforem2/ezpz#egg=ezpz"</span> <span class="at">--require-virtualenv</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>ğŸ“‚ <code>ezpz</code> / <code>src</code> / <a href="https://github.com/saforem2/ezpz"><code>ezpz/</code></a>
<ul>
<li>ğŸ“‚ <a href="https://github.com/saforem2/ezpz/blob/main/src/ezpz/bin/"><code>bin/</code></a>:
<ul>
<li><a href="https://github.com/saforem2/ezpz/blob/main/src/ezpz/bin/utils.sh"><code>utils.sh</code></a>: Shell utilities for <code>ezpz</code></li>
</ul></li>
<li>ğŸ“‚ <a href="https://github.com/saforem2/ezpz/blob/main/src/ezpz/conf/"><code>conf/</code></a>:
<ul>
<li>âš™ï¸ <a href="https://github.com/saforem2/ezpz/blob/main/src/ezpz/conf/config.yaml"><code>config.yaml</code></a>: Default <code>TrainConfig</code> object</li>
<li>âš™ï¸ <a href="https://github.com/saforem2/ezpz/blob/main/src/ezpz/conf/ds_config.json"><code>ds_config.json</code></a>: DeepSpeed configuration</li>
</ul></li>
<li>ğŸ“‚ <a href="https://github.com/saforem2/ezpz/blob/main/src/ezpz/log/"><code>log/</code></a>: Logging configuration.</li>
<li>ğŸ <a href="https://github.com/saforem2/ezpz/blob/main/src/ezpz/__about__.py"><code>__about__.py</code></a>: Version information</li>
<li>ğŸ <a href="https://github.com/saforem2/ezpz/blob/main/src/ezpz/__init__.py"><code>__init__.py</code></a>: Main module</li>
<li>ğŸ <a href="https://github.com/saforem2/ezpz/blob/main/src/ezpz/__main__.py"><code>__main__.py</code></a>: Entry point</li>
<li>ğŸ <a href="https://github.com/saforem2/ezpz/blob/main/src/ezpz/configs.py"><code>configs.py</code></a>: Configuration module</li>
<li>ğŸ<a href="https://github.com/saforem2/ezpz/blob/main/src/ezpz/create.py"><code>cria.py</code></a>: Baby Llama</li>
<li>ğŸ<a href="https://github.com/saforem2/ezpz/blob/main/src/ezpz/dist.py"><strong><code>dist.py</code></strong></a>: Distributed training module</li>
<li>ğŸ<a href="https://github.com/saforem2/ezpz/blob/main/src/ezpz/history.py"><code>history.py</code></a>: History module</li>
<li>ğŸ<a href="https://github.com/saforem2/ezpz/blob/main/src/ezpz/jobs.py"><code>jobs.py</code></a>: Jobs module</li>
<li>ğŸ<a href="https://github.com/saforem2/ezpz/blob/main/src/ezpz/model.py"><code>model.py</code></a>: Model module</li>
<li>ğŸ<a href="https://github.com/saforem2/ezpz/blob/main/src/ezpz/plot.py"><code>plot.py</code></a>: Plot modul</li>
<li>ğŸ<a href="https://github.com/saforem2/ezpz/blob/main/src/ezpz/profile.py"><code>profile.py</code></a>: Profile module</li>
<li>ğŸ<a href="https://github.com/saforem2/ezpz/blob/main/src/ezpz/runtime.py"><code>runtime.py</code></a>: Runtime module</li>
<li>ğŸ<a href="https://github.com/saforem2/ezpz/blob/main/src/ezpz/test.py"><code>test.py</code></a>: Test module</li>
<li>ğŸ<a href="https://github.com/saforem2/ezpz/blob/main/src/ezpz/test_dist.py"><strong><code>test_dist.py</code></strong></a>: Distributed training test module</li>
<li>ğŸ<a href="https://github.com/saforem2/ezpz/blob/main/src/ezpz/train.py"><code>train.py</code></a>: train module</li>
<li>ğŸ<a href="https://github.com/saforem2/ezpz/blob/main/src/ezpz/trainer.py"><code>trainer.py</code></a>: trainer module</li>
<li>ğŸ<a href="https://github.com/saforem2/ezpz/blob/main/src/ezpz/utils.py"><code>utils.py</code></a>: utility module</li>
</ul></li>
</ul>
<div class="sourceCode" id="cb16"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb16-1"><a href="#cb16-1"></a><span class="ex">ğŸ“‚</span> /ezpz/src/ezpz/</span>
<span id="cb16-2"><a href="#cb16-2"></a><span class="ex">â”£â”â”</span> ğŸ“‚ bin/</span>
<span id="cb16-3"><a href="#cb16-3"></a><span class="ex">â”ƒ</span>   â”£â”â” ğŸ“„ affinity.sh</span>
<span id="cb16-4"><a href="#cb16-4"></a><span class="ex">â”ƒ</span>   â”£â”â” ğŸ“„ getjobenv</span>
<span id="cb16-5"><a href="#cb16-5"></a><span class="ex">â”ƒ</span>   â”£â”â” ğŸ“„ savejobenv</span>
<span id="cb16-6"><a href="#cb16-6"></a><span class="ex">â”ƒ</span>   â”£â”â” ğŸ“„ saveslurmenv</span>
<span id="cb16-7"><a href="#cb16-7"></a><span class="ex">â”ƒ</span>   â”£â”â” ğŸ“„ setup.sh</span>
<span id="cb16-8"><a href="#cb16-8"></a><span class="ex">â”ƒ</span>   â”£â”â” ğŸ“„ train.sh</span>
<span id="cb16-9"><a href="#cb16-9"></a><span class="ex">â”ƒ</span>   â”—â”â” ğŸ“„ utils.sh</span>
<span id="cb16-10"><a href="#cb16-10"></a><span class="ex">â”£â”â”</span> ğŸ“‚ conf/</span>
<span id="cb16-11"><a href="#cb16-11"></a><span class="ex">â”ƒ</span>   â”£â”â” ğŸ“‚ hydra/</span>
<span id="cb16-12"><a href="#cb16-12"></a><span class="ex">â”ƒ</span>   â”ƒ   â”—â”â” ğŸ“‚ job_logging/</span>
<span id="cb16-13"><a href="#cb16-13"></a><span class="ex">â”ƒ</span>   â”ƒ       â”£â”â” âš™ï¸ colorlog1.yaml</span>
<span id="cb16-14"><a href="#cb16-14"></a><span class="ex">â”ƒ</span>   â”ƒ       â”£â”â” âš™ï¸ custom.yaml</span>
<span id="cb16-15"><a href="#cb16-15"></a><span class="ex">â”ƒ</span>   â”ƒ       â”—â”â” âš™ï¸ enrich.yaml</span>
<span id="cb16-16"><a href="#cb16-16"></a><span class="ex">â”ƒ</span>   â”£â”â” ğŸ“‚ logdir/</span>
<span id="cb16-17"><a href="#cb16-17"></a><span class="ex">â”ƒ</span>   â”ƒ   â”—â”â” âš™ï¸ default.yaml</span>
<span id="cb16-18"><a href="#cb16-18"></a><span class="ex">â”ƒ</span>   â”£â”â” âš™ï¸ config.yaml</span>
<span id="cb16-19"><a href="#cb16-19"></a><span class="ex">â”ƒ</span>   â”£â”â” ğŸ“„ ds_config.json</span>
<span id="cb16-20"><a href="#cb16-20"></a><span class="ex">â”ƒ</span>   â”—â”â” âš™ï¸ ds_config.yaml</span>
<span id="cb16-21"><a href="#cb16-21"></a><span class="ex">â”£â”â”</span> ğŸ“‚ log/</span>
<span id="cb16-22"><a href="#cb16-22"></a><span class="ex">â”ƒ</span>   â”£â”â” ğŸ“‚ conf/</span>
<span id="cb16-23"><a href="#cb16-23"></a><span class="ex">â”ƒ</span>   â”ƒ   â”—â”â” ğŸ“‚ hydra/</span>
<span id="cb16-24"><a href="#cb16-24"></a><span class="ex">â”ƒ</span>   â”ƒ       â”—â”â” ğŸ“‚ job_logging/</span>
<span id="cb16-25"><a href="#cb16-25"></a><span class="ex">â”ƒ</span>   â”ƒ           â”—â”â” âš™ï¸ enrich.yaml</span>
<span id="cb16-26"><a href="#cb16-26"></a><span class="ex">â”ƒ</span>   â”£â”â” ğŸ __init__.py</span>
<span id="cb16-27"><a href="#cb16-27"></a><span class="ex">â”ƒ</span>   â”£â”â” ğŸ __main__.py</span>
<span id="cb16-28"><a href="#cb16-28"></a><span class="ex">â”ƒ</span>   â”£â”â” ğŸ config.py</span>
<span id="cb16-29"><a href="#cb16-29"></a><span class="ex">â”ƒ</span>   â”£â”â” ğŸ console.py</span>
<span id="cb16-30"><a href="#cb16-30"></a><span class="ex">â”ƒ</span>   â”£â”â” ğŸ handler.py</span>
<span id="cb16-31"><a href="#cb16-31"></a><span class="ex">â”ƒ</span>   â”£â”â” ğŸ style.py</span>
<span id="cb16-32"><a href="#cb16-32"></a><span class="ex">â”ƒ</span>   â”£â”â” ğŸ test.py</span>
<span id="cb16-33"><a href="#cb16-33"></a><span class="ex">â”ƒ</span>   â”—â”â” ğŸ test_log.py</span>
<span id="cb16-34"><a href="#cb16-34"></a><span class="ex">â”£â”â”</span> ğŸ __about__.py</span>
<span id="cb16-35"><a href="#cb16-35"></a><span class="ex">â”£â”â”</span> ğŸ __init__.py</span>
<span id="cb16-36"><a href="#cb16-36"></a><span class="ex">â”£â”â”</span> ğŸ __main__.py</span>
<span id="cb16-37"><a href="#cb16-37"></a><span class="ex">â”£â”â”</span> ğŸ configs.py</span>
<span id="cb16-38"><a href="#cb16-38"></a><span class="ex">â”£â”â”</span> ğŸ cria.py</span>
<span id="cb16-39"><a href="#cb16-39"></a><span class="ex">â”£â”â”</span> ğŸ dist.py</span>
<span id="cb16-40"><a href="#cb16-40"></a><span class="ex">â”£â”â”</span> ğŸ history.py</span>
<span id="cb16-41"><a href="#cb16-41"></a><span class="ex">â”£â”â”</span> ğŸ jobs.py</span>
<span id="cb16-42"><a href="#cb16-42"></a><span class="ex">â”£â”â”</span> ğŸ loadjobenv.py</span>
<span id="cb16-43"><a href="#cb16-43"></a><span class="ex">â”£â”â”</span> ğŸ model.py</span>
<span id="cb16-44"><a href="#cb16-44"></a><span class="ex">â”£â”â”</span> ğŸ plot.py</span>
<span id="cb16-45"><a href="#cb16-45"></a><span class="ex">â”£â”â”</span> ğŸ profile.py</span>
<span id="cb16-46"><a href="#cb16-46"></a><span class="ex">â”£â”â”</span> ğŸ runtime.py</span>
<span id="cb16-47"><a href="#cb16-47"></a><span class="ex">â”£â”â”</span> ğŸ savejobenv.py</span>
<span id="cb16-48"><a href="#cb16-48"></a><span class="ex">â”£â”â”</span> ğŸ test.py</span>
<span id="cb16-49"><a href="#cb16-49"></a><span class="ex">â”£â”â”</span> ğŸ test_dist.py</span>
<span id="cb16-50"><a href="#cb16-50"></a><span class="ex">â”£â”â”</span> ğŸ train.py</span>
<span id="cb16-51"><a href="#cb16-51"></a><span class="ex">â”£â”â”</span> ğŸ trainer.py</span>
<span id="cb16-52"><a href="#cb16-52"></a><span class="ex">â”—â”â”</span> ğŸ utils.py</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p> </p>
<p> </p>



</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p>Plus this is useful for tab-completions in your shell, e.g.:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1"></a><span class="ex">$</span> ezpz_<span class="op">&lt;</span>TAB<span class="op">&gt;</span></span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="ex">ezpz_check_and_kill_if_running</span></span>
<span id="cb1-3"><a href="#cb1-3"></a><span class="ex">ezpz_get_dist_launch_cmd</span></span>
<span id="cb1-4"><a href="#cb1-4"></a><span class="ex">ezpz_get_job_env</span></span>
<span id="cb1-5"><a href="#cb1-5"></a><span class="ex">--More--</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<a href="#fnref1" class="footnote-back" role="doc-backlink">â†©ï¸</a></li>
<li id="fn2"><p>This is system dependent. See <a href="../../src/ezpz/bin/utils.sh"><code>ezpz_setup_conda</code></a><a href="#fnref2" class="footnote-back" role="doc-backlink">â†©ï¸</a></p></li>
<li id="fn3"><p>Any of {Aurora, Polaris, Sophia, Sunspot, Sirius}<a href="#fnref3" class="footnote-back" role="doc-backlink">â†©ï¸</a></p></li>
<li id="fn4"><p>At ALCF, if our <code>$(hostname)</code> starts with <code>x*</code>, weâ€™re on a compute node.<a href="#fnref4" class="footnote-back" role="doc-backlink">â†©ï¸</a></p></li>
<li id="fn5"><p>Note the <code>--require-virtualenv</code> isnâ€™t <em>strictly</em> required, but I highly recommend to always try and work within a virtual environment, when possible.<a href="#fnref5" class="footnote-back" role="doc-backlink">â†©ï¸</a></p></li>
</ol>
</section><section class="quarto-appendix-contents" id="quarto-citation"><h2 class="anchored quarto-appendix-heading">Citation</h2><div><div class="quarto-appendix-secondary-label">BibTeX citation:</div><pre class="sourceCode code-with-copy quarto-appendix-bibtex"><code class="sourceCode bibtex">@article{foreman2024,
  author = {Foreman, Sam},
  title = {ğŸ‹ Ezpz at {ALCF}},
  date = {2024-08-23},
  url = {https://samforeman.me/posts/ezpz-at-alcf},
  langid = {en}
}
</code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre><div class="quarto-appendix-secondary-label">For attribution, please cite this work as:</div><div id="ref-foreman2024" class="csl-entry quarto-appendix-citeas" role="listitem">
Foreman, Sam. 2024. <span>â€œğŸ‹ Ezpz at ALCF,â€</span> August. <a href="https://samforeman.me/posts/ezpz-at-alcf">https://samforeman.me/posts/ezpz-at-alcf</a>.
</div></div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = true;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "î§‹";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/samforeman\.me");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
          // target, if specified
          link.setAttribute("target", "_blank");
          if (link.getAttribute("rel") === null) {
            link.setAttribute("rel", "noopener");
          }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb17" data-shortcodes="false"><pre class="sourceCode numberSource markdown number-lines code-with-copy"><code class="sourceCode markdown"><span id="cb17-1"><a href="#cb17-1"></a><span class="co">---</span></span>
<span id="cb17-2"><a href="#cb17-2"></a><span class="an">title:</span><span class="co"> "ğŸ‹ &lt;code&gt;ezpz&lt;/code&gt; @ ALCF"</span></span>
<span id="cb17-3"><a href="#cb17-3"></a><span class="an">categories:</span></span>
<span id="cb17-4"><a href="#cb17-4"></a><span class="co">  - ezpz</span></span>
<span id="cb17-5"><a href="#cb17-5"></a><span class="co">  - ML</span></span>
<span id="cb17-6"><a href="#cb17-6"></a><span class="co">  - ai4science</span></span>
<span id="cb17-7"><a href="#cb17-7"></a><span class="an">toc:</span><span class="co"> true</span></span>
<span id="cb17-8"><a href="#cb17-8"></a><span class="an">date:</span><span class="co"> 2024-08-23</span></span>
<span id="cb17-9"><a href="#cb17-9"></a><span class="an">date-modified:</span><span class="co"> last-modified</span></span>
<span id="cb17-10"><a href="#cb17-10"></a><span class="an">lightbox:</span><span class="co"> auto</span></span>
<span id="cb17-11"><a href="#cb17-11"></a><span class="an">tbl-cap-location:</span><span class="co"> bottom</span></span>
<span id="cb17-12"><a href="#cb17-12"></a><span class="an">citation:</span></span>
<span id="cb17-13"><a href="#cb17-13"></a><span class="co">   author: Sam Foreman</span></span>
<span id="cb17-14"><a href="#cb17-14"></a><span class="co">   type: article-journal</span></span>
<span id="cb17-15"><a href="#cb17-15"></a><span class="co">   title: "ğŸ‹ ezpz at ALCF"</span></span>
<span id="cb17-16"><a href="#cb17-16"></a><span class="co">   url: https://samforeman.me/posts/ezpz-at-alcf</span></span>
<span id="cb17-17"><a href="#cb17-17"></a><span class="an">open-graph:</span></span>
<span id="cb17-18"><a href="#cb17-18"></a><span class="co">  title: "ğŸ‹ ezpz @ ALCF"</span></span>
<span id="cb17-19"><a href="#cb17-19"></a><span class="co">  description: "ğŸ‹ `ezpz` at ALCF"</span></span>
<span id="cb17-20"><a href="#cb17-20"></a><span class="co">  image: "./assets/thumbnail.png"</span></span>
<span id="cb17-21"><a href="#cb17-21"></a><span class="an">twitter-card:</span></span>
<span id="cb17-22"><a href="#cb17-22"></a><span class="co">  site: "saforem2"</span></span>
<span id="cb17-23"><a href="#cb17-23"></a><span class="co">  creator: "saforem2"</span></span>
<span id="cb17-24"><a href="#cb17-24"></a><span class="co">  title: "ğŸ‹ ezpz @ ALCF"</span></span>
<span id="cb17-25"><a href="#cb17-25"></a><span class="co">  image: "./assets/thumbnail.png"</span></span>
<span id="cb17-26"><a href="#cb17-26"></a><span class="co">  description: "ğŸ‹ `ezpz` at ALCF"</span></span>
<span id="cb17-27"><a href="#cb17-27"></a><span class="co">  issued: 2022-10-01</span></span>
<span id="cb17-28"><a href="#cb17-28"></a><span class="an">format:</span></span>
<span id="cb17-29"><a href="#cb17-29"></a><span class="co">  html: default</span></span>
<span id="cb17-30"><a href="#cb17-30"></a><span class="co">  gfm: default</span></span>
<span id="cb17-31"><a href="#cb17-31"></a><span class="co"># format:</span></span>
<span id="cb17-32"><a href="#cb17-32"></a><span class="co">#   html: default</span></span>
<span id="cb17-33"><a href="#cb17-33"></a><span class="co"># csl: iso690-numeric-en.csl</span></span>
<span id="cb17-34"><a href="#cb17-34"></a><span class="co"># code-tools: true</span></span>
<span id="cb17-35"><a href="#cb17-35"></a><span class="co"># filters:</span></span>
<span id="cb17-36"><a href="#cb17-36"></a><span class="co">#   - collapse-social-embeds</span></span>
<span id="cb17-37"><a href="#cb17-37"></a><span class="co"># format:</span></span>
<span id="cb17-38"><a href="#cb17-38"></a><span class="co">#   # gfm:</span></span>
<span id="cb17-39"><a href="#cb17-39"></a><span class="co">#   #   output_file: "ezpz-at-alcf.md"</span></span>
<span id="cb17-40"><a href="#cb17-40"></a><span class="co">#   html: default</span></span>
<span id="cb17-41"><a href="#cb17-41"></a><span class="co">#   # revealjs:</span></span>
<span id="cb17-42"><a href="#cb17-42"></a><span class="co">#   #   slide-url: https://samforeman.me/posts/ezpz-at-alcf/slides.html</span></span>
<span id="cb17-43"><a href="#cb17-43"></a></span>
<span id="cb17-44"><a href="#cb17-44"></a><span class="co">  # revealjs:</span></span>
<span id="cb17-45"><a href="#cb17-45"></a><span class="co">  #   width: 1024</span></span>
<span id="cb17-46"><a href="#cb17-46"></a><span class="co">  #   height: 768</span></span>
<span id="cb17-47"><a href="#cb17-47"></a><span class="co">  #   max-scale: 4.0</span></span>
<span id="cb17-48"><a href="#cb17-48"></a><span class="co">  #   min-scale: 0.1</span></span>
<span id="cb17-49"><a href="#cb17-49"></a><span class="co">  #   # title: "AuroraGPT"</span></span>
<span id="cb17-50"><a href="#cb17-50"></a><span class="co">  #   pdf-separate-fragments: true</span></span>
<span id="cb17-51"><a href="#cb17-51"></a><span class="co">  #   center: false</span></span>
<span id="cb17-52"><a href="#cb17-52"></a><span class="co">  #   footer: "[samforeman.me/talks/AuroraGPT/alcf-hpc-workshop-2024/slides](https://samforeman.me/talks/AuroraGPT/alcf-hpc-workshop-2024/slides)"</span></span>
<span id="cb17-53"><a href="#cb17-53"></a><span class="co">  #   slide-url: https://samforeman.me/talks/AuroraGPT/alcf-hpc-workshop-2024/slides.html</span></span>
<span id="cb17-54"><a href="#cb17-54"></a><span class="co">  #   template-partials:</span></span>
<span id="cb17-55"><a href="#cb17-55"></a><span class="co">  #     - title-slide.html</span></span>
<span id="cb17-56"><a href="#cb17-56"></a><span class="co">  #   title-slide-attributes:</span></span>
<span id="cb17-57"><a href="#cb17-57"></a><span class="co">  #     # data-background-iframe: "file:///iframes/center-of-universe/index.html"</span></span>
<span id="cb17-58"><a href="#cb17-58"></a><span class="co">  #     # data-background-image: "https://raw.githubusercontent.com/saforem3/llm-lunch-talk/refs/heads/main/docs/assets/image2.png"</span></span>
<span id="cb17-59"><a href="#cb17-59"></a><span class="co">  #     data-background-size: cover</span></span>
<span id="cb17-60"><a href="#cb17-60"></a><span class="co">  #     data-background-iframe: https://emilhvitfeldt.github.io/quarto-iframe-examples/stars/index.html</span></span>
<span id="cb17-61"><a href="#cb17-61"></a><span class="co">  #     # background-color: dark</span></span>
<span id="cb17-62"><a href="#cb17-62"></a><span class="co">  #     # data-background-color: dark</span></span>
<span id="cb17-63"><a href="#cb17-63"></a><span class="co">  #   # shift-heading-level-by: -1</span></span>
<span id="cb17-64"><a href="#cb17-64"></a><span class="co"># twitter-card:                      </span></span>
<span id="cb17-65"><a href="#cb17-65"></a><span class="co">#     image: "./assets/thumbnail.png"</span></span>
<span id="cb17-66"><a href="#cb17-66"></a><span class="co">#     creator: "@saforem2"           </span></span>
<span id="cb17-67"><a href="#cb17-67"></a><span class="co">#     site: "@saforem2"              </span></span>
<span id="cb17-68"><a href="#cb17-68"></a><span class="co"># open-graph:                        </span></span>
<span id="cb17-69"><a href="#cb17-69"></a><span class="co">#     image: "./assets/thumbnail.png"</span></span>
<span id="cb17-70"><a href="#cb17-70"></a><span class="co">---</span></span>
<span id="cb17-71"><a href="#cb17-71"></a></span>
<span id="cb17-72"><a href="#cb17-72"></a><span class="at">&gt; _Work smarter, not harder_.</span></span>
<span id="cb17-73"><a href="#cb17-73"></a></span>
<span id="cb17-74"><a href="#cb17-74"></a><span class="fu">## ğŸ£ Getting Started</span></span>
<span id="cb17-75"><a href="#cb17-75"></a></span>
<span id="cb17-76"><a href="#cb17-76"></a>There are two main, distinct components of <span class="in">`ezpz`</span>:</span>
<span id="cb17-77"><a href="#cb17-77"></a></span>
<span id="cb17-78"><a href="#cb17-78"></a><span class="ss">1. </span>ğŸ <span class="co">[</span><span class="ot">**Python Library**</span><span class="co">](#python-library)</span></span>
<span id="cb17-79"><a href="#cb17-79"></a><span class="ss">1. </span>ğŸš <span class="co">[</span><span class="ot">**Shell Utilities**</span><span class="co">](#shell-utilities)</span></span>
<span id="cb17-80"><a href="#cb17-80"></a></span>
<span id="cb17-81"><a href="#cb17-81"></a><span class="fu">## ğŸš Shell Utilities</span></span>
<span id="cb17-82"><a href="#cb17-82"></a></span>
<span id="cb17-83"><a href="#cb17-83"></a>The Shell Utilities can be roughly broken up further into two main components</span>
<span id="cb17-84"><a href="#cb17-84"></a></span>
<span id="cb17-85"><a href="#cb17-85"></a><span class="ss">1. </span><span class="co">[</span><span class="ot">Setup Environment</span><span class="co">](#setup-environment)</span>:</span>
<span id="cb17-86"><a href="#cb17-86"></a><span class="ss">   1. </span><span class="co">[</span><span class="ot">Setup Python</span><span class="co">](#setup-python)</span>:</span>
<span id="cb17-87"><a href="#cb17-87"></a><span class="ss">      1. </span><span class="co">[</span><span class="ot">Setup Conda</span><span class="co">](#setup-conda)</span></span>
<span id="cb17-88"><a href="#cb17-88"></a><span class="ss">      1. </span><span class="co">[</span><span class="ot">Setup Virtual Environment</span><span class="co">](#setup-virtual-environment)</span></span>
<span id="cb17-89"><a href="#cb17-89"></a><span class="ss">   1. </span><span class="co">[</span><span class="ot">Setup Job</span><span class="co">](#setup-job)</span>:</span>
<span id="cb17-90"><a href="#cb17-90"></a></span>
<span id="cb17-91"><a href="#cb17-91"></a>We provide a variety of helper functions designed to make your life easier</span>
<span id="cb17-92"><a href="#cb17-92"></a>when working with job schedulers (e.g. <span class="in">`PBS Pro`</span> @ ALCF or <span class="in">`slurm`</span> elsewhere).</span>
<span id="cb17-93"><a href="#cb17-93"></a></span>
<span id="cb17-94"><a href="#cb17-94"></a>**All** of these functions are:</span>
<span id="cb17-95"><a href="#cb17-95"></a></span>
<span id="cb17-96"><a href="#cb17-96"></a><span class="ss">- </span>located in <span class="co">[</span><span class="ot">`utils.sh`</span><span class="co">](/src/ezpz/bin/utils.sh)</span></span>
<span id="cb17-97"><a href="#cb17-97"></a><span class="ss">- </span>prefixed with <span class="in">`ezpz_*`</span> (e.g. <span class="in">`ezpz_setup_python`</span>)<span class="ot">[^completions]</span></span>
<span id="cb17-98"><a href="#cb17-98"></a></span>
<span id="cb17-99"><a href="#cb17-99"></a>To use these, we can <span class="in">`source`</span> the file directly via:</span>
<span id="cb17-100"><a href="#cb17-100"></a></span>
<span id="cb17-101"><a href="#cb17-101"></a><span class="in">```bash</span></span>
<span id="cb17-102"><a href="#cb17-102"></a><span class="bu">export</span> <span class="va">PBS_O_WORKDIR</span><span class="op">=</span><span class="va">$(</span><span class="bu">pwd</span><span class="va">)</span> <span class="co"># if on ALCF</span></span>
<span id="cb17-103"><a href="#cb17-103"></a><span class="bu">source</span> /dev/stdin <span class="op">&lt;&lt;&lt;</span> <span class="va">$(</span><span class="ex">curl</span> <span class="st">'https://raw.githubusercontent.com/saforem2/ezpz/refs/heads/main/src/ezpz/bin/utils.sh'</span><span class="va">)</span></span>
<span id="cb17-104"><a href="#cb17-104"></a><span class="in">```</span></span>
<span id="cb17-105"><a href="#cb17-105"></a></span>
<span id="cb17-106"><a href="#cb17-106"></a><span class="fu">### âš™ï¸ Setup Environment</span></span>
<span id="cb17-107"><a href="#cb17-107"></a></span>
<span id="cb17-108"><a href="#cb17-108"></a>We would like to write our application in such a way that it is able to take</span>
<span id="cb17-109"><a href="#cb17-109"></a>full advantage of the resources allocated by the job scheduler.</span>
<span id="cb17-110"><a href="#cb17-110"></a></span>
<span id="cb17-111"><a href="#cb17-111"></a>That is to say, we want to have a single script with the ability to dynamically</span>
<span id="cb17-112"><a href="#cb17-112"></a><span class="in">`launch`</span> python applications across any number of accelerators on any of the</span>
<span id="cb17-113"><a href="#cb17-113"></a>systems under consideration.</span>
<span id="cb17-114"><a href="#cb17-114"></a></span>
<span id="cb17-115"><a href="#cb17-115"></a>In order to do this, there is some basic setup and information gathering that</span>
<span id="cb17-116"><a href="#cb17-116"></a>needs to occur.</span>
<span id="cb17-117"><a href="#cb17-117"></a></span>
<span id="cb17-118"><a href="#cb17-118"></a>In particular, we need mechanisms for:</span>
<span id="cb17-119"><a href="#cb17-119"></a></span>
<span id="cb17-120"><a href="#cb17-120"></a><span class="ss">1. </span>Setting up a python environment</span>
<span id="cb17-121"><a href="#cb17-121"></a><span class="ss">1. </span>Determining what system / machine we're on</span>
<span id="cb17-122"><a href="#cb17-122"></a><span class="ss">   - </span><span class="sc">\+</span> what job scheduler we're using (e.g. <span class="in">`PBS Pro`</span> @ ALCF or <span class="in">`slurm`</span></span>
<span id="cb17-123"><a href="#cb17-123"></a>   elsewhere)</span>
<span id="cb17-124"><a href="#cb17-124"></a><span class="ss">1. </span>Determining how many nodes have been allocated in the current job (<span class="in">`NHOSTS`</span>)</span>
<span id="cb17-125"><a href="#cb17-125"></a><span class="ss">   - </span><span class="sc">\+</span> Determining how many accelerators exist on each of these nodes</span>
<span id="cb17-126"><a href="#cb17-126"></a>   (<span class="in">`NGPU_PER_HOST`</span>)</span>
<span id="cb17-127"><a href="#cb17-127"></a></span>
<span id="cb17-128"><a href="#cb17-128"></a>This allows us to calculate the total number of accelerators (GPUs) as:</span>
<span id="cb17-129"><a href="#cb17-129"></a>$N_{\mathrm{GPU}} = N_{\mathrm{HOST}} \times n_{\mathrm{GPU}}$</span>
<span id="cb17-130"><a href="#cb17-130"></a></span>
<span id="cb17-131"><a href="#cb17-131"></a>where $n_{\mathrm{GPU}} = N_{\mathrm{GPU}} / N_{\mathrm{HOST}}$ is the number</span>
<span id="cb17-132"><a href="#cb17-132"></a>of GPUs per host.</span>
<span id="cb17-133"><a href="#cb17-133"></a></span>
<span id="cb17-134"><a href="#cb17-134"></a>With this we have everything we need to build the appropriate {<span class="in">`mpi`</span>{<span class="in">`run`</span>,</span>
<span id="cb17-135"><a href="#cb17-135"></a><span class="in">`exec`</span>}, <span class="in">`slurm`</span>} command for launching our python application across them.</span>
<span id="cb17-136"><a href="#cb17-136"></a></span>
<span id="cb17-137"><a href="#cb17-137"></a>Now, there are a few functions in particular worth elaborating on.</span>
<span id="cb17-138"><a href="#cb17-138"></a></span>
<span id="cb17-139"><a href="#cb17-139"></a>::: {#tbl-shell-fns}</span>
<span id="cb17-140"><a href="#cb17-140"></a></span>
<span id="cb17-141"><a href="#cb17-141"></a><span class="pp">|</span> <span class="dv">&amp;nbsp;</span>                                                  <span class="pp">|</span> Function                     <span class="pp">|</span> Description                                                                               <span class="pp">|</span></span>
<span id="cb17-142"><a href="#cb17-142"></a><span class="pp">| :------------------------------------------------------</span> <span class="pp">| :--------------------------</span>  <span class="pp">| :-----------</span>                                                                              <span class="pp">|</span></span>
<span id="cb17-143"><a href="#cb17-143"></a><span class="pp">|</span> <span class="co">[</span><span class="ot">Setup Environment</span><span class="co">](#setup-environment)</span>                 <span class="pp">|</span> <span class="in">`ezpz_setup_env`</span>             <span class="pp">|</span> Wrapper around <span class="in">`ezpz_setup_python`</span> <span class="in">`&amp;&amp;`</span> <span class="in">`ezpz_setup_job`</span>                                  <span class="pp">|</span></span>
<span id="cb17-144"><a href="#cb17-144"></a><span class="pp">|</span> <span class="co">[</span><span class="ot">Setup Job</span><span class="co">](#setup-job)</span>                                 <span class="pp">|</span> <span class="in">`ezpz_setup_job`</span>             <span class="pp">|</span> Determine {<span class="in">`NGPUS`</span>, <span class="in">`NGPU_PER_HOST`</span>, <span class="in">`NHOSTS`</span>}, build <span class="in">`launch`</span> command alias              <span class="pp">|</span></span>
<span id="cb17-145"><a href="#cb17-145"></a><span class="pp">|</span> <span class="co">[</span><span class="ot">Setup Python</span><span class="co">](#setup-python)</span>                           <span class="pp">|</span> <span class="in">`ezpz_setup_python`</span>          <span class="pp">|</span> Wrapper around <span class="in">`ezpz_setup_conda`</span> <span class="in">`&amp;&amp;`</span> <span class="in">`ezpz_setup_venv_from_conda`</span>                       <span class="pp">|</span></span>
<span id="cb17-146"><a href="#cb17-146"></a><span class="pp">|</span> <span class="co">[</span><span class="ot">Setup Conda</span><span class="co">](#setup-conda)</span>                             <span class="pp">|</span> <span class="in">`ezpz_setup_conda`</span>           <span class="pp">|</span> Find and activate appropriate <span class="in">`conda`</span> module to load<span class="ot">[^conda]</span>                   <span class="pp">|</span></span>
<span id="cb17-147"><a href="#cb17-147"></a><span class="pp">|</span> <span class="co">[</span><span class="ot">Setup Virtual Environment</span><span class="co">](#setup-virtual-environment)</span> <span class="pp">|</span> <span class="in">`ezpz_setup_venv_from_conda`</span> <span class="pp">|</span> From <span class="in">`${CONDA_NAME}`</span>, build or activate the virtual env located in <span class="in">`venvs/${CONDA_NAME}/`</span> <span class="pp">|</span></span>
<span id="cb17-148"><a href="#cb17-148"></a></span>
<span id="cb17-149"><a href="#cb17-149"></a>: Shell Functions {.responsive .striped .hover}</span>
<span id="cb17-150"><a href="#cb17-150"></a>:::</span>
<span id="cb17-151"><a href="#cb17-151"></a></span>
<span id="cb17-152"><a href="#cb17-152"></a><span class="ot">[^conda]: </span>This is system dependent. See <span class="co">[</span><span class="ot">`ezpz_setup_conda`</span><span class="co">](/src/ezpz/bin/utils.sh)</span></span>
<span id="cb17-153"><a href="#cb17-153"></a></span>
<span id="cb17-154"><a href="#cb17-154"></a>::: {.callout-warning collapse=false title="Where am I?"}</span>
<span id="cb17-155"><a href="#cb17-155"></a>_Some_ of the `ezpz_*<span class="in">` functions (e.g. `</span>ezpz_setup_python`), will try to create</span>
<span id="cb17-156"><a href="#cb17-156"></a>/ look for certain directories.</span>
<span id="cb17-157"><a href="#cb17-157"></a></span>
<span id="cb17-158"><a href="#cb17-158"></a>In an effort to be explicit, these directories will be defined **relative to**</span>
<span id="cb17-159"><a href="#cb17-159"></a>a <span class="in">`WORKING_DIR`</span> (e.g. <span class="in">`"${WORKING_DIR}/venvs/"`</span>)</span>
<span id="cb17-160"><a href="#cb17-160"></a></span>
<span id="cb17-161"><a href="#cb17-161"></a>This <span class="in">`WORKING_DIR`</span> will be assigned to the first non-zero match found below:</span>
<span id="cb17-162"><a href="#cb17-162"></a></span>
<span id="cb17-163"><a href="#cb17-163"></a><span class="ss">1. </span><span class="in">`PBS_O_WORKDIR`</span>: If found in environment, paths will be relative to this</span>
<span id="cb17-164"><a href="#cb17-164"></a><span class="ss">2. </span><span class="in">`SLURM_SUBMIT_DIR`</span>: Next in line. If not @ ALCF, maybe using <span class="in">`slurm`</span>...</span>
<span id="cb17-165"><a href="#cb17-165"></a><span class="ss">3. </span><span class="in">`$(pwd)`</span>: Otherwise, no worries. Use your _actual_ working directory.</span>
<span id="cb17-166"><a href="#cb17-166"></a>:::</span>
<span id="cb17-167"><a href="#cb17-167"></a></span>
<span id="cb17-168"><a href="#cb17-168"></a><span class="fu">### ğŸ“ Example</span></span>
<span id="cb17-169"><a href="#cb17-169"></a></span>
<span id="cb17-170"><a href="#cb17-170"></a><span class="ss">1. </span>Clone repo:</span>
<span id="cb17-171"><a href="#cb17-171"></a></span>
<span id="cb17-172"><a href="#cb17-172"></a>    <span class="in">```bash</span></span>
<span id="cb17-173"><a href="#cb17-173"></a>    <span class="fu">git</span> clone https://github.com/saforem2/ezpz</span>
<span id="cb17-174"><a href="#cb17-174"></a>    <span class="bu">cd</span> ezpz</span>
<span id="cb17-175"><a href="#cb17-175"></a>    <span class="in">```</span></span>
<span id="cb17-176"><a href="#cb17-176"></a></span>
<span id="cb17-177"><a href="#cb17-177"></a><span class="ss">1. </span>Setup environment:</span>
<span id="cb17-178"><a href="#cb17-178"></a></span>
<span id="cb17-179"><a href="#cb17-179"></a>   <span class="in">```bash</span></span>
<span id="cb17-180"><a href="#cb17-180"></a>   <span class="bu">export</span> <span class="va">PBS_O_WORKDIR</span><span class="op">=</span><span class="va">$(</span><span class="bu">pwd</span><span class="va">)</span> <span class="kw">&amp;&amp;</span> <span class="bu">source</span> src/ezpz/bin/utils.sh <span class="kw">&amp;&amp;</span> <span class="ex">ezpz_setup_env</span></span>
<span id="cb17-181"><a href="#cb17-181"></a>   <span class="in">```</span></span>
<span id="cb17-182"><a href="#cb17-182"></a></span>
<span id="cb17-183"><a href="#cb17-183"></a>   <span class="dt">&lt;</span><span class="kw">details</span><span class="ot"> closed</span><span class="dt">&gt;&lt;</span><span class="kw">summary</span><span class="dt">&gt;</span>Output<span class="dt">&lt;/</span><span class="kw">summary</span><span class="dt">&gt;</span></span>
<span id="cb17-184"><a href="#cb17-184"></a></span>
<span id="cb17-185"><a href="#cb17-185"></a>   <span class="in">```bash</span></span>
<span id="cb17-186"><a href="#cb17-186"></a>   <span class="ex">$</span> export PBS_O_WORKDIR=<span class="va">$(</span><span class="bu">pwd</span><span class="va">)</span> <span class="kw">&amp;&amp;</span> <span class="bu">source</span> src/ezpz/bin/utils.sh <span class="kw">&amp;&amp;</span> <span class="ex">ezpz_setup_env</span></span>
<span id="cb17-187"><a href="#cb17-187"></a>   <span class="ex">Using</span> WORKING_DIR: /gila/Aurora_deployment/foremans/projects/saforem2/ezpz</span>
<span id="cb17-188"><a href="#cb17-188"></a>   <span class="ex">No</span> conda_prefix OR virtual_env found in environment...</span>
<span id="cb17-189"><a href="#cb17-189"></a>   <span class="ex">Setting</span> up conda...</span>
<span id="cb17-190"><a href="#cb17-190"></a></span>
<span id="cb17-191"><a href="#cb17-191"></a>   <span class="ex">Due</span> to MODULEPATH changes, the following have been reloaded:</span>
<span id="cb17-192"><a href="#cb17-192"></a>     <span class="ex">1</span><span class="er">)</span> <span class="ex">mpich/icc-all-pmix-gpu/20240717</span></span>
<span id="cb17-193"><a href="#cb17-193"></a></span>
<span id="cb17-194"><a href="#cb17-194"></a>   <span class="ex">The</span> following have been reloaded with a version change:</span>
<span id="cb17-195"><a href="#cb17-195"></a>     <span class="ex">1</span><span class="er">)</span> <span class="ex">oneapi/eng-compiler/2024.07.30.002</span> =<span class="op">&gt;</span> oneapi/release/2024.2.1</span>
<span id="cb17-196"><a href="#cb17-196"></a></span>
<span id="cb17-197"><a href="#cb17-197"></a>   <span class="ex">Found</span> conda at: /opt/aurora/24.180.1/frameworks/aurora_nre_models_frameworks-2024.2.1_u1</span>
<span id="cb17-198"><a href="#cb17-198"></a>   <span class="ex">No</span> VIRTUAL_ENV found in environment!</span>
<span id="cb17-199"><a href="#cb17-199"></a>       <span class="ex">-</span> Trying to setup from /opt/aurora/24.180.1/frameworks/aurora_nre_models_frameworks-2024.2.1_u1</span>
<span id="cb17-200"><a href="#cb17-200"></a>       <span class="ex">-</span> Using VENV_DIR=/gila/Aurora_deployment/foremans/projects/saforem2/ezpz/venvs/aurora_nre_models_frameworks-2024.2.1_u1</span>
<span id="cb17-201"><a href="#cb17-201"></a></span>
<span id="cb17-202"><a href="#cb17-202"></a>       <span class="ex">-</span> Creating a new virtual env on top of aurora_nre_models_frameworks-2024.2.1_u1 in /gila/Aurora_deployment/foremans/projects/saforem2/ezpz/venvs/aurora_nre_models_frameworks-2024.2.1_u1</span>
<span id="cb17-203"><a href="#cb17-203"></a>   <span class="ex">[python]</span> Using /gila/Aurora_deployment/foremans/projects/saforem2/ezpz/venvs/aurora_nre_models_frameworks-2024.2.1_u1/bin/python3</span>
<span id="cb17-204"><a href="#cb17-204"></a></span>
<span id="cb17-205"><a href="#cb17-205"></a>   <span class="ex">[ğŸ‹</span> ezpz/bin/utils.sh]</span>
<span id="cb17-206"><a href="#cb17-206"></a>       <span class="ex">â€¢</span> USER=foremans</span>
<span id="cb17-207"><a href="#cb17-207"></a>       <span class="ex">â€¢</span> MACHINE=sunspot</span>
<span id="cb17-208"><a href="#cb17-208"></a>       <span class="ex">â€¢</span> HOST=x1922c5s0b0n0</span>
<span id="cb17-209"><a href="#cb17-209"></a>       <span class="ex">â€¢</span> TSTAMP=2024-11-28-133756</span>
<span id="cb17-210"><a href="#cb17-210"></a></span>
<span id="cb17-211"><a href="#cb17-211"></a>   <span class="ex">[ezpz_setup_host_pbs]</span></span>
<span id="cb17-212"><a href="#cb17-212"></a>       <span class="ex">â€¢</span> Using hostfile: /var/spool/pbs/aux/10283088.amn-0001</span>
<span id="cb17-213"><a href="#cb17-213"></a>       <span class="ex">â€¢</span> Found in environment:</span>
<span id="cb17-214"><a href="#cb17-214"></a>           <span class="ex">â€¢</span> HOSTFILE: /var/spool/pbs/aux/10283088.amn-0001</span>
<span id="cb17-215"><a href="#cb17-215"></a>           <span class="ex">â€¢</span> Writing PBS vars to: /home/foremans/.pbsenv</span>
<span id="cb17-216"><a href="#cb17-216"></a></span>
<span id="cb17-217"><a href="#cb17-217"></a>   <span class="ex">[ezpz_save_pbs_env]</span></span>
<span id="cb17-218"><a href="#cb17-218"></a>       <span class="ex">â€¢</span> Setting:</span>
<span id="cb17-219"><a href="#cb17-219"></a>           <span class="ex">â€¢</span> HOSTFILE: /var/spool/pbs/aux/10283088.amn-0001</span>
<span id="cb17-220"><a href="#cb17-220"></a>           <span class="ex">â€¢</span> JOBENV_FILE: /home/foremans/.pbsenv</span>
<span id="cb17-221"><a href="#cb17-221"></a></span>
<span id="cb17-222"><a href="#cb17-222"></a>   <span class="ex">[HOSTS]</span></span>
<span id="cb17-223"><a href="#cb17-223"></a>       <span class="ex">â€¢</span> <span class="pp">[</span><span class="ss">host:0</span><span class="pp">]</span> <span class="at">-</span> x1922c5s0b0n0.hostmgmt2001.cm.americas.sgi.com</span>
<span id="cb17-224"><a href="#cb17-224"></a>       <span class="ex">â€¢</span> <span class="pp">[</span><span class="ss">host:1</span><span class="pp">]</span> <span class="at">-</span> x1922c5s2b0n0.hostmgmt2001.cm.americas.sgi.com</span>
<span id="cb17-225"><a href="#cb17-225"></a>       <span class="ex">â€¢</span> <span class="pp">[</span><span class="ss">host:2</span><span class="pp">]</span> <span class="at">-</span> x1922c5s4b0n0.hostmgmt2001.cm.americas.sgi.com</span>
<span id="cb17-226"><a href="#cb17-226"></a>       <span class="ex">â€¢</span> <span class="pp">[</span><span class="ss">host:3</span><span class="pp">]</span> <span class="at">-</span> x1922c6s1b0n0.hostmgmt2001.cm.americas.sgi.com</span>
<span id="cb17-227"><a href="#cb17-227"></a></span>
<span id="cb17-228"><a href="#cb17-228"></a>   <span class="ex">[DIST</span> INFO]</span>
<span id="cb17-229"><a href="#cb17-229"></a>       <span class="ex">â€¢</span> NGPUS=48</span>
<span id="cb17-230"><a href="#cb17-230"></a>       <span class="ex">â€¢</span> NHOSTS=4</span>
<span id="cb17-231"><a href="#cb17-231"></a>       <span class="ex">â€¢</span> NGPU_PER_HOST=12</span>
<span id="cb17-232"><a href="#cb17-232"></a>       <span class="ex">â€¢</span> HOSTFILE=/var/spool/pbs/aux/10283088.amn-0001</span>
<span id="cb17-233"><a href="#cb17-233"></a>       <span class="ex">â€¢</span> DIST_LAUNCH=mpiexec <span class="at">--verbose</span> <span class="at">--envall</span> <span class="at">-n</span> 48 <span class="at">-ppn</span> 12 <span class="at">--hostfile</span> /var/spool/pbs/aux/10283088.amn-0001 <span class="at">--cpu-bind</span> depth <span class="at">-d</span> 8</span>
<span id="cb17-234"><a href="#cb17-234"></a></span>
<span id="cb17-235"><a href="#cb17-235"></a>   <span class="ex">[LAUNCH]:</span></span>
<span id="cb17-236"><a href="#cb17-236"></a>       <span class="ex">â€¢</span> To launch across all available GPUs, use: launch</span>
<span id="cb17-237"><a href="#cb17-237"></a></span>
<span id="cb17-238"><a href="#cb17-238"></a>         <span class="ex">launch</span> = mpiexec <span class="at">--verbose</span> <span class="at">--envall</span> <span class="at">-n</span> 48 <span class="at">-ppn</span> 12 <span class="at">--hostfile</span> /var/spool/pbs/aux/10283088.amn-0001 <span class="at">--cpu-bind</span> depth <span class="at">-d</span> 8</span>
<span id="cb17-239"><a href="#cb17-239"></a></span>
<span id="cb17-240"><a href="#cb17-240"></a>   <span class="ex">took:</span> 0h:00m:12s</span>
<span id="cb17-241"><a href="#cb17-241"></a>   <span class="in">```</span></span>
<span id="cb17-242"><a href="#cb17-242"></a></span>
<span id="cb17-243"><a href="#cb17-243"></a>   <span class="dt">&lt;/</span><span class="kw">details</span><span class="dt">&gt;</span></span>
<span id="cb17-244"><a href="#cb17-244"></a></span>
<span id="cb17-245"><a href="#cb17-245"></a><span class="ss">1. </span>Install <span class="in">`ezpz`</span>:</span>
<span id="cb17-246"><a href="#cb17-246"></a></span>
<span id="cb17-247"><a href="#cb17-247"></a>   <span class="in">```bash</span></span>
<span id="cb17-248"><a href="#cb17-248"></a>   <span class="ex">python3</span> <span class="at">-m</span> pip install <span class="at">-e</span> <span class="st">"."</span> <span class="at">--require-virtualenv</span></span>
<span id="cb17-249"><a href="#cb17-249"></a>   <span class="in">```</span></span>
<span id="cb17-250"><a href="#cb17-250"></a></span>
<span id="cb17-251"><a href="#cb17-251"></a><span class="ss">1. </span>Check <span class="in">`launch`</span>:</span>
<span id="cb17-252"><a href="#cb17-252"></a></span>
<span id="cb17-253"><a href="#cb17-253"></a>   <span class="in">```bash</span></span>
<span id="cb17-254"><a href="#cb17-254"></a>   <span class="ex">$</span> which launch</span>
<span id="cb17-255"><a href="#cb17-255"></a>   <span class="ex">launch:</span> aliased to mpiexec <span class="at">--verbose</span> <span class="at">--envall</span> <span class="at">-n</span> 48 <span class="at">-ppn</span> 12 <span class="at">--hostfile</span> /var/spool/pbs/aux/10283088.amn-0001 <span class="at">--cpu-bind</span> depth <span class="at">-d</span> 8</span>
<span id="cb17-256"><a href="#cb17-256"></a>   <span class="in">```</span></span>
<span id="cb17-257"><a href="#cb17-257"></a></span>
<span id="cb17-258"><a href="#cb17-258"></a><span class="ss">1. </span>Run <span class="in">`ezpz.test_dist`</span>:</span>
<span id="cb17-259"><a href="#cb17-259"></a></span>
<span id="cb17-260"><a href="#cb17-260"></a>   <span class="in">```bash</span></span>
<span id="cb17-261"><a href="#cb17-261"></a>   <span class="ex">launch</span> python3 src/ezpz/test_dist.py</span>
<span id="cb17-262"><a href="#cb17-262"></a>   <span class="in">```</span></span>
<span id="cb17-263"><a href="#cb17-263"></a></span>
<span id="cb17-264"><a href="#cb17-264"></a>   <span class="dt">&lt;</span><span class="kw">details</span><span class="ot"> closed</span><span class="dt">&gt;&lt;</span><span class="kw">summary</span><span class="dt">&gt;</span>Output<span class="dt">&lt;/</span><span class="kw">summary</span><span class="dt">&gt;</span></span>
<span id="cb17-265"><a href="#cb17-265"></a></span>
<span id="cb17-266"><a href="#cb17-266"></a>   <span class="in">```bash</span></span>
<span id="cb17-267"><a href="#cb17-267"></a>   <span class="co">#[ğŸ aurora_nre_models_frameworks-2023.2.1_u1](ğŸ‘» aurora_nre_models_frameworks-2024.2.1_u1)</span></span>
<span id="cb17-268"><a href="#cb17-268"></a>   <span class="co">#[ğŸŒ»][01:42:37 PM][foremans@x1922c5s0b0n0][â€¦/ezpz][ğŸŒ± saforem2-patch-1]via â¨ v1.4.552</span></span>
<span id="cb17-269"><a href="#cb17-269"></a>   <span class="ex">$</span> launch python3 <span class="at">-m</span> ezpz.test_dist</span>
<span id="cb17-270"><a href="#cb17-270"></a>   <span class="ex">Disabling</span> local launch: multi-node application</span>
<span id="cb17-271"><a href="#cb17-271"></a>   <span class="ex">Connected</span> to tcp://x1922c5s0b0n0.hostmgmt2001.cm.americas.sgi.com:7919</span>
<span id="cb17-272"><a href="#cb17-272"></a>   <span class="ex">Found</span> executable /gila/Aurora_deployment/foremans/projects/saforem2/ezpz/venvs/aurora_nre_models_frameworks-2024.2.1_u1/bin/python3</span>
<span id="cb17-273"><a href="#cb17-273"></a>   <span class="ex">Launching</span> application ecd9868b-2b3b-4a0e-b2e6-79769ecc7eff</span>
<span id="cb17-274"><a href="#cb17-274"></a>   <span class="ex">[2024-11-28</span> 13:43:41.385960]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">dist.py:348</span><span class="pp">]</span> <span class="at">-</span> <span class="pp">[</span><span class="ss">device=</span><span class="st">'xpu'</span><span class="pp">][</span><span class="ss">rank=3/47</span><span class="pp">][</span><span class="ss">local_rank=3/11</span><span class="pp">][</span><span class="ss">node=3/3</span><span class="pp">]</span></span>
<span id="cb17-275"><a href="#cb17-275"></a>   <span class="ex">[2024-11-28</span> 13:43:41.386603]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">dist.py:348</span><span class="pp">]</span> <span class="at">-</span> <span class="pp">[</span><span class="ss">device=</span><span class="st">'xpu'</span><span class="pp">][</span><span class="ss">rank=1/47</span><span class="pp">][</span><span class="ss">local_rank=1/11</span><span class="pp">][</span><span class="ss">node=1/3</span><span class="pp">]</span></span>
<span id="cb17-276"><a href="#cb17-276"></a>   <span class="ex">[2024-11-28</span> 13:43:41.386605]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">dist.py:348</span><span class="pp">]</span> <span class="at">-</span> <span class="pp">[</span><span class="ss">device=</span><span class="st">'xpu'</span><span class="pp">][</span><span class="ss">rank=2/47</span><span class="pp">][</span><span class="ss">local_rank=2/11</span><span class="pp">][</span><span class="ss">node=2/3</span><span class="pp">]</span></span>
<span id="cb17-277"><a href="#cb17-277"></a>   <span class="ex">[2024-11-28</span> 13:43:41.386834]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">dist.py:348</span><span class="pp">]</span> <span class="at">-</span> <span class="pp">[</span><span class="ss">device=</span><span class="st">'xpu'</span><span class="pp">][</span><span class="ss">rank=6/47</span><span class="pp">][</span><span class="ss">local_rank=6/11</span><span class="pp">][</span><span class="ss">node=2/3</span><span class="pp">]</span></span>
<span id="cb17-278"><a href="#cb17-278"></a>   <span class="ex">[2024-11-28</span> 13:43:41.387707]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">dist.py:348</span><span class="pp">]</span> <span class="at">-</span> <span class="pp">[</span><span class="ss">device=</span><span class="st">'xpu'</span><span class="pp">][</span><span class="ss">rank=8/47</span><span class="pp">][</span><span class="ss">local_rank=8/11</span><span class="pp">][</span><span class="ss">node=0/3</span><span class="pp">]</span></span>
<span id="cb17-279"><a href="#cb17-279"></a>   <span class="ex">[2024-11-28</span> 13:43:41.387290]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">dist.py:348</span><span class="pp">]</span> <span class="at">-</span> <span class="pp">[</span><span class="ss">device=</span><span class="st">'xpu'</span><span class="pp">][</span><span class="ss">rank=4/47</span><span class="pp">][</span><span class="ss">local_rank=4/11</span><span class="pp">][</span><span class="ss">node=0/3</span><span class="pp">]</span></span>
<span id="cb17-280"><a href="#cb17-280"></a>   <span class="ex">[2024-11-28</span> 13:43:41.387235]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">dist.py:348</span><span class="pp">]</span> <span class="at">-</span> <span class="pp">[</span><span class="ss">device=</span><span class="st">'xpu'</span><span class="pp">][</span><span class="ss">rank=10/47</span><span class="pp">][</span><span class="ss">local_rank=10/11</span><span class="pp">][</span><span class="ss">node=2/3</span><span class="pp">]</span></span>
<span id="cb17-281"><a href="#cb17-281"></a>   <span class="ex">[2024-11-28</span> 13:43:41.387362]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">dist.py:348</span><span class="pp">]</span> <span class="at">-</span> <span class="pp">[</span><span class="ss">device=</span><span class="st">'xpu'</span><span class="pp">][</span><span class="ss">rank=11/47</span><span class="pp">][</span><span class="ss">local_rank=11/11</span><span class="pp">][</span><span class="ss">node=3/3</span><span class="pp">]</span></span>
<span id="cb17-282"><a href="#cb17-282"></a>   <span class="ex">[2024-11-28</span> 13:43:41.387761]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">dist.py:348</span><span class="pp">]</span> <span class="at">-</span> <span class="pp">[</span><span class="ss">device=</span><span class="st">'xpu'</span><span class="pp">][</span><span class="ss">rank=5/47</span><span class="pp">][</span><span class="ss">local_rank=5/11</span><span class="pp">][</span><span class="ss">node=1/3</span><span class="pp">]</span></span>
<span id="cb17-283"><a href="#cb17-283"></a>   <span class="ex">[2024-11-28</span> 13:43:41.387958]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">dist.py:348</span><span class="pp">]</span> <span class="at">-</span> <span class="pp">[</span><span class="ss">device=</span><span class="st">'xpu'</span><span class="pp">][</span><span class="ss">rank=9/47</span><span class="pp">][</span><span class="ss">local_rank=9/11</span><span class="pp">][</span><span class="ss">node=1/3</span><span class="pp">]</span></span>
<span id="cb17-284"><a href="#cb17-284"></a>   <span class="ex">[2024-11-28</span> 13:43:46.384505]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">dist.py:348</span><span class="pp">]</span> <span class="at">-</span> <span class="pp">[</span><span class="ss">device=</span><span class="st">'xpu'</span><span class="pp">][</span><span class="ss">rank=7/47</span><span class="pp">][</span><span class="ss">local_rank=7/11</span><span class="pp">][</span><span class="ss">node=3/3</span><span class="pp">]</span></span>
<span id="cb17-285"><a href="#cb17-285"></a>   <span class="ex">[2024-11-28</span> 13:44:32.816252]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">dist.py:348</span><span class="pp">]</span> <span class="at">-</span> <span class="pp">[</span><span class="ss">device=</span><span class="st">'xpu'</span><span class="pp">][</span><span class="ss">rank=15/47</span><span class="pp">][</span><span class="ss">local_rank=3/11</span><span class="pp">][</span><span class="ss">node=3/3</span><span class="pp">]</span></span>
<span id="cb17-286"><a href="#cb17-286"></a>   <span class="ex">[2024-11-28</span> 13:44:32.821175]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">dist.py:348</span><span class="pp">]</span> <span class="at">-</span> <span class="pp">[</span><span class="ss">device=</span><span class="st">'xpu'</span><span class="pp">][</span><span class="ss">rank=17/47</span><span class="pp">][</span><span class="ss">local_rank=5/11</span><span class="pp">][</span><span class="ss">node=1/3</span><span class="pp">]</span></span>
<span id="cb17-287"><a href="#cb17-287"></a>   <span class="ex">[2024-11-28</span> 13:44:32.824021]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">dist.py:348</span><span class="pp">]</span> <span class="at">-</span> <span class="pp">[</span><span class="ss">device=</span><span class="st">'xpu'</span><span class="pp">][</span><span class="ss">rank=22/47</span><span class="pp">][</span><span class="ss">local_rank=10/11</span><span class="pp">][</span><span class="ss">node=2/3</span><span class="pp">]</span></span>
<span id="cb17-288"><a href="#cb17-288"></a>   <span class="ex">[2024-11-28</span> 13:44:32.825905]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">dist.py:348</span><span class="pp">]</span> <span class="at">-</span> <span class="pp">[</span><span class="ss">device=</span><span class="st">'xpu'</span><span class="pp">][</span><span class="ss">rank=41/47</span><span class="pp">][</span><span class="ss">local_rank=5/11</span><span class="pp">][</span><span class="ss">node=1/3</span><span class="pp">]</span></span>
<span id="cb17-289"><a href="#cb17-289"></a>   <span class="ex">[2024-11-28</span> 13:44:32.826590]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">dist.py:348</span><span class="pp">]</span> <span class="at">-</span> <span class="pp">[</span><span class="ss">device=</span><span class="st">'xpu'</span><span class="pp">][</span><span class="ss">rank=38/47</span><span class="pp">][</span><span class="ss">local_rank=2/11</span><span class="pp">][</span><span class="ss">node=2/3</span><span class="pp">]</span></span>
<span id="cb17-290"><a href="#cb17-290"></a>   <span class="ex">[2024-11-28</span> 13:44:32.838048]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">dist.py:348</span><span class="pp">]</span> <span class="at">-</span> <span class="pp">[</span><span class="ss">device=</span><span class="st">'xpu'</span><span class="pp">][</span><span class="ss">rank=23/47</span><span class="pp">][</span><span class="ss">local_rank=11/11</span><span class="pp">][</span><span class="ss">node=3/3</span><span class="pp">]</span></span>
<span id="cb17-291"><a href="#cb17-291"></a>   <span class="ex">[2024-11-28</span> 13:44:32.838526]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">dist.py:348</span><span class="pp">]</span> <span class="at">-</span> <span class="pp">[</span><span class="ss">device=</span><span class="st">'xpu'</span><span class="pp">][</span><span class="ss">rank=21/47</span><span class="pp">][</span><span class="ss">local_rank=9/11</span><span class="pp">][</span><span class="ss">node=1/3</span><span class="pp">]</span></span>
<span id="cb17-292"><a href="#cb17-292"></a>   <span class="ex">[2024-11-28</span> 13:44:32.838825]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">dist.py:348</span><span class="pp">]</span> <span class="at">-</span> <span class="pp">[</span><span class="ss">device=</span><span class="st">'xpu'</span><span class="pp">][</span><span class="ss">rank=19/47</span><span class="pp">][</span><span class="ss">local_rank=7/11</span><span class="pp">][</span><span class="ss">node=3/3</span><span class="pp">]</span></span>
<span id="cb17-293"><a href="#cb17-293"></a>   <span class="ex">[2024-11-28</span> 13:44:32.838817]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">dist.py:348</span><span class="pp">]</span> <span class="at">-</span> <span class="pp">[</span><span class="ss">device=</span><span class="st">'xpu'</span><span class="pp">][</span><span class="ss">rank=36/47</span><span class="pp">][</span><span class="ss">local_rank=0/11</span><span class="pp">][</span><span class="ss">node=0/3</span><span class="pp">]</span></span>
<span id="cb17-294"><a href="#cb17-294"></a>   <span class="ex">[2024-11-28</span> 13:44:32.838665]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">dist.py:348</span><span class="pp">]</span> <span class="at">-</span> <span class="pp">[</span><span class="ss">device=</span><span class="st">'xpu'</span><span class="pp">][</span><span class="ss">rank=35/47</span><span class="pp">][</span><span class="ss">local_rank=11/11</span><span class="pp">][</span><span class="ss">node=3/3</span><span class="pp">]</span></span>
<span id="cb17-295"><a href="#cb17-295"></a>   <span class="ex">[2024-11-28</span> 13:44:32.839033]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">dist.py:348</span><span class="pp">]</span> <span class="at">-</span> <span class="pp">[</span><span class="ss">device=</span><span class="st">'xpu'</span><span class="pp">][</span><span class="ss">rank=25/47</span><span class="pp">][</span><span class="ss">local_rank=1/11</span><span class="pp">][</span><span class="ss">node=1/3</span><span class="pp">]</span></span>
<span id="cb17-296"><a href="#cb17-296"></a>   <span class="ex">[2024-11-28</span> 13:44:32.838855]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">dist.py:348</span><span class="pp">]</span> <span class="at">-</span> <span class="pp">[</span><span class="ss">device=</span><span class="st">'xpu'</span><span class="pp">][</span><span class="ss">rank=26/47</span><span class="pp">][</span><span class="ss">local_rank=2/11</span><span class="pp">][</span><span class="ss">node=2/3</span><span class="pp">]</span></span>
<span id="cb17-297"><a href="#cb17-297"></a>   <span class="ex">[2024-11-28</span> 13:44:32.839144]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">dist.py:348</span><span class="pp">]</span> <span class="at">-</span> <span class="pp">[</span><span class="ss">device=</span><span class="st">'xpu'</span><span class="pp">][</span><span class="ss">rank=33/47</span><span class="pp">][</span><span class="ss">local_rank=9/11</span><span class="pp">][</span><span class="ss">node=1/3</span><span class="pp">]</span></span>
<span id="cb17-298"><a href="#cb17-298"></a>   <span class="ex">[2024-11-28</span> 13:44:32.840785]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">dist.py:348</span><span class="pp">]</span> <span class="at">-</span> <span class="pp">[</span><span class="ss">device=</span><span class="st">'xpu'</span><span class="pp">][</span><span class="ss">rank=37/47</span><span class="pp">][</span><span class="ss">local_rank=1/11</span><span class="pp">][</span><span class="ss">node=1/3</span><span class="pp">]</span></span>
<span id="cb17-299"><a href="#cb17-299"></a>   <span class="ex">[2024-11-28</span> 13:44:32.840740]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">dist.py:348</span><span class="pp">]</span> <span class="at">-</span> <span class="pp">[</span><span class="ss">device=</span><span class="st">'xpu'</span><span class="pp">][</span><span class="ss">rank=47/47</span><span class="pp">][</span><span class="ss">local_rank=11/11</span><span class="pp">][</span><span class="ss">node=3/3</span><span class="pp">]</span></span>
<span id="cb17-300"><a href="#cb17-300"></a>   <span class="ex">[2024-11-28</span> 13:44:32.844721]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">dist.py:348</span><span class="pp">]</span> <span class="at">-</span> <span class="pp">[</span><span class="ss">device=</span><span class="st">'xpu'</span><span class="pp">][</span><span class="ss">rank=46/47</span><span class="pp">][</span><span class="ss">local_rank=10/11</span><span class="pp">][</span><span class="ss">node=2/3</span><span class="pp">]</span></span>
<span id="cb17-301"><a href="#cb17-301"></a>   <span class="ex">[2024-11-28</span> 13:44:32.845202]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">dist.py:348</span><span class="pp">]</span> <span class="at">-</span> <span class="pp">[</span><span class="ss">device=</span><span class="st">'xpu'</span><span class="pp">][</span><span class="ss">rank=30/47</span><span class="pp">][</span><span class="ss">local_rank=6/11</span><span class="pp">][</span><span class="ss">node=2/3</span><span class="pp">]</span></span>
<span id="cb17-302"><a href="#cb17-302"></a>   <span class="ex">[2024-11-28</span> 13:44:32.845888]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">dist.py:348</span><span class="pp">]</span> <span class="at">-</span> <span class="pp">[</span><span class="ss">device=</span><span class="st">'xpu'</span><span class="pp">][</span><span class="ss">rank=18/47</span><span class="pp">][</span><span class="ss">local_rank=6/11</span><span class="pp">][</span><span class="ss">node=2/3</span><span class="pp">]</span></span>
<span id="cb17-303"><a href="#cb17-303"></a>   <span class="ex">[2024-11-28</span> 13:44:32.849905]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">dist.py:348</span><span class="pp">]</span> <span class="at">-</span> <span class="pp">[</span><span class="ss">device=</span><span class="st">'xpu'</span><span class="pp">][</span><span class="ss">rank=20/47</span><span class="pp">][</span><span class="ss">local_rank=8/11</span><span class="pp">][</span><span class="ss">node=0/3</span><span class="pp">]</span></span>
<span id="cb17-304"><a href="#cb17-304"></a>   <span class="ex">[2024-11-28</span> 13:44:32.849947]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">dist.py:348</span><span class="pp">]</span> <span class="at">-</span> <span class="pp">[</span><span class="ss">device=</span><span class="st">'xpu'</span><span class="pp">][</span><span class="ss">rank=32/47</span><span class="pp">][</span><span class="ss">local_rank=8/11</span><span class="pp">][</span><span class="ss">node=0/3</span><span class="pp">]</span></span>
<span id="cb17-305"><a href="#cb17-305"></a>   <span class="ex">[2024-11-28</span> 13:44:32.850232]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">dist.py:348</span><span class="pp">]</span> <span class="at">-</span> <span class="pp">[</span><span class="ss">device=</span><span class="st">'xpu'</span><span class="pp">][</span><span class="ss">rank=39/47</span><span class="pp">][</span><span class="ss">local_rank=3/11</span><span class="pp">][</span><span class="ss">node=3/3</span><span class="pp">]</span></span>
<span id="cb17-306"><a href="#cb17-306"></a>   <span class="ex">[2024-11-28</span> 13:44:32.850301]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">dist.py:348</span><span class="pp">]</span> <span class="at">-</span> <span class="pp">[</span><span class="ss">device=</span><span class="st">'xpu'</span><span class="pp">][</span><span class="ss">rank=44/47</span><span class="pp">][</span><span class="ss">local_rank=8/11</span><span class="pp">][</span><span class="ss">node=0/3</span><span class="pp">]</span></span>
<span id="cb17-307"><a href="#cb17-307"></a>   <span class="ex">[2024-11-28</span> 13:44:32.850795]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">dist.py:348</span><span class="pp">]</span> <span class="at">-</span> <span class="pp">[</span><span class="ss">device=</span><span class="st">'xpu'</span><span class="pp">][</span><span class="ss">rank=14/47</span><span class="pp">][</span><span class="ss">local_rank=2/11</span><span class="pp">][</span><span class="ss">node=2/3</span><span class="pp">]</span></span>
<span id="cb17-308"><a href="#cb17-308"></a>   <span class="ex">[2024-11-28</span> 13:44:32.851872]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">dist.py:348</span><span class="pp">]</span> <span class="at">-</span> <span class="pp">[</span><span class="ss">device=</span><span class="st">'xpu'</span><span class="pp">][</span><span class="ss">rank=28/47</span><span class="pp">][</span><span class="ss">local_rank=4/11</span><span class="pp">][</span><span class="ss">node=0/3</span><span class="pp">]</span></span>
<span id="cb17-309"><a href="#cb17-309"></a>   <span class="ex">[2024-11-28</span> 13:44:32.852078]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">dist.py:348</span><span class="pp">]</span> <span class="at">-</span> <span class="pp">[</span><span class="ss">device=</span><span class="st">'xpu'</span><span class="pp">][</span><span class="ss">rank=12/47</span><span class="pp">][</span><span class="ss">local_rank=0/11</span><span class="pp">][</span><span class="ss">node=0/3</span><span class="pp">]</span></span>
<span id="cb17-310"><a href="#cb17-310"></a>   <span class="ex">[2024-11-28</span> 13:44:32.853836]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">dist.py:348</span><span class="pp">]</span> <span class="at">-</span> <span class="pp">[</span><span class="ss">device=</span><span class="st">'xpu'</span><span class="pp">][</span><span class="ss">rank=16/47</span><span class="pp">][</span><span class="ss">local_rank=4/11</span><span class="pp">][</span><span class="ss">node=0/3</span><span class="pp">]</span></span>
<span id="cb17-311"><a href="#cb17-311"></a>   <span class="ex">[2024-11-28</span> 13:44:32.853997]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">dist.py:348</span><span class="pp">]</span> <span class="at">-</span> <span class="pp">[</span><span class="ss">device=</span><span class="st">'xpu'</span><span class="pp">][</span><span class="ss">rank=24/47</span><span class="pp">][</span><span class="ss">local_rank=0/11</span><span class="pp">][</span><span class="ss">node=0/3</span><span class="pp">]</span></span>
<span id="cb17-312"><a href="#cb17-312"></a>   <span class="ex">[2024-11-28</span> 13:44:32.855526]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">dist.py:348</span><span class="pp">]</span> <span class="at">-</span> <span class="pp">[</span><span class="ss">device=</span><span class="st">'xpu'</span><span class="pp">][</span><span class="ss">rank=13/47</span><span class="pp">][</span><span class="ss">local_rank=1/11</span><span class="pp">][</span><span class="ss">node=1/3</span><span class="pp">]</span></span>
<span id="cb17-313"><a href="#cb17-313"></a>   <span class="ex">[2024-11-28</span> 13:44:32.856609]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">dist.py:348</span><span class="pp">]</span> <span class="at">-</span> <span class="pp">[</span><span class="ss">device=</span><span class="st">'xpu'</span><span class="pp">][</span><span class="ss">rank=40/47</span><span class="pp">][</span><span class="ss">local_rank=4/11</span><span class="pp">][</span><span class="ss">node=0/3</span><span class="pp">]</span></span>
<span id="cb17-314"><a href="#cb17-314"></a>   <span class="ex">[2024-11-28</span> 13:44:32.857991]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">dist.py:348</span><span class="pp">]</span> <span class="at">-</span> <span class="pp">[</span><span class="ss">device=</span><span class="st">'xpu'</span><span class="pp">][</span><span class="ss">rank=42/47</span><span class="pp">][</span><span class="ss">local_rank=6/11</span><span class="pp">][</span><span class="ss">node=2/3</span><span class="pp">]</span></span>
<span id="cb17-315"><a href="#cb17-315"></a>   <span class="ex">[2024-11-28</span> 13:44:32.863239]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">dist.py:348</span><span class="pp">]</span> <span class="at">-</span> <span class="pp">[</span><span class="ss">device=</span><span class="st">'xpu'</span><span class="pp">][</span><span class="ss">rank=29/47</span><span class="pp">][</span><span class="ss">local_rank=5/11</span><span class="pp">][</span><span class="ss">node=1/3</span><span class="pp">]</span></span>
<span id="cb17-316"><a href="#cb17-316"></a>   <span class="ex">[2024-11-28</span> 13:44:32.864956]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">dist.py:348</span><span class="pp">]</span> <span class="at">-</span> <span class="pp">[</span><span class="ss">device=</span><span class="st">'xpu'</span><span class="pp">][</span><span class="ss">rank=45/47</span><span class="pp">][</span><span class="ss">local_rank=9/11</span><span class="pp">][</span><span class="ss">node=1/3</span><span class="pp">]</span></span>
<span id="cb17-317"><a href="#cb17-317"></a>   <span class="ex">[2024-11-28</span> 13:44:32.867388]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">dist.py:348</span><span class="pp">]</span> <span class="at">-</span> <span class="pp">[</span><span class="ss">device=</span><span class="st">'xpu'</span><span class="pp">][</span><span class="ss">rank=27/47</span><span class="pp">][</span><span class="ss">local_rank=3/11</span><span class="pp">][</span><span class="ss">node=3/3</span><span class="pp">]</span></span>
<span id="cb17-318"><a href="#cb17-318"></a>   <span class="ex">[2024-11-28</span> 13:44:32.867764]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">dist.py:348</span><span class="pp">]</span> <span class="at">-</span> <span class="pp">[</span><span class="ss">device=</span><span class="st">'xpu'</span><span class="pp">][</span><span class="ss">rank=43/47</span><span class="pp">][</span><span class="ss">local_rank=7/11</span><span class="pp">][</span><span class="ss">node=3/3</span><span class="pp">]</span></span>
<span id="cb17-319"><a href="#cb17-319"></a>   <span class="ex">[2024-11-28</span> 13:44:32.873106]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">dist.py:348</span><span class="pp">]</span> <span class="at">-</span> <span class="pp">[</span><span class="ss">device=</span><span class="st">'xpu'</span><span class="pp">][</span><span class="ss">rank=34/47</span><span class="pp">][</span><span class="ss">local_rank=10/11</span><span class="pp">][</span><span class="ss">node=2/3</span><span class="pp">]</span></span>
<span id="cb17-320"><a href="#cb17-320"></a>   <span class="ex">[2024-11-28</span> 13:44:32.877043]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">dist.py:348</span><span class="pp">]</span> <span class="at">-</span> <span class="pp">[</span><span class="ss">device=</span><span class="st">'xpu'</span><span class="pp">][</span><span class="ss">rank=31/47</span><span class="pp">][</span><span class="ss">local_rank=7/11</span><span class="pp">][</span><span class="ss">node=3/3</span><span class="pp">]</span></span>
<span id="cb17-321"><a href="#cb17-321"></a>   <span class="ex">[2024-11-28</span> 13:44:32.887609]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">dist.py:92</span><span class="pp">]</span> <span class="at">-</span></span>
<span id="cb17-322"><a href="#cb17-322"></a></span>
<span id="cb17-323"><a href="#cb17-323"></a>   <span class="ex">[dist_info]:</span></span>
<span id="cb17-324"><a href="#cb17-324"></a>     <span class="ex">â€¢</span> DEVICE=xpu</span>
<span id="cb17-325"><a href="#cb17-325"></a>     <span class="ex">â€¢</span> DEVICE_ID=xpu:0</span>
<span id="cb17-326"><a href="#cb17-326"></a>     <span class="ex">â€¢</span> DISTRIBUTED_BACKEND=ccl</span>
<span id="cb17-327"><a href="#cb17-327"></a>     <span class="ex">â€¢</span> GPUS_PER_NODE=12</span>
<span id="cb17-328"><a href="#cb17-328"></a>     <span class="ex">â€¢</span> HOSTS=[<span class="st">'x1922c5s0b0n0.hostmgmt2001.cm.americas.sgi.com'</span>, <span class="st">'x1922c5s2b0n0.hostmgmt2001.cm.americas.sgi.com'</span>, <span class="st">'x1922c5s4b0n0.hostmgmt2001.cm.americas.sgi.com'</span>, <span class="st">'x1922c6s1b0n0.hostmgmt2001.cm.americas.sgi.com'</span>]</span>
<span id="cb17-329"><a href="#cb17-329"></a>     <span class="ex">â€¢</span> HOSTFILE=/var/spool/pbs/aux/10283088.amn-0001</span>
<span id="cb17-330"><a href="#cb17-330"></a>     <span class="ex">â€¢</span> HOSTNAME=x1922c5s0b0n0.hostmgmt2001.cm.americas.sgi.com</span>
<span id="cb17-331"><a href="#cb17-331"></a>     <span class="ex">â€¢</span> LOCAL_RANK=0</span>
<span id="cb17-332"><a href="#cb17-332"></a>     <span class="ex">â€¢</span> MACHINE=SunSpot</span>
<span id="cb17-333"><a href="#cb17-333"></a>     <span class="ex">â€¢</span> NUM_NODES=4</span>
<span id="cb17-334"><a href="#cb17-334"></a>     <span class="ex">â€¢</span> NGPUS=48</span>
<span id="cb17-335"><a href="#cb17-335"></a>     <span class="ex">â€¢</span> NGPUS_AVAILABLE=48</span>
<span id="cb17-336"><a href="#cb17-336"></a>     <span class="ex">â€¢</span> NODE_ID=0</span>
<span id="cb17-337"><a href="#cb17-337"></a>     <span class="ex">â€¢</span> RANK=0</span>
<span id="cb17-338"><a href="#cb17-338"></a>     <span class="ex">â€¢</span> SCHEDULER=PBS</span>
<span id="cb17-339"><a href="#cb17-339"></a>     <span class="ex">â€¢</span> WORLD_SIZE_TOTAL=48</span>
<span id="cb17-340"><a href="#cb17-340"></a>     <span class="ex">â€¢</span> WORLD_SIZE_IN_USE=48</span>
<span id="cb17-341"><a href="#cb17-341"></a>     <span class="ex">â€¢</span> LAUNCH_CMD=mpiexec <span class="at">--verbose</span> <span class="at">--envall</span> <span class="at">-n</span> 48 <span class="at">-ppn</span> 12 <span class="at">--hostfile</span> /var/spool/pbs/aux/10283088.amn-0001 <span class="at">--cpu-bind</span> depth <span class="at">-d</span> 16</span>
<span id="cb17-342"><a href="#cb17-342"></a></span>
<span id="cb17-343"><a href="#cb17-343"></a></span>
<span id="cb17-344"><a href="#cb17-344"></a>   <span class="ex">[2024-11-28</span> 13:44:32.933415]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">dist.py:725</span><span class="pp">]</span> <span class="at">-</span> Using oneccl_bindings from: /opt/aurora/24.180.1/frameworks/aurora_nre_models_frameworks-2024.2.1_u1/lib/python3.10/site-packages/oneccl_bindings_for_pytorch/__init__.py</span>
<span id="cb17-345"><a href="#cb17-345"></a>   <span class="ex">[2024-11-28</span> 13:44:32.933861]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">dist.py:727</span><span class="pp">]</span> <span class="at">-</span> Using ipex from: /opt/aurora/24.180.1/frameworks/aurora_nre_models_frameworks-2024.2.1_u1/lib/python3.10/site-packages/intel_extension_for_pytorch/__init__.py</span>
<span id="cb17-346"><a href="#cb17-346"></a>   <span class="ex">[2024-11-28</span> 13:44:32.934238]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">dist.py:728</span><span class="pp">]</span> <span class="at">-</span> <span class="pp">[</span><span class="ss">0/48</span><span class="pp">]</span> Using device=<span class="st">'xpu'</span> with backend=<span class="st">'DDP'</span> + <span class="st">'ccl'</span> for distributed training.</span>
<span id="cb17-347"><a href="#cb17-347"></a>   <span class="ex">[2024-11-28</span> 13:44:32.940188]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">dist.py:348</span><span class="pp">]</span> <span class="at">-</span> <span class="pp">[</span><span class="ss">device=</span><span class="st">'xpu'</span><span class="pp">][</span><span class="ss">rank=0/47</span><span class="pp">][</span><span class="ss">local_rank=0/11</span><span class="pp">][</span><span class="ss">node=0/3</span><span class="pp">]</span></span>
<span id="cb17-348"><a href="#cb17-348"></a>   <span class="ex">[2024-11-28</span> 13:44:32.940746]<span class="pp">[</span><span class="ss">WARNING</span><span class="pp">][</span><span class="ss">_logger.py:68</span><span class="pp">]</span> <span class="at">-</span> Using [48 / 48] available <span class="st">"xpu"</span> devices !!</span>
<span id="cb17-349"><a href="#cb17-349"></a>   <span class="ex">[2024-11-28</span> 13:44:34.193788]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">dist.py:882</span><span class="pp">]</span> <span class="at">-</span> Setting up wandb from rank: 0</span>
<span id="cb17-350"><a href="#cb17-350"></a>   <span class="ex">[2024-11-28</span> 13:44:34.194312]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">dist.py:883</span><span class="pp">]</span> <span class="at">-</span> Using: WB PROJECT: ezpz.test_dist</span>
<span id="cb17-351"><a href="#cb17-351"></a>   <span class="ex">wandb:</span> Using wandb-core as the SDK backend.  Please refer to https://wandb.me/wandb-core for more information.</span>
<span id="cb17-352"><a href="#cb17-352"></a>   <span class="ex">wandb:</span> Currently logged in as: foremans <span class="er">(</span><span class="ex">aurora_gpt</span><span class="kw">)</span><span class="bu">.</span> Use <span class="kw">`</span><span class="ex">wandb</span> login <span class="at">--relogin</span><span class="kw">`</span> to force relogin</span>
<span id="cb17-353"><a href="#cb17-353"></a>   <span class="ex">wandb:</span> Tracking run with wandb version 0.18.7</span>
<span id="cb17-354"><a href="#cb17-354"></a>   <span class="ex">wandb:</span> Run data is saved locally in /lus/gila/projects/Aurora_deployment/foremans/projects/saforem2/ezpz/wandb/run-20241128_134434-4mwyy84l</span>
<span id="cb17-355"><a href="#cb17-355"></a>   <span class="ex">wandb:</span> Run <span class="kw">`</span><span class="ex">wandb</span> offline<span class="kw">`</span> to turn off syncing.</span>
<span id="cb17-356"><a href="#cb17-356"></a>   <span class="ex">wandb:</span> Syncing run driven-wind-683</span>
<span id="cb17-357"><a href="#cb17-357"></a>   <span class="ex">wandb:</span> â­ï¸ View project at https://wandb.ai/aurora_gpt/ezpz.test_dist</span>
<span id="cb17-358"><a href="#cb17-358"></a>   <span class="ex">wandb:</span> ğŸš€ View run at https://wandb.ai/aurora_gpt/ezpz.test_dist/runs/4mwyy84l</span>
<span id="cb17-359"><a href="#cb17-359"></a>   <span class="ex">[2024-11-28</span> 13:44:35.481364]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">dist.py:908</span><span class="pp">]</span> <span class="at">-</span> W<span class="kw">&amp;</span><span class="ex">B</span> RUN: <span class="pp">[</span><span class="ss">driven</span><span class="pp">-</span><span class="ss">wind</span><span class="pp">-</span><span class="ss">683</span><span class="pp">]</span><span class="er">(</span><span class="ex">https://wandb.ai/aurora_gpt/ezpz.test_dist/runs/4mwyy84l</span><span class="kw">)</span></span>
<span id="cb17-360"><a href="#cb17-360"></a>   <span class="ex">[2024-11-28</span> 13:44:35.495959]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">dist.py:304</span><span class="pp">]</span> <span class="at">-</span> Updating wandb.run: driven-wind-683 config with <span class="st">"DIST_INFO"</span></span>
<span id="cb17-361"><a href="#cb17-361"></a>   <span class="ex">[2024-11-28</span> 13:44:35.500222]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">dist.py:936</span><span class="pp">]</span> <span class="at">-</span> Running on machine=<span class="st">'SunSpot'</span></span>
<span id="cb17-362"><a href="#cb17-362"></a>   <span class="ex">[2024-11-28</span> 13:44:35.501304]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">dist.py:92</span><span class="pp">]</span> <span class="at">-</span></span>
<span id="cb17-363"><a href="#cb17-363"></a></span>
<span id="cb17-364"><a href="#cb17-364"></a>   <span class="ex">[CONFIG]:</span></span>
<span id="cb17-365"><a href="#cb17-365"></a>     <span class="ex">â€¢</span> warmup=0</span>
<span id="cb17-366"><a href="#cb17-366"></a>     <span class="ex">â€¢</span> log_freq=1</span>
<span id="cb17-367"><a href="#cb17-367"></a>     <span class="ex">â€¢</span> batch_size=64</span>
<span id="cb17-368"><a href="#cb17-368"></a>     <span class="ex">â€¢</span> input_size=128</span>
<span id="cb17-369"><a href="#cb17-369"></a>     <span class="ex">â€¢</span> output_size=128</span>
<span id="cb17-370"><a href="#cb17-370"></a>     <span class="ex">â€¢</span> dtype=torch.float32</span>
<span id="cb17-371"><a href="#cb17-371"></a>     <span class="ex">â€¢</span> device=xpu</span>
<span id="cb17-372"><a href="#cb17-372"></a>     <span class="ex">â€¢</span> world_size=48</span>
<span id="cb17-373"><a href="#cb17-373"></a>     <span class="ex">â€¢</span> train_iters=100</span>
<span id="cb17-374"><a href="#cb17-374"></a></span>
<span id="cb17-375"><a href="#cb17-375"></a></span>
<span id="cb17-376"><a href="#cb17-376"></a>   <span class="ex">[2024-11-28</span> 13:44:35.575161]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:147</span><span class="pp">]</span> <span class="at">-</span> model=Network<span class="er">(</span></span>
<span id="cb17-377"><a href="#cb17-377"></a>     <span class="kw">(</span><span class="ex">layers</span><span class="kw">)</span><span class="bu">:</span> Sequential<span class="er">(</span></span>
<span id="cb17-378"><a href="#cb17-378"></a>       <span class="kw">(</span><span class="ex">0</span><span class="kw">)</span><span class="bu">:</span> Linear<span class="er">(</span><span class="va">in_features</span><span class="op">=</span>128, <span class="va">out_features</span><span class="op">=</span>1024, <span class="va">bias</span><span class="op">=</span>True<span class="kw">)</span></span>
<span id="cb17-379"><a href="#cb17-379"></a>       <span class="kw">(</span><span class="ex">1</span><span class="kw">)</span><span class="bu">:</span> Linear<span class="er">(</span><span class="va">in_features</span><span class="op">=</span>1024, <span class="va">out_features</span><span class="op">=</span>512, <span class="va">bias</span><span class="op">=</span>True<span class="kw">)</span></span>
<span id="cb17-380"><a href="#cb17-380"></a>       <span class="kw">(</span><span class="ex">2</span><span class="kw">)</span><span class="bu">:</span> Linear<span class="er">(</span><span class="va">in_features</span><span class="op">=</span>512, <span class="va">out_features</span><span class="op">=</span>256, <span class="va">bias</span><span class="op">=</span>True<span class="kw">)</span></span>
<span id="cb17-381"><a href="#cb17-381"></a>       <span class="kw">(</span><span class="ex">3</span><span class="kw">)</span><span class="bu">:</span> Linear<span class="er">(</span><span class="va">in_features</span><span class="op">=</span>256, <span class="va">out_features</span><span class="op">=</span>128, <span class="va">bias</span><span class="op">=</span>True<span class="kw">)</span></span>
<span id="cb17-382"><a href="#cb17-382"></a>       <span class="kw">(</span><span class="ex">4</span><span class="kw">)</span><span class="bu">:</span> Linear<span class="er">(</span><span class="va">in_features</span><span class="op">=</span>128, <span class="va">out_features</span><span class="op">=</span>128, <span class="va">bias</span><span class="op">=</span>True<span class="kw">)</span></span>
<span id="cb17-383"><a href="#cb17-383"></a>     <span class="kw">)</span></span>
<span id="cb17-384"><a href="#cb17-384"></a>   <span class="kw">)</span></span>
<span id="cb17-385"><a href="#cb17-385"></a>   <span class="ex">[2024-11-28</span> 13:44:48.340596]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=1 dt=0.019713 dtf=0.002959 dtb=0.016754 loss=1821.131958 sps=3246.551823</span>
<span id="cb17-386"><a href="#cb17-386"></a>   <span class="ex">[2024-11-28</span> 13:44:48.346527]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=2 dt=0.004083 dtf=0.000822 dtb=0.003261 loss=1348.032227 sps=15673.877930</span>
<span id="cb17-387"><a href="#cb17-387"></a>   <span class="ex">[2024-11-28</span> 13:44:48.351387]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=3 dt=0.003260 dtf=0.000735 dtb=0.002525 loss=1072.068359 sps=19634.479814</span>
<span id="cb17-388"><a href="#cb17-388"></a>   <span class="ex">[2024-11-28</span> 13:44:48.356043]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=4 dt=0.003117 dtf=0.000716 dtb=0.002401 loss=928.493774 sps=20534.414826</span>
<span id="cb17-389"><a href="#cb17-389"></a>   <span class="ex">[2024-11-28</span> 13:44:48.360830]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=5 dt=0.003181 dtf=0.000798 dtb=0.002384 loss=867.221558 sps=20116.568892</span>
<span id="cb17-390"><a href="#cb17-390"></a>   <span class="ex">[2024-11-28</span> 13:44:48.365608]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=6 dt=0.003146 dtf=0.000738 dtb=0.002408 loss=794.671204 sps=20341.929281</span>
<span id="cb17-391"><a href="#cb17-391"></a>   <span class="ex">[2024-11-28</span> 13:44:48.370473]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=7 dt=0.003149 dtf=0.000751 dtb=0.002398 loss=748.687500 sps=20324.551047</span>
<span id="cb17-392"><a href="#cb17-392"></a>   <span class="ex">[2024-11-28</span> 13:44:48.375126]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=8 dt=0.003105 dtf=0.000719 dtb=0.002385 loss=720.116943 sps=20614.492256</span>
<span id="cb17-393"><a href="#cb17-393"></a>   <span class="ex">[2024-11-28</span> 13:44:48.379744]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=9 dt=0.003057 dtf=0.000698 dtb=0.002359 loss=714.217957 sps=20937.174740</span>
<span id="cb17-394"><a href="#cb17-394"></a>   <span class="ex">[2024-11-28</span> 13:44:48.384429]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=10 dt=0.003083 dtf=0.000703 dtb=0.002380 loss=718.780884 sps=20760.967373</span>
<span id="cb17-395"><a href="#cb17-395"></a>   <span class="ex">[2024-11-28</span> 13:44:48.390098]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=11 dt=0.003931 dtf=0.000802 dtb=0.003129 loss=699.931152 sps=16281.262548</span>
<span id="cb17-396"><a href="#cb17-396"></a>   <span class="ex">[2024-11-28</span> 13:44:48.395638]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=12 dt=0.003698 dtf=0.000865 dtb=0.002832 loss=687.315857 sps=17308.773026</span>
<span id="cb17-397"><a href="#cb17-397"></a>   <span class="ex">[2024-11-28</span> 13:44:48.400852]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=13 dt=0.003502 dtf=0.000792 dtb=0.002709 loss=685.231995 sps=18276.152786</span>
<span id="cb17-398"><a href="#cb17-398"></a>   <span class="ex">[2024-11-28</span> 13:44:48.406145]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=14 dt=0.003501 dtf=0.000788 dtb=0.002714 loss=678.643860 sps=18278.977230</span>
<span id="cb17-399"><a href="#cb17-399"></a>   <span class="ex">[2024-11-28</span> 13:44:48.411186]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=15 dt=0.003366 dtf=0.000760 dtb=0.002606 loss=675.734375 sps=19012.740109</span>
<span id="cb17-400"><a href="#cb17-400"></a>   <span class="ex">[2024-11-28</span> 13:44:48.416092]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=16 dt=0.003308 dtf=0.000764 dtb=0.002545 loss=656.803894 sps=19345.774997</span>
<span id="cb17-401"><a href="#cb17-401"></a>   <span class="ex">[2024-11-28</span> 13:44:48.421088]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=17 dt=0.003326 dtf=0.000800 dtb=0.002526 loss=663.846558 sps=19240.551489</span>
<span id="cb17-402"><a href="#cb17-402"></a>   <span class="ex">[2024-11-28</span> 13:44:48.426305]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=18 dt=0.003439 dtf=0.000805 dtb=0.002634 loss=646.870605 sps=18607.582468</span>
<span id="cb17-403"><a href="#cb17-403"></a>   <span class="ex">[2024-11-28</span> 13:44:48.431107]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=19 dt=0.003217 dtf=0.000730 dtb=0.002488 loss=631.541504 sps=19893.098888</span>
<span id="cb17-404"><a href="#cb17-404"></a>   <span class="ex">[2024-11-28</span> 13:44:48.436171]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=20 dt=0.003447 dtf=0.000707 dtb=0.002741 loss=645.819580 sps=18564.526433</span>
<span id="cb17-405"><a href="#cb17-405"></a>   <span class="ex">[2024-11-28</span> 13:44:48.441333]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=21 dt=0.003465 dtf=0.000921 dtb=0.002543 loss=642.620361 sps=18470.919500</span>
<span id="cb17-406"><a href="#cb17-406"></a>   <span class="ex">[2024-11-28</span> 13:44:48.446923]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=22 dt=0.003732 dtf=0.000822 dtb=0.002910 loss=639.229980 sps=17149.966074</span>
<span id="cb17-407"><a href="#cb17-407"></a>   <span class="ex">[2024-11-28</span> 13:44:48.451965]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=23 dt=0.003386 dtf=0.000778 dtb=0.002608 loss=627.894897 sps=18902.966756</span>
<span id="cb17-408"><a href="#cb17-408"></a>   <span class="ex">[2024-11-28</span> 13:44:48.457006]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=24 dt=0.003367 dtf=0.000807 dtb=0.002560 loss=604.797424 sps=19007.381386</span>
<span id="cb17-409"><a href="#cb17-409"></a>   <span class="ex">[2024-11-28</span> 13:44:48.461850]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=25 dt=0.003164 dtf=0.000721 dtb=0.002443 loss=614.561523 sps=20229.778931</span>
<span id="cb17-410"><a href="#cb17-410"></a>   <span class="ex">[2024-11-28</span> 13:44:48.466983]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=26 dt=0.003473 dtf=0.000759 dtb=0.002714 loss=617.550781 sps=18428.700435</span>
<span id="cb17-411"><a href="#cb17-411"></a>   <span class="ex">[2024-11-28</span> 13:44:48.471925]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=27 dt=0.003289 dtf=0.000758 dtb=0.002531 loss=618.434082 sps=19457.441792</span>
<span id="cb17-412"><a href="#cb17-412"></a>   <span class="ex">[2024-11-28</span> 13:44:48.477516]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=28 dt=0.003872 dtf=0.000930 dtb=0.002942 loss=607.261475 sps=16528.336617</span>
<span id="cb17-413"><a href="#cb17-413"></a>   <span class="ex">[2024-11-28</span> 13:44:48.482581]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=29 dt=0.003365 dtf=0.000773 dtb=0.002591 loss=601.454590 sps=19021.673645</span>
<span id="cb17-414"><a href="#cb17-414"></a>   <span class="ex">[2024-11-28</span> 13:44:48.487622]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=30 dt=0.003288 dtf=0.000825 dtb=0.002463 loss=594.649170 sps=19463.454229</span>
<span id="cb17-415"><a href="#cb17-415"></a>   <span class="ex">[2024-11-28</span> 13:44:48.492493]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=31 dt=0.003211 dtf=0.000734 dtb=0.002477 loss=582.087036 sps=19933.062380</span>
<span id="cb17-416"><a href="#cb17-416"></a>   <span class="ex">[2024-11-28</span> 13:44:48.497510]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=32 dt=0.003360 dtf=0.000851 dtb=0.002509 loss=582.850586 sps=19050.324061</span>
<span id="cb17-417"><a href="#cb17-417"></a>   <span class="ex">[2024-11-28</span> 13:44:48.502534]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=33 dt=0.003299 dtf=0.000751 dtb=0.002547 loss=574.619019 sps=19402.524122</span>
<span id="cb17-418"><a href="#cb17-418"></a>   <span class="ex">[2024-11-28</span> 13:44:48.507516]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=34 dt=0.003318 dtf=0.000843 dtb=0.002475 loss=571.530273 sps=19291.396984</span>
<span id="cb17-419"><a href="#cb17-419"></a>   <span class="ex">[2024-11-28</span> 13:44:48.512324]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=35 dt=0.003162 dtf=0.000718 dtb=0.002444 loss=569.056335 sps=20239.766403</span>
<span id="cb17-420"><a href="#cb17-420"></a>   <span class="ex">[2024-11-28</span> 13:44:48.517314]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=36 dt=0.003338 dtf=0.000803 dtb=0.002535 loss=570.773315 sps=19171.898987</span>
<span id="cb17-421"><a href="#cb17-421"></a>   <span class="ex">[2024-11-28</span> 13:44:48.522111]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=37 dt=0.003111 dtf=0.000712 dtb=0.002399 loss=564.691101 sps=20571.738756</span>
<span id="cb17-422"><a href="#cb17-422"></a>   <span class="ex">[2024-11-28</span> 13:44:48.527333]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=38 dt=0.003581 dtf=0.000698 dtb=0.002883 loss=555.157349 sps=17870.995302</span>
<span id="cb17-423"><a href="#cb17-423"></a>   <span class="ex">[2024-11-28</span> 13:44:48.532827]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=39 dt=0.003596 dtf=0.000841 dtb=0.002755 loss=542.374756 sps=17796.934508</span>
<span id="cb17-424"><a href="#cb17-424"></a>   <span class="ex">[2024-11-28</span> 13:44:48.538391]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=40 dt=0.003673 dtf=0.000872 dtb=0.002801 loss=538.616821 sps=17424.614226</span>
<span id="cb17-425"><a href="#cb17-425"></a>   <span class="ex">[2024-11-28</span> 13:44:48.543835]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=41 dt=0.003606 dtf=0.000837 dtb=0.002769 loss=546.055054 sps=17746.977167</span>
<span id="cb17-426"><a href="#cb17-426"></a>   <span class="ex">[2024-11-28</span> 13:44:48.548728]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=42 dt=0.003171 dtf=0.000786 dtb=0.002385 loss=541.741455 sps=20183.008810</span>
<span id="cb17-427"><a href="#cb17-427"></a>   <span class="ex">[2024-11-28</span> 13:44:48.553392]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=43 dt=0.003091 dtf=0.000675 dtb=0.002415 loss=541.895630 sps=20707.731509</span>
<span id="cb17-428"><a href="#cb17-428"></a>   <span class="ex">[2024-11-28</span> 13:44:48.558674]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=44 dt=0.003598 dtf=0.000797 dtb=0.002801 loss=532.636841 sps=17789.399613</span>
<span id="cb17-429"><a href="#cb17-429"></a>   <span class="ex">[2024-11-28</span> 13:44:48.563691]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=45 dt=0.003305 dtf=0.000726 dtb=0.002579 loss=527.679077 sps=19363.041186</span>
<span id="cb17-430"><a href="#cb17-430"></a>   <span class="ex">[2024-11-28</span> 13:44:48.568927]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=46 dt=0.003472 dtf=0.000776 dtb=0.002696 loss=519.220581 sps=18435.547756</span>
<span id="cb17-431"><a href="#cb17-431"></a>   <span class="ex">[2024-11-28</span> 13:44:48.573801]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=47 dt=0.003203 dtf=0.000723 dtb=0.002480 loss=527.749268 sps=19982.521481</span>
<span id="cb17-432"><a href="#cb17-432"></a>   <span class="ex">[2024-11-28</span> 13:44:48.578761]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=48 dt=0.003253 dtf=0.000782 dtb=0.002471 loss=524.344238 sps=19672.846752</span>
<span id="cb17-433"><a href="#cb17-433"></a>   <span class="ex">[2024-11-28</span> 13:44:48.583369]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=49 dt=0.003042 dtf=0.000652 dtb=0.002390 loss=514.100464 sps=21038.853899</span>
<span id="cb17-434"><a href="#cb17-434"></a>   <span class="ex">[2024-11-28</span> 13:44:48.588292]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=50 dt=0.003210 dtf=0.000763 dtb=0.002447 loss=513.998962 sps=19936.401969</span>
<span id="cb17-435"><a href="#cb17-435"></a>   <span class="ex">[2024-11-28</span> 13:44:48.593155]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=51 dt=0.003210 dtf=0.000763 dtb=0.002447 loss=506.444519 sps=19937.409848</span>
<span id="cb17-436"><a href="#cb17-436"></a>   <span class="ex">[2024-11-28</span> 13:44:48.598482]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=52 dt=0.003648 dtf=0.000781 dtb=0.002868 loss=505.063721 sps=17542.989327</span>
<span id="cb17-437"><a href="#cb17-437"></a>   <span class="ex">[2024-11-28</span> 13:44:48.603395]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=53 dt=0.003258 dtf=0.000742 dtb=0.002516 loss=500.011047 sps=19642.561466</span>
<span id="cb17-438"><a href="#cb17-438"></a>   <span class="ex">[2024-11-28</span> 13:44:48.608385]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=54 dt=0.003292 dtf=0.000797 dtb=0.002495 loss=508.445740 sps=19439.362133</span>
<span id="cb17-439"><a href="#cb17-439"></a>   <span class="ex">[2024-11-28</span> 13:44:48.613115]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=55 dt=0.003151 dtf=0.000699 dtb=0.002452 loss=492.626648 sps=20310.433009</span>
<span id="cb17-440"><a href="#cb17-440"></a>   <span class="ex">[2024-11-28</span> 13:44:48.618036]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=56 dt=0.003251 dtf=0.000727 dtb=0.002524 loss=487.402435 sps=19684.735824</span>
<span id="cb17-441"><a href="#cb17-441"></a>   <span class="ex">[2024-11-28</span> 13:44:48.623122]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=57 dt=0.003449 dtf=0.000979 dtb=0.002469 loss=474.962097 sps=18556.851343</span>
<span id="cb17-442"><a href="#cb17-442"></a>   <span class="ex">[2024-11-28</span> 13:44:48.628167]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=58 dt=0.003343 dtf=0.000811 dtb=0.002532 loss=479.064941 sps=19143.536594</span>
<span id="cb17-443"><a href="#cb17-443"></a>   <span class="ex">[2024-11-28</span> 13:44:48.633070]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=59 dt=0.003256 dtf=0.000787 dtb=0.002468 loss=471.197083 sps=19658.706785</span>
<span id="cb17-444"><a href="#cb17-444"></a>   <span class="ex">[2024-11-28</span> 13:44:48.638373]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=60 dt=0.003548 dtf=0.000853 dtb=0.002696 loss=469.964081 sps=18037.965649</span>
<span id="cb17-445"><a href="#cb17-445"></a>   <span class="ex">[2024-11-28</span> 13:44:48.643270]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=61 dt=0.003225 dtf=0.000736 dtb=0.002489 loss=476.972076 sps=19844.166872</span>
<span id="cb17-446"><a href="#cb17-446"></a>   <span class="ex">[2024-11-28</span> 13:44:48.648256]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=62 dt=0.003214 dtf=0.000745 dtb=0.002469 loss=463.572174 sps=19912.478524</span>
<span id="cb17-447"><a href="#cb17-447"></a>   <span class="ex">[2024-11-28</span> 13:44:48.652939]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=63 dt=0.003095 dtf=0.000683 dtb=0.002411 loss=462.910156 sps=20679.849741</span>
<span id="cb17-448"><a href="#cb17-448"></a>   <span class="ex">[2024-11-28</span> 13:44:48.657892]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=64 dt=0.003239 dtf=0.000746 dtb=0.002492 loss=457.325439 sps=19762.175344</span>
<span id="cb17-449"><a href="#cb17-449"></a>   <span class="ex">[2024-11-28</span> 13:44:48.662903]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=65 dt=0.003293 dtf=0.000729 dtb=0.002563 loss=453.347168 sps=19438.021843</span>
<span id="cb17-450"><a href="#cb17-450"></a>   <span class="ex">[2024-11-28</span> 13:44:48.667970]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=66 dt=0.003276 dtf=0.000788 dtb=0.002488 loss=450.351135 sps=19534.356115</span>
<span id="cb17-451"><a href="#cb17-451"></a>   <span class="ex">[2024-11-28</span> 13:44:48.672824]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=67 dt=0.003192 dtf=0.000735 dtb=0.002457 loss=450.714233 sps=20047.789409</span>
<span id="cb17-452"><a href="#cb17-452"></a>   <span class="ex">[2024-11-28</span> 13:44:48.677882]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=68 dt=0.003330 dtf=0.000799 dtb=0.002530 loss=440.284546 sps=19220.840096</span>
<span id="cb17-453"><a href="#cb17-453"></a>   <span class="ex">[2024-11-28</span> 13:44:48.682532]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=69 dt=0.003081 dtf=0.000663 dtb=0.002418 loss=444.536011 sps=20770.230742</span>
<span id="cb17-454"><a href="#cb17-454"></a>   <span class="ex">[2024-11-28</span> 13:44:48.687492]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=70 dt=0.003307 dtf=0.000766 dtb=0.002541 loss=446.201233 sps=19354.965715</span>
<span id="cb17-455"><a href="#cb17-455"></a>   <span class="ex">[2024-11-28</span> 13:44:48.692350]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=71 dt=0.003225 dtf=0.000737 dtb=0.002488 loss=427.167328 sps=19845.047963</span>
<span id="cb17-456"><a href="#cb17-456"></a>   <span class="ex">[2024-11-28</span> 13:44:48.697422]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=72 dt=0.003415 dtf=0.000881 dtb=0.002534 loss=434.620087 sps=18740.536560</span>
<span id="cb17-457"><a href="#cb17-457"></a>   <span class="ex">[2024-11-28</span> 13:44:48.702393]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=73 dt=0.003299 dtf=0.000740 dtb=0.002559 loss=425.558777 sps=19402.652860</span>
<span id="cb17-458"><a href="#cb17-458"></a>   <span class="ex">[2024-11-28</span> 13:44:48.707240]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=74 dt=0.003180 dtf=0.000789 dtb=0.002391 loss=428.168945 sps=20126.919392</span>
<span id="cb17-459"><a href="#cb17-459"></a>   <span class="ex">[2024-11-28</span> 13:44:48.712103]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=75 dt=0.003322 dtf=0.000680 dtb=0.002642 loss=417.153503 sps=19263.558998</span>
<span id="cb17-460"><a href="#cb17-460"></a>   <span class="ex">[2024-11-28</span> 13:44:48.717120]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=76 dt=0.003405 dtf=0.000787 dtb=0.002618 loss=412.435059 sps=18794.204421</span>
<span id="cb17-461"><a href="#cb17-461"></a>   <span class="ex">[2024-11-28</span> 13:44:48.722012]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=77 dt=0.003208 dtf=0.000722 dtb=0.002487 loss=426.690186 sps=19947.873515</span>
<span id="cb17-462"><a href="#cb17-462"></a>   <span class="ex">[2024-11-28</span> 13:44:48.727040]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=78 dt=0.003330 dtf=0.000775 dtb=0.002554 loss=404.138733 sps=19220.615648</span>
<span id="cb17-463"><a href="#cb17-463"></a>   <span class="ex">[2024-11-28</span> 13:44:48.731946]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=79 dt=0.003218 dtf=0.000757 dtb=0.002461 loss=396.998413 sps=19886.330391</span>
<span id="cb17-464"><a href="#cb17-464"></a>   <span class="ex">[2024-11-28</span> 13:44:48.736956]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=80 dt=0.003362 dtf=0.000818 dtb=0.002544 loss=405.073059 sps=19036.951133</span>
<span id="cb17-465"><a href="#cb17-465"></a>   <span class="ex">[2024-11-28</span> 13:44:48.742154]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=81 dt=0.003309 dtf=0.000840 dtb=0.002468 loss=408.205780 sps=19341.447610</span>
<span id="cb17-466"><a href="#cb17-466"></a>   <span class="ex">[2024-11-28</span> 13:44:48.747100]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=82 dt=0.003301 dtf=0.000801 dtb=0.002500 loss=391.203918 sps=19389.697222</span>
<span id="cb17-467"><a href="#cb17-467"></a>   <span class="ex">[2024-11-28</span> 13:44:48.752235]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=83 dt=0.003488 dtf=0.000732 dtb=0.002756 loss=401.911407 sps=18347.650097</span>
<span id="cb17-468"><a href="#cb17-468"></a>   <span class="ex">[2024-11-28</span> 13:44:48.757468]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=84 dt=0.003567 dtf=0.000886 dtb=0.002681 loss=390.872192 sps=17942.862497</span>
<span id="cb17-469"><a href="#cb17-469"></a>   <span class="ex">[2024-11-28</span> 13:44:48.762431]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=85 dt=0.003272 dtf=0.000769 dtb=0.002502 loss=390.741089 sps=19562.065370</span>
<span id="cb17-470"><a href="#cb17-470"></a>   <span class="ex">[2024-11-28</span> 13:44:48.767527]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=86 dt=0.003390 dtf=0.000795 dtb=0.002596 loss=393.982513 sps=18877.408330</span>
<span id="cb17-471"><a href="#cb17-471"></a>   <span class="ex">[2024-11-28</span> 13:44:48.772363]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=87 dt=0.003198 dtf=0.000727 dtb=0.002471 loss=378.682495 sps=20014.348794</span>
<span id="cb17-472"><a href="#cb17-472"></a>   <span class="ex">[2024-11-28</span> 13:44:48.777779]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=88 dt=0.003666 dtf=0.000914 dtb=0.002752 loss=378.739502 sps=17459.234394</span>
<span id="cb17-473"><a href="#cb17-473"></a>   <span class="ex">[2024-11-28</span> 13:44:48.783160]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=89 dt=0.003529 dtf=0.000832 dtb=0.002697 loss=382.028931 sps=18136.158201</span>
<span id="cb17-474"><a href="#cb17-474"></a>   <span class="ex">[2024-11-28</span> 13:44:48.788498]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=90 dt=0.003442 dtf=0.000809 dtb=0.002633 loss=371.271118 sps=18594.284077</span>
<span id="cb17-475"><a href="#cb17-475"></a>   <span class="ex">[2024-11-28</span> 13:44:48.793524]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=91 dt=0.003358 dtf=0.000754 dtb=0.002603 loss=371.135925 sps=19060.348912</span>
<span id="cb17-476"><a href="#cb17-476"></a>   <span class="ex">[2024-11-28</span> 13:44:48.798593]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=92 dt=0.003336 dtf=0.000791 dtb=0.002545 loss=368.860168 sps=19183.369504</span>
<span id="cb17-477"><a href="#cb17-477"></a>   <span class="ex">[2024-11-28</span> 13:44:48.803491]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=93 dt=0.003227 dtf=0.000725 dtb=0.002502 loss=371.283356 sps=19831.370522</span>
<span id="cb17-478"><a href="#cb17-478"></a>   <span class="ex">[2024-11-28</span> 13:44:48.808397]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=94 dt=0.003250 dtf=0.000769 dtb=0.002481 loss=362.983154 sps=19693.397864</span>
<span id="cb17-479"><a href="#cb17-479"></a>   <span class="ex">[2024-11-28</span> 13:44:48.813075]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=95 dt=0.003098 dtf=0.000703 dtb=0.002396 loss=365.535828 sps=20656.015873</span>
<span id="cb17-480"><a href="#cb17-480"></a>   <span class="ex">[2024-11-28</span> 13:44:48.818465]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=96 dt=0.003581 dtf=0.000872 dtb=0.002709 loss=344.663239 sps=17873.310048</span>
<span id="cb17-481"><a href="#cb17-481"></a>   <span class="ex">[2024-11-28</span> 13:44:48.823831]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=97 dt=0.003509 dtf=0.000834 dtb=0.002675 loss=361.620361 sps=18238.825661</span>
<span id="cb17-482"><a href="#cb17-482"></a>   <span class="ex">[2024-11-28</span> 13:44:48.828930]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=98 dt=0.003326 dtf=0.000804 dtb=0.002522 loss=347.258301 sps=19245.190902</span>
<span id="cb17-483"><a href="#cb17-483"></a>   <span class="ex">[2024-11-28</span> 13:44:48.834103]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:228</span><span class="pp">]</span> <span class="at">-</span> iter=99 dt=0.003474 dtf=0.000740 dtb=0.002733 loss=346.517212 sps=18424.412945</span>
<span id="cb17-484"><a href="#cb17-484"></a>   <span class="ex">Failed</span> to download font: IBM Plex Sans, skipping!</span>
<span id="cb17-485"><a href="#cb17-485"></a>   <span class="ex">Failed</span> to download font: IBM Plex Sans Condensed, skipping!</span>
<span id="cb17-486"><a href="#cb17-486"></a>   <span class="ex">Failed</span> to download font: IBM Plex Serif, skipping!</span>
<span id="cb17-487"><a href="#cb17-487"></a>   <span class="ex">[2024-11-28</span> 13:44:50.885911]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">history.py:696</span><span class="pp">]</span> <span class="at">-</span> Saving train_iter plot to: /lus/gila/projects/Aurora_deployment/foremans/projects/saforem2/ezpz/test-dist-plots/mplot</span>
<span id="cb17-488"><a href="#cb17-488"></a>   <span class="ex">[2024-11-28</span> 13:44:51.498182]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">history.py:696</span><span class="pp">]</span> <span class="at">-</span> Saving train_dt plot to: /lus/gila/projects/Aurora_deployment/foremans/projects/saforem2/ezpz/test-dist-plots/mplot</span>
<span id="cb17-489"><a href="#cb17-489"></a>   <span class="ex">[2024-11-28</span> 13:44:51.758706]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">history.py:696</span><span class="pp">]</span> <span class="at">-</span> Saving train_dtf plot to: /lus/gila/projects/Aurora_deployment/foremans/projects/saforem2/ezpz/test-dist-plots/mplot</span>
<span id="cb17-490"><a href="#cb17-490"></a>   <span class="ex">[2024-11-28</span> 13:44:52.022463]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">history.py:696</span><span class="pp">]</span> <span class="at">-</span> Saving train_dtb plot to: /lus/gila/projects/Aurora_deployment/foremans/projects/saforem2/ezpz/test-dist-plots/mplot</span>
<span id="cb17-491"><a href="#cb17-491"></a>   <span class="ex">[2024-11-28</span> 13:44:52.309521]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">history.py:696</span><span class="pp">]</span> <span class="at">-</span> Saving train_loss plot to: /lus/gila/projects/Aurora_deployment/foremans/projects/saforem2/ezpz/test-dist-plots/mplot</span>
<span id="cb17-492"><a href="#cb17-492"></a>   <span class="ex">[2024-11-28</span> 13:44:52.562425]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">history.py:696</span><span class="pp">]</span> <span class="at">-</span> Saving train_sps plot to: /lus/gila/projects/Aurora_deployment/foremans/projects/saforem2/ezpz/test-dist-plots/mplot</span>
<span id="cb17-493"><a href="#cb17-493"></a>                           <span class="ex">train_iter</span> <span class="pp">[</span><span class="ss">2024</span><span class="pp">-</span><span class="ss">11</span><span class="pp">-</span><span class="ss">28</span><span class="pp">-</span><span class="ss">134452</span><span class="pp">]</span></span>
<span id="cb17-494"><a href="#cb17-494"></a>       <span class="ex">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span></span>
<span id="cb17-495"><a href="#cb17-495"></a>   <span class="ex">99.0â”¤</span>                                                                 â–—â–„â–„â–€â”‚</span>
<span id="cb17-496"><a href="#cb17-496"></a>       <span class="ex">â”‚</span>                                                              â–„â–â–€â–˜   â”‚</span>
<span id="cb17-497"><a href="#cb17-497"></a>       <span class="ex">â”‚</span>                                                          â–„â–„â–€â–€       â”‚</span>
<span id="cb17-498"><a href="#cb17-498"></a>   <span class="ex">82.7â”¤</span>                                                      â–„â–„â–€â–€           â”‚</span>
<span id="cb17-499"><a href="#cb17-499"></a>       <span class="ex">â”‚</span>                                                  â–—â–„â–â–€               â”‚</span>
<span id="cb17-500"><a href="#cb17-500"></a>       <span class="ex">â”‚</span>                                              â–„â–„â–€â–€â–˜                  â”‚</span>
<span id="cb17-501"><a href="#cb17-501"></a>   <span class="ex">66.3â”¤</span>                                          â–—â–„â–€â–€                       â”‚</span>
<span id="cb17-502"><a href="#cb17-502"></a>       <span class="ex">â”‚</span>                                      â–—â–„â–â–€â–˜                          â”‚</span>
<span id="cb17-503"><a href="#cb17-503"></a>   <span class="ex">50.0â”¤</span>                                  â–—â–„â–â–€â–˜                              â”‚</span>
<span id="cb17-504"><a href="#cb17-504"></a>       <span class="ex">â”‚</span>                               â–„â–„â–€â–˜                                  â”‚</span>
<span id="cb17-505"><a href="#cb17-505"></a>       <span class="ex">â”‚</span>                          â–—â–„â–â–€â–€                                      â”‚</span>
<span id="cb17-506"><a href="#cb17-506"></a>   <span class="ex">33.7â”¤</span>                       â–„â–â–€â–˜                                          â”‚</span>
<span id="cb17-507"><a href="#cb17-507"></a>       <span class="ex">â”‚</span>                   â–„â–„â–€â–€                                              â”‚</span>
<span id="cb17-508"><a href="#cb17-508"></a>       <span class="ex">â”‚</span>              â–—â–„â–„â–€â–€                                                  â”‚</span>
<span id="cb17-509"><a href="#cb17-509"></a>   <span class="ex">17.3â”¤</span>           â–„â–„â–â–˜                                                      â”‚</span>
<span id="cb17-510"><a href="#cb17-510"></a>       <span class="ex">â”‚</span>       â–„â–„â–€â–€                                                          â”‚</span>
<span id="cb17-511"><a href="#cb17-511"></a>       <span class="ex">â”‚</span>   â–—â–„â–€â–€                                                              â”‚</span>
<span id="cb17-512"><a href="#cb17-512"></a>    <span class="ex">1.0â”¤â–„â–â–€â–˜</span>                                                                 â”‚</span>
<span id="cb17-513"><a href="#cb17-513"></a>       <span class="ex">â””â”€â”¬â”€â”¬â”€â”€â”€â”¬â”€â”€â”¬â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”¬â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”¬â”€â”€â”¬â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”¬â”€â”€â”¬â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”˜</span></span>
<span id="cb17-514"><a href="#cb17-514"></a>         <span class="ex">2</span> 5  11 16 20   27 31 36   43  48 53 57 61  68 71  78 81 86 91   98</span>
<span id="cb17-515"><a href="#cb17-515"></a>   <span class="ex">train_iter</span>                        train/iter</span>
<span id="cb17-516"><a href="#cb17-516"></a>   <span class="ex">[2024-11-28</span> 13:44:52.868990]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">plot.py:220</span><span class="pp">]</span> <span class="at">-</span> Appending plot to: /lus/gila/projects/Aurora_deployment/foremans/projects/saforem2/ezpz/test-dist-plots/tplot/train_iter.txt</span>
<span id="cb17-517"><a href="#cb17-517"></a>   <span class="ex">text</span> saved in /lus/gila/projects/Aurora_deployment/foremans/projects/saforem2/ezpz/test-dist-plots/tplot/train_iter.txt</span>
<span id="cb17-518"><a href="#cb17-518"></a>                             <span class="ex">train_dt</span> <span class="pp">[</span><span class="ss">2024</span><span class="pp">-</span><span class="ss">11</span><span class="pp">-</span><span class="ss">28</span><span class="pp">-</span><span class="ss">134452</span><span class="pp">]</span></span>
<span id="cb17-519"><a href="#cb17-519"></a>         <span class="ex">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span></span>
<span id="cb17-520"><a href="#cb17-520"></a>   <span class="ex">0.0197â”¤â–Œ</span>                                                                  â”‚</span>
<span id="cb17-521"><a href="#cb17-521"></a>         <span class="ex">â”‚â–Œ</span>                                                                  â”‚</span>
<span id="cb17-522"><a href="#cb17-522"></a>         <span class="ex">â”‚â–Œ</span>                                                                  â”‚</span>
<span id="cb17-523"><a href="#cb17-523"></a>   <span class="ex">0.0169â”¤â–Œ</span>                                                                  â”‚</span>
<span id="cb17-524"><a href="#cb17-524"></a>         <span class="ex">â”‚â–Œ</span>                                                                  â”‚</span>
<span id="cb17-525"><a href="#cb17-525"></a>         <span class="ex">â”‚â–Œ</span>                                                                  â”‚</span>
<span id="cb17-526"><a href="#cb17-526"></a>   <span class="ex">0.0142â”¤â–Œ</span>                                                                  â”‚</span>
<span id="cb17-527"><a href="#cb17-527"></a>         <span class="ex">â”‚â–Œ</span>                                                                  â”‚</span>
<span id="cb17-528"><a href="#cb17-528"></a>   <span class="ex">0.0114â”¤â–Œ</span>                                                                  â”‚</span>
<span id="cb17-529"><a href="#cb17-529"></a>         <span class="ex">â”‚â–Œ</span>                                                                  â”‚</span>
<span id="cb17-530"><a href="#cb17-530"></a>         <span class="ex">â”‚â–Œ</span>                                                                  â”‚</span>
<span id="cb17-531"><a href="#cb17-531"></a>   <span class="ex">0.0086â”¤â–Œ</span>                                                                  â”‚</span>
<span id="cb17-532"><a href="#cb17-532"></a>         <span class="ex">â”‚â–Œ</span>                                                                  â”‚</span>
<span id="cb17-533"><a href="#cb17-533"></a>         <span class="ex">â”‚â–Œ</span>                                                                  â”‚</span>
<span id="cb17-534"><a href="#cb17-534"></a>   <span class="ex">0.0058â”¤â–Œ</span>                                                                  â”‚</span>
<span id="cb17-535"><a href="#cb17-535"></a>         <span class="ex">â”‚â–Œ</span>                                                                  â”‚</span>
<span id="cb17-536"><a href="#cb17-536"></a>         <span class="ex">â”‚â–š</span>      â––          â–—                                                â”‚</span>
<span id="cb17-537"><a href="#cb17-537"></a>   <span class="ex">0.0030â”¤</span> â–šâ–„â–„â–„â–„â–â–â–€â–€â–€â–€â–„â–€â–€â–€â–„â–€â–˜â–€â–„â–€â–€â–„â–šâ–€â–€â–šâ–„â–€â–€â–„â–„â–„â–â–„â–šâ–„â–€â–„â–šâ–„â–„â–â–„â–â–„â–šâ–€â–šâ–€â–šâ–â–â–€â–€â–€â–â–„â–€â–€â–€â–šâ–„â–â–€â–€â”‚</span>
<span id="cb17-538"><a href="#cb17-538"></a>         <span class="ex">â””â”€â”¬â”€â”¬â”€â”€â”€â”¬â”€â”€â”¬â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”¬â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”˜</span></span>
<span id="cb17-539"><a href="#cb17-539"></a>           <span class="ex">2</span> 5  11 16 20   27 32 36  43  48 53   61   68  74   81 86  91  98</span>
<span id="cb17-540"><a href="#cb17-540"></a>   <span class="ex">train_dt</span>                           train/iter</span>
<span id="cb17-541"><a href="#cb17-541"></a>   <span class="ex">[2024-11-28</span> 13:44:52.888254]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">plot.py:220</span><span class="pp">]</span> <span class="at">-</span> Appending plot to: /lus/gila/projects/Aurora_deployment/foremans/projects/saforem2/ezpz/test-dist-plots/tplot/train_dt.txt</span>
<span id="cb17-542"><a href="#cb17-542"></a>   <span class="ex">text</span> saved in /lus/gila/projects/Aurora_deployment/foremans/projects/saforem2/ezpz/test-dist-plots/tplot/train_dt.txt</span>
<span id="cb17-543"><a href="#cb17-543"></a>                              <span class="ex">train_dtf</span> <span class="pp">[</span><span class="ss">2024</span><span class="pp">-</span><span class="ss">11</span><span class="pp">-</span><span class="ss">28</span><span class="pp">-</span><span class="ss">134452</span><span class="pp">]</span></span>
<span id="cb17-544"><a href="#cb17-544"></a>          <span class="ex">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span></span>
<span id="cb17-545"><a href="#cb17-545"></a>   <span class="ex">0.00296â”¤â–Œ</span>                                                                 â”‚</span>
<span id="cb17-546"><a href="#cb17-546"></a>          <span class="ex">â”‚â–Œ</span>                                                                 â”‚</span>
<span id="cb17-547"><a href="#cb17-547"></a>          <span class="ex">â”‚â–Œ</span>                                                                 â”‚</span>
<span id="cb17-548"><a href="#cb17-548"></a>   <span class="ex">0.00257â”¤â–Œ</span>                                                                 â”‚</span>
<span id="cb17-549"><a href="#cb17-549"></a>          <span class="ex">â”‚â–Œ</span>                                                                 â”‚</span>
<span id="cb17-550"><a href="#cb17-550"></a>          <span class="ex">â”‚â–Œ</span>                                                                 â”‚</span>
<span id="cb17-551"><a href="#cb17-551"></a>   <span class="ex">0.00219â”¤â–Œ</span>                                                                 â”‚</span>
<span id="cb17-552"><a href="#cb17-552"></a>          <span class="ex">â”‚â–Œ</span>                                                                 â”‚</span>
<span id="cb17-553"><a href="#cb17-553"></a>   <span class="ex">0.00181â”¤â–Œ</span>                                                                 â”‚</span>
<span id="cb17-554"><a href="#cb17-554"></a>          <span class="ex">â”‚â–Œ</span>                                                                 â”‚</span>
<span id="cb17-555"><a href="#cb17-555"></a>          <span class="ex">â”‚â–Œ</span>                                                                 â”‚</span>
<span id="cb17-556"><a href="#cb17-556"></a>   <span class="ex">0.00142â”¤â–Œ</span>                                                                 â”‚</span>
<span id="cb17-557"><a href="#cb17-557"></a>          <span class="ex">â”‚â–Œ</span>                                                                 â”‚</span>
<span id="cb17-558"><a href="#cb17-558"></a>          <span class="ex">â”‚â–Œ</span>                                                                 â”‚</span>
<span id="cb17-559"><a href="#cb17-559"></a>   <span class="ex">0.00104â”¤â–Œ</span>                                                                 â”‚</span>
<span id="cb17-560"><a href="#cb17-560"></a>          <span class="ex">â”‚â–Œ</span>            â–—    â––                  â–Ÿ                 â–—  â––       â”‚</span>
<span id="cb17-561"><a href="#cb17-561"></a>          <span class="ex">â”‚â–â––â–—</span>   â–—â–â–„â–„â–„â–„â–—â–˜â–šâ–„â–—â–Ÿâ–šâ–Ÿâ–â–„â–Œâ–— â–â–€â–„â–— â––â–— â–„â––â–— â–›â–„â–Ÿ   â–— â––â––â–Ÿ â––â––â–—â–„â–€â––â–›â–„â–Ÿâ–â–šâ–„â––â––â–â–šâ––â”‚</span>
<span id="cb17-562"><a href="#cb17-562"></a>   <span class="ex">0.00065â”¤</span> â–â–˜â–€â–€â–€â–˜     â–€   â–˜   â–˜ â–â–˜â–€  â–â–Œâ–€â–â–€â– â–â–˜â–€â–˜  â–€â–šâ–€â–˜â–€â–œâ–â–˜â–€â–œâ–â–˜  â–â–˜ â–   â–â–â–˜ â–â”‚</span>
<span id="cb17-563"><a href="#cb17-563"></a>          <span class="ex">â””â”€â”¬â”€â”¬â”€â”€â”€â”¬â”€â”€â”¬â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”¬â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”¬â”€â”€â”¬â”€â”€â”¬â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”˜</span></span>
<span id="cb17-564"><a href="#cb17-564"></a>            <span class="ex">2</span> 5  11 16 20  27 31 36   43 48 53 57 61  68  74   81 86  91  98</span>
<span id="cb17-565"><a href="#cb17-565"></a>   <span class="ex">train_dtf</span>                           train/iter</span>
<span id="cb17-566"><a href="#cb17-566"></a>   <span class="ex">[2024-11-28</span> 13:44:52.904574]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">plot.py:220</span><span class="pp">]</span> <span class="at">-</span> Appending plot to: /lus/gila/projects/Aurora_deployment/foremans/projects/saforem2/ezpz/test-dist-plots/tplot/train_dtf.txt</span>
<span id="cb17-567"><a href="#cb17-567"></a>   <span class="ex">text</span> saved in /lus/gila/projects/Aurora_deployment/foremans/projects/saforem2/ezpz/test-dist-plots/tplot/train_dtf.txt</span>
<span id="cb17-568"><a href="#cb17-568"></a>                             <span class="ex">train_dtb</span> <span class="pp">[</span><span class="ss">2024</span><span class="pp">-</span><span class="ss">11</span><span class="pp">-</span><span class="ss">28</span><span class="pp">-</span><span class="ss">134452</span><span class="pp">]</span></span>
<span id="cb17-569"><a href="#cb17-569"></a>         <span class="ex">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span></span>
<span id="cb17-570"><a href="#cb17-570"></a>   <span class="ex">0.0168â”¤â–Œ</span>                                                                  â”‚</span>
<span id="cb17-571"><a href="#cb17-571"></a>         <span class="ex">â”‚â–Œ</span>                                                                  â”‚</span>
<span id="cb17-572"><a href="#cb17-572"></a>         <span class="ex">â”‚â–Œ</span>                                                                  â”‚</span>
<span id="cb17-573"><a href="#cb17-573"></a>   <span class="ex">0.0144â”¤â–Œ</span>                                                                  â”‚</span>
<span id="cb17-574"><a href="#cb17-574"></a>         <span class="ex">â”‚â–Œ</span>                                                                  â”‚</span>
<span id="cb17-575"><a href="#cb17-575"></a>         <span class="ex">â”‚â–Œ</span>                                                                  â”‚</span>
<span id="cb17-576"><a href="#cb17-576"></a>   <span class="ex">0.0120â”¤â–Œ</span>                                                                  â”‚</span>
<span id="cb17-577"><a href="#cb17-577"></a>         <span class="ex">â”‚â–Œ</span>                                                                  â”‚</span>
<span id="cb17-578"><a href="#cb17-578"></a>   <span class="ex">0.0096â”¤â–Œ</span>                                                                  â”‚</span>
<span id="cb17-579"><a href="#cb17-579"></a>         <span class="ex">â”‚â–Œ</span>                                                                  â”‚</span>
<span id="cb17-580"><a href="#cb17-580"></a>         <span class="ex">â”‚â–Œ</span>                                                                  â”‚</span>
<span id="cb17-581"><a href="#cb17-581"></a>   <span class="ex">0.0072â”¤â–Œ</span>                                                                  â”‚</span>
<span id="cb17-582"><a href="#cb17-582"></a>         <span class="ex">â”‚â–Œ</span>                                                                  â”‚</span>
<span id="cb17-583"><a href="#cb17-583"></a>         <span class="ex">â”‚â–Œ</span>                                                                  â”‚</span>
<span id="cb17-584"><a href="#cb17-584"></a>   <span class="ex">0.0048â”¤â–Œ</span>                                                                  â”‚</span>
<span id="cb17-585"><a href="#cb17-585"></a>         <span class="ex">â”‚â–Œ</span>                                                                  â”‚</span>
<span id="cb17-586"><a href="#cb17-586"></a>         <span class="ex">â”‚â–š</span>      â––                                                           â”‚</span>
<span id="cb17-587"><a href="#cb17-587"></a>   <span class="ex">0.0024â”¤</span> â–šâ–„â–„â–„â–„â–â–â–€â–€â–„â–â–„â–šâ–â–šâ–„â–šâ–â–šâ–„â–„â–„â–„â–„â–€â–€â–šâ–„â–€â–€â–„â–„â–„â–â–„â–„â–„â–„â–„â–šâ–„â–„â–„â–„â–„â–„â–„â–„â–„â–€â–šâ–„â–„â–„â–â–€â–â–„â–€â–€â–šâ–„â–„â–â–šâ–â”‚</span>
<span id="cb17-588"><a href="#cb17-588"></a>         <span class="ex">â””â”€â”¬â”€â”¬â”€â”€â”€â”¬â”€â”€â”¬â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”¬â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”˜</span></span>
<span id="cb17-589"><a href="#cb17-589"></a>           <span class="ex">2</span> 5  11 16 20   27 32 36  43  48 53   61   68  74   81 86  91  98</span>
<span id="cb17-590"><a href="#cb17-590"></a>   <span class="ex">train_dtb</span>                          train/iter</span>
<span id="cb17-591"><a href="#cb17-591"></a>   <span class="ex">[2024-11-28</span> 13:44:52.920733]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">plot.py:220</span><span class="pp">]</span> <span class="at">-</span> Appending plot to: /lus/gila/projects/Aurora_deployment/foremans/projects/saforem2/ezpz/test-dist-plots/tplot/train_dtb.txt</span>
<span id="cb17-592"><a href="#cb17-592"></a>   <span class="ex">text</span> saved in /lus/gila/projects/Aurora_deployment/foremans/projects/saforem2/ezpz/test-dist-plots/tplot/train_dtb.txt</span>
<span id="cb17-593"><a href="#cb17-593"></a>                            <span class="ex">train_loss</span> <span class="pp">[</span><span class="ss">2024</span><span class="pp">-</span><span class="ss">11</span><span class="pp">-</span><span class="ss">28</span><span class="pp">-</span><span class="ss">134452</span><span class="pp">]</span></span>
<span id="cb17-594"><a href="#cb17-594"></a>         <span class="ex">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span></span>
<span id="cb17-595"><a href="#cb17-595"></a>   <span class="ex">1821.1â”¤â–Œ</span>                                                                  â”‚</span>
<span id="cb17-596"><a href="#cb17-596"></a>         <span class="ex">â”‚â–Œ</span>                                                                  â”‚</span>
<span id="cb17-597"><a href="#cb17-597"></a>         <span class="ex">â”‚â–Œ</span>                                                                  â”‚</span>
<span id="cb17-598"><a href="#cb17-598"></a>   <span class="ex">1575.1â”¤â–Œ</span>                                                                  â”‚</span>
<span id="cb17-599"><a href="#cb17-599"></a>         <span class="ex">â”‚â–Œ</span>                                                                  â”‚</span>
<span id="cb17-600"><a href="#cb17-600"></a>         <span class="ex">â”‚â–š</span>                                                                  â”‚</span>
<span id="cb17-601"><a href="#cb17-601"></a>   <span class="ex">1329.0â”¤â–</span>                                                                  â”‚</span>
<span id="cb17-602"><a href="#cb17-602"></a>         <span class="ex">â”‚â–â––</span>                                                                 â”‚</span>
<span id="cb17-603"><a href="#cb17-603"></a>   <span class="ex">1082.9â”¤</span> â–Œ                                                                 â”‚</span>
<span id="cb17-604"><a href="#cb17-604"></a>         <span class="ex">â”‚</span> â–                                                                 â”‚</span>
<span id="cb17-605"><a href="#cb17-605"></a>         <span class="ex">â”‚</span> â–â––                                                                â”‚</span>
<span id="cb17-606"><a href="#cb17-606"></a>    <span class="ex">836.8â”¤</span>  â–š                                                                â”‚</span>
<span id="cb17-607"><a href="#cb17-607"></a>         <span class="ex">â”‚</span>   â–€â––                                                              â”‚</span>
<span id="cb17-608"><a href="#cb17-608"></a>         <span class="ex">â”‚</span>    â–â–€â–šâ–„â–„â–„ â––                                                       â”‚</span>
<span id="cb17-609"><a href="#cb17-609"></a>    <span class="ex">590.7â”¤</span>          â–€â–â–€â–€â–€â–šâ–„â–„â–„â–„â–„â––                                             â”‚</span>
<span id="cb17-610"><a href="#cb17-610"></a>         <span class="ex">â”‚</span>                     â–â–€â–€â–€â–€â–€â–€â–€â–„â–„â–„â–„â–„â–„â–„â–„                              â”‚</span>
<span id="cb17-611"><a href="#cb17-611"></a>         <span class="ex">â”‚</span>                                     â–€â–€â–€â–€â–€â–€â–€â–€â–šâ–„â–„â–„â–„â–„â–„  â–—            â”‚</span>
<span id="cb17-612"><a href="#cb17-612"></a>    <span class="ex">344.7â”¤</span>                                                    â–€â–€â–˜â–€â–€â–€â–€â–€â–€â–€â–€â–„â–„â–„â–„â”‚</span>
<span id="cb17-613"><a href="#cb17-613"></a>         <span class="ex">â””â”€â”¬â”€â”¬â”€â”€â”€â”¬â”€â”€â”¬â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”¬â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”˜</span></span>
<span id="cb17-614"><a href="#cb17-614"></a>           <span class="ex">2</span> 5  11 16 20   27 32 36  43  48 53   61   68  74   81 86  91  98</span>
<span id="cb17-615"><a href="#cb17-615"></a>   <span class="ex">train_loss</span>                         train/iter</span>
<span id="cb17-616"><a href="#cb17-616"></a>   <span class="ex">[2024-11-28</span> 13:44:52.939625]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">plot.py:220</span><span class="pp">]</span> <span class="at">-</span> Appending plot to: /lus/gila/projects/Aurora_deployment/foremans/projects/saforem2/ezpz/test-dist-plots/tplot/train_loss.txt</span>
<span id="cb17-617"><a href="#cb17-617"></a>   <span class="ex">text</span> saved in /lus/gila/projects/Aurora_deployment/foremans/projects/saforem2/ezpz/test-dist-plots/tplot/train_loss.txt</span>
<span id="cb17-618"><a href="#cb17-618"></a>                              <span class="ex">train_sps</span> <span class="pp">[</span><span class="ss">2024</span><span class="pp">-</span><span class="ss">11</span><span class="pp">-</span><span class="ss">28</span><span class="pp">-</span><span class="ss">134452</span><span class="pp">]</span></span>
<span id="cb17-619"><a href="#cb17-619"></a>          <span class="ex">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span></span>
<span id="cb17-620"><a href="#cb17-620"></a>   <span class="ex">21038.9â”¤</span>  â––â–—â–„â–â––                 â––   â––  â–—â–š   â––    â–—   â–—                 â––  â”‚</span>
<span id="cb17-621"><a href="#cb17-621"></a>          <span class="ex">â”‚</span> â–â–â–˜  â–Œ   â––â–—â–Œ  â–—â–Œâ–— â–—â–Œâ–—â–â–Ÿâ–Œ  â–â–Œâ–—â–â–Ÿ â–œ â–Ÿâ–â–– â–„â–€â–€â–„â–„â–šâ–›â–„â–Œâ–„â–šâ–—â–™â–šâ–—â–– â––â–Ÿ   â–â–â–Œ  â”‚</span>
<span id="cb17-622"><a href="#cb17-622"></a>          <span class="ex">â”‚</span> â–Œ    â–Œ â–„â–â–â–Ÿâ–šâ–„â–â–€â–šâ–œâ–â–˜â–â–˜ â–â–Œ â–—â–˜â–™â–€â–Œ  â–â–  â–šâ–€â–ˆ     â–˜ â–œ  â–˜â– â–˜â–â–Ÿâ–â–œ â–—â–€â–˜ â–Œâ–—â–šâ”‚</span>
<span id="cb17-623"><a href="#cb17-623"></a>   <span class="ex">18073.5â”¤</span> â–Œ    â–Œâ–     â–â–Œ  â–â–Œ     â–â–€â– â–    â–â–Œ    â–               â– â–â–„â–˜   â–â–˜ â”‚</span>
<span id="cb17-624"><a href="#cb17-624"></a>          <span class="ex">â”‚â–</span>     â–šâ–˜      â–˜  â–â–Œ                                               â”‚</span>
<span id="cb17-625"><a href="#cb17-625"></a>          <span class="ex">â”‚â–</span>                                                                 â”‚</span>
<span id="cb17-626"><a href="#cb17-626"></a>   <span class="ex">15108.1â”¤â–Œ</span>                                                                 â”‚</span>
<span id="cb17-627"><a href="#cb17-627"></a>          <span class="ex">â”‚â–Œ</span>                                                                 â”‚</span>
<span id="cb17-628"><a href="#cb17-628"></a>   <span class="ex">12142.7â”¤â–Œ</span>                                                                 â”‚</span>
<span id="cb17-629"><a href="#cb17-629"></a>          <span class="ex">â”‚â–Œ</span>                                                                 â”‚</span>
<span id="cb17-630"><a href="#cb17-630"></a>          <span class="ex">â”‚â–Œ</span>                                                                 â”‚</span>
<span id="cb17-631"><a href="#cb17-631"></a>    <span class="ex">9177.3â”¤â–Œ</span>                                                                 â”‚</span>
<span id="cb17-632"><a href="#cb17-632"></a>          <span class="ex">â”‚â–Œ</span>                                                                 â”‚</span>
<span id="cb17-633"><a href="#cb17-633"></a>          <span class="ex">â”‚â–Œ</span>                                                                 â”‚</span>
<span id="cb17-634"><a href="#cb17-634"></a>    <span class="ex">6211.9â”¤â–Œ</span>                                                                 â”‚</span>
<span id="cb17-635"><a href="#cb17-635"></a>          <span class="ex">â”‚â–Œ</span>                                                                 â”‚</span>
<span id="cb17-636"><a href="#cb17-636"></a>          <span class="ex">â”‚â–Œ</span>                                                                 â”‚</span>
<span id="cb17-637"><a href="#cb17-637"></a>    <span class="ex">3246.6â”¤â–Œ</span>                                                                 â”‚</span>
<span id="cb17-638"><a href="#cb17-638"></a>          <span class="ex">â””â”€â”¬â”€â”¬â”€â”€â”€â”¬â”€â”€â”¬â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”¬â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”¬â”€â”€â”¬â”€â”€â”¬â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”˜</span></span>
<span id="cb17-639"><a href="#cb17-639"></a>            <span class="ex">2</span> 5  11 16 20  27 31 36   43 48 53 57 61  68  74   81 86  91  98</span>
<span id="cb17-640"><a href="#cb17-640"></a>   <span class="ex">train_sps</span>                           train/iter</span>
<span id="cb17-641"><a href="#cb17-641"></a>   <span class="ex">[2024-11-28</span> 13:44:52.955997]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">plot.py:220</span><span class="pp">]</span> <span class="at">-</span> Appending plot to: /lus/gila/projects/Aurora_deployment/foremans/projects/saforem2/ezpz/test-dist-plots/tplot/train_sps.txt</span>
<span id="cb17-642"><a href="#cb17-642"></a>   <span class="ex">text</span> saved in /lus/gila/projects/Aurora_deployment/foremans/projects/saforem2/ezpz/test-dist-plots/tplot/train_sps.txt</span>
<span id="cb17-643"><a href="#cb17-643"></a>   <span class="ex">[2024-11-28</span> 13:44:53.002178]<span class="pp">[</span><span class="ss">INFO</span><span class="pp">][</span><span class="ss">test_dist.py:246</span><span class="pp">]</span> <span class="at">-</span> dataset=<span class="op">&lt;</span>xarray.Dataset<span class="op">&gt;</span> Size: 5kB</span>
<span id="cb17-644"><a href="#cb17-644"></a>   <span class="ex">Dimensions:</span>     <span class="er">(</span><span class="ex">draw:</span> 99<span class="kw">)</span></span>
<span id="cb17-645"><a href="#cb17-645"></a>   <span class="ex">Coordinates:</span></span>
<span id="cb17-646"><a href="#cb17-646"></a>     <span class="ex">*</span> draw        <span class="er">(</span><span class="ex">draw</span><span class="kw">)</span> <span class="ex">int64</span> 792B 0 1 2 3 4 5 6 7 8 ... 91 92 93 94 95 96 97 98</span>
<span id="cb17-647"><a href="#cb17-647"></a>   <span class="ex">Data</span> variables:</span>
<span id="cb17-648"><a href="#cb17-648"></a>       <span class="ex">train_iter</span>  <span class="er">(</span><span class="ex">draw</span><span class="kw">)</span> <span class="ex">int64</span> 792B 1 2 3 4 5 6 7 8 9 ... 92 93 94 95 96 97 98 99</span>
<span id="cb17-649"><a href="#cb17-649"></a>       <span class="ex">train_dt</span>    <span class="er">(</span><span class="ex">draw</span><span class="kw">)</span> <span class="ex">float64</span> 792B 0.01971 0.004083 ... 0.003326 0.003474</span>
<span id="cb17-650"><a href="#cb17-650"></a>       <span class="ex">train_dtf</span>   <span class="er">(</span><span class="ex">draw</span><span class="kw">)</span> <span class="ex">float64</span> 792B 0.002959 0.0008221 ... 0.0008038 0.0007404</span>
<span id="cb17-651"><a href="#cb17-651"></a>       <span class="ex">train_dtb</span>   <span class="er">(</span><span class="ex">draw</span><span class="kw">)</span> <span class="ex">float64</span> 792B 0.01675 0.003261 ... 0.002522 0.002733</span>
<span id="cb17-652"><a href="#cb17-652"></a>       <span class="ex">train_loss</span>  <span class="er">(</span><span class="ex">draw</span><span class="kw">)</span> <span class="ex">float32</span> 396B 1.821e+03 1.348e+03 ... 347.3 346.5</span>
<span id="cb17-653"><a href="#cb17-653"></a>       <span class="ex">train_sps</span>   <span class="er">(</span><span class="ex">draw</span><span class="kw">)</span> <span class="ex">float64</span> 792B 3.247e+03 1.567e+04 ... 1.925e+04 1.842e+04</span>
<span id="cb17-654"><a href="#cb17-654"></a></span>
<span id="cb17-655"><a href="#cb17-655"></a>     <span class="ex">_</span>     ._   __/__   _ _  _  _ _/_   Recorded: 13:44:35  Samples:  2127</span>
<span id="cb17-656"><a href="#cb17-656"></a>    <span class="ex">/_//_///</span> /_\ / //_// / //_<span class="st">'/ //     Duration: 17.440    CPU time: 29.088</span></span>
<span id="cb17-657"><a href="#cb17-657"></a><span class="st">   /   _/                      v5.0.0</span></span>
<span id="cb17-658"><a href="#cb17-658"></a></span>
<span id="cb17-659"><a href="#cb17-659"></a><span class="st">   Profile at /lus/gila/projects/Aurora_deployment/foremans/projects/saforem2/ezpz/src/ezpz/profile.py:101</span></span>
<span id="cb17-660"><a href="#cb17-660"></a></span>
<span id="cb17-661"><a href="#cb17-661"></a><span class="st">   17.440 &lt;module&gt;  ezpz/test_dist.py:1</span></span>
<span id="cb17-662"><a href="#cb17-662"></a><span class="st">   â””â”€ 17.440 main  ezpz/test_dist.py:177</span></span>
<span id="cb17-663"><a href="#cb17-663"></a><span class="st">      â”œâ”€ 10.558 build_model_and_optimizer  ezpz/test_dist.py:136</span></span>
<span id="cb17-664"><a href="#cb17-664"></a><span class="st">      â”‚  â””â”€ 10.547 DistributedDataParallel.__init__  torch/nn/parallel/distributed.py:622</span></span>
<span id="cb17-665"><a href="#cb17-665"></a><span class="st">      â”‚     â””â”€ 10.502 _verify_param_shape_across_processes  torch/distributed/utils.py:266</span></span>
<span id="cb17-666"><a href="#cb17-666"></a><span class="st">      â”‚        â””â”€ 10.502 PyCapsule._verify_params_across_processes  &lt;built-in&gt;</span></span>
<span id="cb17-667"><a href="#cb17-667"></a><span class="st">      â”œâ”€ 3.256 History.plot_all  ezpz/history.py:636</span></span>
<span id="cb17-668"><a href="#cb17-668"></a><span class="st">      â”‚  â”œâ”€ 1.809 savefig  matplotlib/pyplot.py:974</span></span>
<span id="cb17-669"><a href="#cb17-669"></a><span class="st">      â”‚  â”‚     [38 frames hidden]  matplotlib, PIL, &lt;built-in&gt;, numpy</span></span>
<span id="cb17-670"><a href="#cb17-670"></a><span class="st">      â”‚  â”œâ”€ 0.895 &lt;module&gt;  seaborn/__init__.py:1</span></span>
<span id="cb17-671"><a href="#cb17-671"></a><span class="st">      â”‚  â”‚     [8 frames hidden]  seaborn, scipy</span></span>
<span id="cb17-672"><a href="#cb17-672"></a><span class="st">      â”‚  â”œâ”€ 0.227 History.get_dataset  ezpz/history.py:752</span></span>
<span id="cb17-673"><a href="#cb17-673"></a><span class="st">      â”‚  â”‚  â””â”€ 0.183 History.to_DataArray  ezpz/history.py:712</span></span>
<span id="cb17-674"><a href="#cb17-674"></a><span class="st">      â”‚  â”‚     â””â”€ 0.183 DataArray.__init__  xarray/core/dataarray.py:437</span></span>
<span id="cb17-675"><a href="#cb17-675"></a><span class="st">      â”‚  â”‚           [5 frames hidden]  xarray</span></span>
<span id="cb17-676"><a href="#cb17-676"></a><span class="st">      â”‚  â””â”€ 0.179 make_ridgeplots  ezpz/plot.py:900</span></span>
<span id="cb17-677"><a href="#cb17-677"></a><span class="st">      â”œâ”€ 2.016 _forward_step  ezpz/test_dist.py:193</span></span>
<span id="cb17-678"><a href="#cb17-678"></a><span class="st">      â”‚  â””â”€ 1.963 DistributedDataParallel._wrapped_call_impl  torch/nn/modules/module.py:1528</span></span>
<span id="cb17-679"><a href="#cb17-679"></a><span class="st">      â”‚        [4 frames hidden]  torch</span></span>
<span id="cb17-680"><a href="#cb17-680"></a><span class="st">      â”‚           1.945 Network._call_impl  torch/nn/modules/module.py:1534</span></span>
<span id="cb17-681"><a href="#cb17-681"></a><span class="st">      â”‚           â””â”€ 1.943 Network.forward  ezpz/test_dist.py:128</span></span>
<span id="cb17-682"><a href="#cb17-682"></a><span class="st">      â”‚              â””â”€ 1.943 Sequential._wrapped_call_impl  torch/nn/modules/module.py:1528</span></span>
<span id="cb17-683"><a href="#cb17-683"></a><span class="st">      â”‚                    [6 frames hidden]  torch, &lt;built-in&gt;</span></span>
<span id="cb17-684"><a href="#cb17-684"></a><span class="st">      â”œâ”€ 0.716 &lt;module&gt;  ambivalent/__init__.py:1</span></span>
<span id="cb17-685"><a href="#cb17-685"></a><span class="st">      â”‚     [20 frames hidden]  ambivalent, requests, urllib3, http, ...</span></span>
<span id="cb17-686"><a href="#cb17-686"></a><span class="st">      â””â”€ 0.495 _backward_step  ezpz/test_dist.py:198</span></span>
<span id="cb17-687"><a href="#cb17-687"></a><span class="st">         â””â”€ 0.457 Tensor.backward  torch/_tensor.py:466</span></span>
<span id="cb17-688"><a href="#cb17-688"></a><span class="st">               [3 frames hidden]  torch, &lt;built-in&gt;</span></span>
<span id="cb17-689"><a href="#cb17-689"></a></span>
<span id="cb17-690"><a href="#cb17-690"></a></span>
<span id="cb17-691"><a href="#cb17-691"></a><span class="st">   [2024-11-28 13:44:54.356012][INFO][profile.py:115] - Saving pyinstrument profile output to: /lus/gila/projects/Aurora_deployment/foremans/projects/saforem2/ezpz/ezpz_pyinstrument_profiles</span></span>
<span id="cb17-692"><a href="#cb17-692"></a><span class="st">   [2024-11-28 13:44:54.356642][INFO][profile.py:123] - PyInstrument profile saved (as html) to:  /lus/gila/projects/Aurora_deployment/foremans/projects/saforem2/ezpz/ezpz_pyinstrument_profiles/pyinstrument-profile-2024-11-28-134454.html</span></span>
<span id="cb17-693"><a href="#cb17-693"></a><span class="st">   [2024-11-28 13:44:54.357100][INFO][profile.py:131] - PyInstrument profile saved (as text) to:  /lus/gila/projects/Aurora_deployment/foremans/projects/saforem2/ezpz/ezpz_pyinstrument_profiles/pyinstrument-profile-2024-11-28-134454.txt</span></span>
<span id="cb17-694"><a href="#cb17-694"></a><span class="st">   [2024-11-28 13:44:54.716119][INFO][profile.py:143] - Finished with pyinstrument profiler. Took: 17.44008s</span></span>
<span id="cb17-695"><a href="#cb17-695"></a><span class="st">   [2024-11-28 13:44:54.717891][INFO][test_dist.py:269] - [0] runtime=73.419312s</span></span>
<span id="cb17-696"><a href="#cb17-696"></a><span class="st">   wandb: ğŸš€ View run driven-wind-683 at: https://wandb.ai/aurora_gpt/ezpz.test_dist/runs/4mwyy84l</span></span>
<span id="cb17-697"><a href="#cb17-697"></a><span class="st">   wandb: Find logs at: ../../../../../../lus/gila/projects/Aurora_deployment/foremans/projects/saforem2/ezpz/wandb/run-20241128_134434-4mwyy84l/logs</span></span>
<span id="cb17-698"><a href="#cb17-698"></a><span class="st">   Application ecd9868b resources: utime=2078s stime=374s maxrss=2509188KB inblock=786752 oublock=12104 minflt=13378945 majflt=181980 nvcsw=1704995 nivcsw=216931</span></span>
<span id="cb17-699"><a href="#cb17-699"></a><span class="st">   took: 0h:01m:32s</span></span>
<span id="cb17-700"><a href="#cb17-700"></a><span class="st">   ```</span></span>
<span id="cb17-701"><a href="#cb17-701"></a></span>
<span id="cb17-702"><a href="#cb17-702"></a></span>
<span id="cb17-703"><a href="#cb17-703"></a><span class="st">   &lt;/details&gt;</span></span>
<span id="cb17-704"><a href="#cb17-704"></a></span>
<span id="cb17-705"><a href="#cb17-705"></a><span class="st">&lt;!--1. Setup Environment: `ezpz_setup_env`.--&gt;</span></span>
<span id="cb17-706"><a href="#cb17-706"></a><span class="st">&lt;!--   Wrapper to chain the following two commands with `&amp;&amp;`:--&gt;</span></span>
<span id="cb17-707"><a href="#cb17-707"></a><span class="st">&lt;!--```bash--&gt;</span></span>
<span id="cb17-708"><a href="#cb17-708"></a><span class="st">&lt;!--git clone https://github.com/saforem2/ezpz deps/ezpz--&gt;</span></span>
<span id="cb17-709"><a href="#cb17-709"></a><span class="st">&lt;!--export PBS_O_WORKDIR=$(pwd)--&gt;</span></span>
<span id="cb17-710"><a href="#cb17-710"></a><span class="st">&lt;!--source deps/ezpz/src/ezpz/bin/utils.sh--&gt;</span></span>
<span id="cb17-711"><a href="#cb17-711"></a><span class="st">&lt;!--ezpz_setup_python--&gt;</span></span>
<span id="cb17-712"><a href="#cb17-712"></a><span class="st">&lt;!--ezpz_setup_job--&gt;</span></span>
<span id="cb17-713"><a href="#cb17-713"></a><span class="st">&lt;!--```--&gt;</span></span>
<span id="cb17-714"><a href="#cb17-714"></a><span class="st"> &lt;!-- 1. [Setup Pyhon](#setup-python): `ezpz_setup_python` --&gt;</span></span>
<span id="cb17-715"><a href="#cb17-715"></a><span class="st"> &lt;!-- 1. [Setup Job](#setup-job): `ezpz_setup_job` --&gt;</span></span>
<span id="cb17-716"><a href="#cb17-716"></a></span>
<span id="cb17-717"><a href="#cb17-717"></a><span class="st">#### ğŸ› ï¸ Setup Python</span></span>
<span id="cb17-718"><a href="#cb17-718"></a></span>
<span id="cb17-719"><a href="#cb17-719"></a><span class="st">```bash</span></span>
<span id="cb17-720"><a href="#cb17-720"></a><span class="st">ezpz_setup_python</span></span>
<span id="cb17-721"><a href="#cb17-721"></a><span class="st">```</span></span>
<span id="cb17-722"><a href="#cb17-722"></a></span>
<span id="cb17-723"><a href="#cb17-723"></a><span class="st">This will:</span></span>
<span id="cb17-724"><a href="#cb17-724"></a></span>
<span id="cb17-725"><a href="#cb17-725"></a><span class="st">1. Automatically load and activate `conda` using the `ezpz_setup_conda` function.</span></span>
<span id="cb17-726"><a href="#cb17-726"></a></span>
<span id="cb17-727"><a href="#cb17-727"></a><span class="st">   How this is done, in practice, varies from machine to machine:</span></span>
<span id="cb17-728"><a href="#cb17-728"></a></span>
<span id="cb17-729"><a href="#cb17-729"></a><span class="st">   - **ALCF**[^alcf]: Automatically load</span></span>
<span id="cb17-730"><a href="#cb17-730"></a><span class="st">     the most recent `conda` module and activate the base environment.</span></span>
<span id="cb17-731"><a href="#cb17-731"></a></span>
<span id="cb17-732"><a href="#cb17-732"></a><span class="st">   - **Frontier**: Load the appropriate AMD modules (e.g. `rocm`,</span></span>
<span id="cb17-733"><a href="#cb17-733"></a><span class="st">     `RCCL`, etc.), and activate base `conda`</span></span>
<span id="cb17-734"><a href="#cb17-734"></a></span>
<span id="cb17-735"><a href="#cb17-735"></a><span class="st">   - **Perlmutter**: Load the appropriate `pytorch` module and activate environment</span></span>
<span id="cb17-736"><a href="#cb17-736"></a></span>
<span id="cb17-737"><a href="#cb17-737"></a><span class="st">   - **Unknown**: In this case, we will look for a `conda`, `mamba`, or</span></span>
<span id="cb17-738"><a href="#cb17-738"></a><span class="st">     `micromamba` executable, and if found, use that to activate the base</span></span>
<span id="cb17-739"><a href="#cb17-739"></a><span class="st">     environment.</span></span>
<span id="cb17-740"><a href="#cb17-740"></a></span>
<span id="cb17-741"><a href="#cb17-741"></a></span>
<span id="cb17-742"><a href="#cb17-742"></a><span class="st">   ::: {.callout-tip title="Using your own `conda`" collapse=false}</span></span>
<span id="cb17-743"><a href="#cb17-743"></a></span>
<span id="cb17-744"><a href="#cb17-744"></a><span class="st">   If you are already in a conda environment when calling</span></span>
<span id="cb17-745"><a href="#cb17-745"></a><span class="st">   `ezpz_setup_python` then it will try and use this instead.</span></span>
<span id="cb17-746"><a href="#cb17-746"></a></span>
<span id="cb17-747"><a href="#cb17-747"></a><span class="st">   For example, if you have a custom `conda` env at `~/conda/envs/custom`, then</span></span>
<span id="cb17-748"><a href="#cb17-748"></a><span class="st">   this would bootstrap the `custom` conda environment and create the virtual</span></span>
<span id="cb17-749"><a href="#cb17-749"></a><span class="st">   env in `venvs/custom/`</span></span>
<span id="cb17-750"><a href="#cb17-750"></a></span>
<span id="cb17-751"><a href="#cb17-751"></a><span class="st">   :::</span></span>
<span id="cb17-752"><a href="#cb17-752"></a></span>
<span id="cb17-753"><a href="#cb17-753"></a><span class="st">[^alcf]: Any of {Aurora, Polaris, Sophia, Sunspot, Sirius}</span></span>
<span id="cb17-754"><a href="#cb17-754"></a></span>
<span id="cb17-755"><a href="#cb17-755"></a><span class="st">2. Build (or activate, if found) a virtual environment on top of (the active) base `conda` environment.</span></span>
<span id="cb17-756"><a href="#cb17-756"></a></span>
<span id="cb17-757"><a href="#cb17-757"></a><span class="st">   By default, it will try looking in:</span></span>
<span id="cb17-758"><a href="#cb17-758"></a></span>
<span id="cb17-759"><a href="#cb17-759"></a><span class="st">   - `$PBS_O_WORKDIR`, otherwise</span></span>
<span id="cb17-760"><a href="#cb17-760"></a><span class="st">   - `${SLURM_SUBMIT_DIR}`, otherwise</span></span>
<span id="cb17-761"><a href="#cb17-761"></a><span class="st">   - `$(pwd)`</span></span>
<span id="cb17-762"><a href="#cb17-762"></a></span>
<span id="cb17-763"><a href="#cb17-763"></a><span class="st">   for a nested folder named `"venvs/${CONDA_NAME}"`.</span></span>
<span id="cb17-764"><a href="#cb17-764"></a></span>
<span id="cb17-765"><a href="#cb17-765"></a><span class="st">   If this doesn'</span>t exist, it will attempt to create a new virtual environment</span>
<span id="cb17-766"><a href="#cb17-766"></a>   <span class="ex">at</span> this location using:</span>
<span id="cb17-767"><a href="#cb17-767"></a></span>
<span id="cb17-768"><a href="#cb17-768"></a>   <span class="kw">```</span><span class="fu">bash</span></span>
<span id="cb17-769"><a href="#cb17-769"></a>   <span class="ex">python3</span> <span class="at">-m</span> venv venvs/<span class="va">${CONDA_NAME}</span> <span class="at">--system-site-packages</span></span>
<span id="cb17-770"><a href="#cb17-770"></a>   <span class="kw">```</span></span>
<span id="cb17-771"><a href="#cb17-771"></a></span>
<span id="cb17-772"><a href="#cb17-772"></a>   <span class="kw">(</span><span class="ex">where</span> we<span class="st">'ve pulled in the `--system-site-packages` from conda).</span></span>
<span id="cb17-773"><a href="#cb17-773"></a></span>
<span id="cb17-774"><a href="#cb17-774"></a><span class="st">#### ğŸ§° Setup Job</span></span>
<span id="cb17-775"><a href="#cb17-775"></a></span>
<span id="cb17-776"><a href="#cb17-776"></a><span class="st">```bash</span></span>
<span id="cb17-777"><a href="#cb17-777"></a><span class="st">ezpz_setup_job</span></span>
<span id="cb17-778"><a href="#cb17-778"></a><span class="st">```</span></span>
<span id="cb17-779"><a href="#cb17-779"></a></span>
<span id="cb17-780"><a href="#cb17-780"></a><span class="st">&lt;!-- Now, we are in a suitable python environment with the necessary pre-requisites --&gt;</span></span>
<span id="cb17-781"><a href="#cb17-781"></a><span class="st">&lt;!-- installed (e.g. `torch`, `mpi4py`, `deepspeed` (optional)). --&gt;</span></span>
<span id="cb17-782"><a href="#cb17-782"></a><span class="st">&lt;!----&gt;</span></span>
<span id="cb17-783"><a href="#cb17-783"></a><span class="st">&lt;!-- Next, we would like to build the appropriate command to launch `python3` --&gt;</span></span>
<span id="cb17-784"><a href="#cb17-784"></a><span class="st">&lt;!----&gt;</span></span>
<span id="cb17-785"><a href="#cb17-785"></a><span class="st">&lt;!-- across our accelerators. --&gt;</span></span>
<span id="cb17-786"><a href="#cb17-786"></a></span>
<span id="cb17-787"><a href="#cb17-787"></a><span class="st">Now that we are in a suitable python environment, we need to construct the</span></span>
<span id="cb17-788"><a href="#cb17-788"></a><span class="st">command that we will use to run python on each of our acceleratorss.</span></span>
<span id="cb17-789"><a href="#cb17-789"></a></span>
<span id="cb17-790"><a href="#cb17-790"></a><span class="st">To do this, we need a few things:</span></span>
<span id="cb17-791"><a href="#cb17-791"></a></span>
<span id="cb17-792"><a href="#cb17-792"></a><span class="st">1. What machine we'</span>re on <span class="er">(</span><span class="ex">and</span> what scheduler is it using i.e. {PBS, SLURM}<span class="kw">)</span></span>
<span id="cb17-793"><a href="#cb17-793"></a><span class="ex">2.</span> How many nodes are available in our active job</span>
<span id="cb17-794"><a href="#cb17-794"></a><span class="ex">3.</span> How many GPUs are on each of those nodes</span>
<span id="cb17-795"><a href="#cb17-795"></a><span class="ex">4.</span> What type of GPUs are they</span>
<span id="cb17-796"><a href="#cb17-796"></a></span>
<span id="cb17-797"><a href="#cb17-797"></a><span class="ex">With</span> this information, we can then use <span class="kw">`</span><span class="ex">mpi</span><span class="dt">{exec</span><span class="op">,</span><span class="dt">run}</span><span class="kw">`</span> or <span class="kw">`</span><span class="ex">srun</span><span class="kw">`</span> to launch</span>
<span id="cb17-798"><a href="#cb17-798"></a><span class="ex">python</span> across all of our accelerators.</span>
<span id="cb17-799"><a href="#cb17-799"></a></span>
<span id="cb17-800"><a href="#cb17-800"></a><span class="ex">Again,</span> how this is done will vary from machine to machine and will depend on</span>
<span id="cb17-801"><a href="#cb17-801"></a><span class="ex">the</span> job scheduler in use.</span>
<span id="cb17-802"><a href="#cb17-802"></a></span>
<span id="cb17-803"><a href="#cb17-803"></a><span class="ex">To</span> identify where we are, we look at our <span class="kw">`</span><span class="va">$(</span><span class="fu">hostname</span><span class="va">)</span><span class="kw">`</span> and see if we<span class="st">'re running</span></span>
<span id="cb17-804"><a href="#cb17-804"></a><span class="st">on one of the known machines:</span></span>
<span id="cb17-805"><a href="#cb17-805"></a></span>
<span id="cb17-806"><a href="#cb17-806"></a><span class="st">- **ALCF**[^node-names]: Using PBS Pro via `qsub` and `mpiexec` / `mpirun`.</span></span>
<span id="cb17-807"><a href="#cb17-807"></a><span class="st">  - `x4*`: **Aurora**</span></span>
<span id="cb17-808"><a href="#cb17-808"></a><span class="st">  - **Aurora**: `x4*` (or `aurora*` on login nodes)</span></span>
<span id="cb17-809"><a href="#cb17-809"></a><span class="st">  - **Sunspot**: `x1*` (or `uan*`)</span></span>
<span id="cb17-810"><a href="#cb17-810"></a><span class="st">  - **Sophia**: `sophia-*`</span></span>
<span id="cb17-811"><a href="#cb17-811"></a><span class="st">  - **Polaris** / **Sirius**: `x3*`</span></span>
<span id="cb17-812"><a href="#cb17-812"></a><span class="st">    - to determine between the two, we look at `"${PBS_O_HOST}"`</span></span>
<span id="cb17-813"><a href="#cb17-813"></a></span>
<span id="cb17-814"><a href="#cb17-814"></a></span>
<span id="cb17-815"><a href="#cb17-815"></a><span class="st">[^node-names]: At ALCF, if our `$(hostname)` starts with `x*`, we'</span>re on a</span>
<span id="cb17-816"><a href="#cb17-816"></a>    <span class="ex">compute</span> node.</span>
<span id="cb17-817"><a href="#cb17-817"></a></span>
<span id="cb17-818"><a href="#cb17-818"></a><span class="ex">-</span> <span class="pp">**</span>OLCF<span class="pp">**</span>: Using Slurm via <span class="kw">`</span><span class="ex">sbatch</span><span class="kw">`</span> / <span class="kw">`</span><span class="ex">srun</span><span class="kw">`</span>.</span>
<span id="cb17-819"><a href="#cb17-819"></a></span>
<span id="cb17-820"><a href="#cb17-820"></a>  <span class="ex">-</span> <span class="kw">`</span><span class="ex">frontier*</span><span class="kw">`</span>: <span class="pp">**</span>Frontier<span class="pp">**</span>, using Slurm</span>
<span id="cb17-821"><a href="#cb17-821"></a>  <span class="ex">-</span> <span class="kw">`</span><span class="ex">nid*</span><span class="kw">`</span>: Perlmutter, using Slurm</span>
<span id="cb17-822"><a href="#cb17-822"></a></span>
<span id="cb17-823"><a href="#cb17-823"></a></span>
<span id="cb17-824"><a href="#cb17-824"></a><span class="ex">-</span> Unknown machine: If <span class="kw">`</span><span class="va">$(</span><span class="fu">hostname</span><span class="va">)</span><span class="kw">`</span> does not match one of these patterns we</span>
<span id="cb17-825"><a href="#cb17-825"></a>  <span class="ex">assume</span> that we are running on an unknown machine and will try to use <span class="kw">`</span><span class="ex">mpirun</span><span class="kw">`</span></span>
<span id="cb17-826"><a href="#cb17-826"></a>  <span class="fu">as</span> our generic launch command</span>
<span id="cb17-827"><a href="#cb17-827"></a></span>
<span id="cb17-828"><a href="#cb17-828"></a></span>
<span id="cb17-829"><a href="#cb17-829"></a>  <span class="ex">Once</span> we have this, we can:</span>
<span id="cb17-830"><a href="#cb17-830"></a></span>
<span id="cb17-831"><a href="#cb17-831"></a>  <span class="ex">1.</span> Get <span class="kw">`</span><span class="ex">PBS_NODEFILE</span><span class="kw">`</span> from <span class="kw">`</span><span class="va">$(</span><span class="fu">hostname</span><span class="va">)</span><span class="kw">`</span>:</span>
<span id="cb17-832"><a href="#cb17-832"></a></span>
<span id="cb17-833"><a href="#cb17-833"></a>      <span class="ex">-</span> <span class="kw">`</span><span class="ex">ezpz_qsme_running</span><span class="kw">`</span>: For each <span class="er">(</span><span class="ex">running</span><span class="kw">)</span> <span class="ex">job</span> owned by <span class="kw">`</span><span class="va">${USER}</span><span class="kw">`</span>, print</span>
<span id="cb17-834"><a href="#cb17-834"></a>      <span class="ex">out</span> both the jobid as well as a list of hosts the job is running on,</span>
<span id="cb17-835"><a href="#cb17-835"></a>      <span class="ex">e.g.:</span></span>
<span id="cb17-836"><a href="#cb17-836"></a></span>
<span id="cb17-837"><a href="#cb17-837"></a>        <span class="kw">```</span><span class="fu">bash</span></span>
<span id="cb17-838"><a href="#cb17-838"></a>        <span class="op">&lt;</span>jobid0<span class="op">&gt;</span> host00 <span class="ex">host01</span> host02 host03 ...</span>
<span id="cb17-839"><a href="#cb17-839"></a>        <span class="op">&lt;</span>jobid1<span class="op">&gt;</span> host10 <span class="ex">host11</span> host12 host13 ...</span>
<span id="cb17-840"><a href="#cb17-840"></a>        <span class="ex">...</span></span>
<span id="cb17-841"><a href="#cb17-841"></a>        <span class="kw">```</span></span>
<span id="cb17-842"><a href="#cb17-842"></a></span>
<span id="cb17-843"><a href="#cb17-843"></a>      <span class="ex">-</span> <span class="kw">`</span><span class="ex">ezpz_get_pbs_nodefile_from_hostname</span><span class="kw">`</span>: Look for <span class="kw">`</span><span class="va">$(</span><span class="fu">hostname</span><span class="va">)</span><span class="kw">`</span> in the</span>
<span id="cb17-844"><a href="#cb17-844"></a>        <span class="ex">output</span> from the above command to determine our <span class="kw">`</span><span class="va">${PBS_JOBID}</span><span class="kw">`</span>.</span>
<span id="cb17-845"><a href="#cb17-845"></a></span>
<span id="cb17-846"><a href="#cb17-846"></a>        <span class="ex">Once</span> we<span class="st">'ve identified our `${PBS_JOBID}` we then know the location of</span></span>
<span id="cb17-847"><a href="#cb17-847"></a><span class="st">        our `${PBS_NODEFILE}` since they are named according to:</span></span>
<span id="cb17-848"><a href="#cb17-848"></a></span>
<span id="cb17-849"><a href="#cb17-849"></a><span class="st">        ```bash</span></span>
<span id="cb17-850"><a href="#cb17-850"></a><span class="st">        jobid=$(ezpz_qsme_running | grep "$(hostname)" | awk '</span>{print <span class="va">$1</span>}<span class="st">')</span></span>
<span id="cb17-851"><a href="#cb17-851"></a><span class="st">        prefix=/var/spool/pbs/aux</span></span>
<span id="cb17-852"><a href="#cb17-852"></a><span class="st">        match=$(/bin/ls "${prefix}" | grep "${jobid}")</span></span>
<span id="cb17-853"><a href="#cb17-853"></a><span class="st">        hostfile="${prefix}/${match}"</span></span>
<span id="cb17-854"><a href="#cb17-854"></a><span class="st">        ```</span></span>
<span id="cb17-855"><a href="#cb17-855"></a></span>
<span id="cb17-856"><a href="#cb17-856"></a><span class="st">  2. Identify number of available accelerators:</span></span>
<span id="cb17-857"><a href="#cb17-857"></a></span>
<span id="cb17-858"><a href="#cb17-858"></a></span>
<span id="cb17-859"><a href="#cb17-859"></a><span class="st">## ğŸ Python Library</span></span>
<span id="cb17-860"><a href="#cb17-860"></a></span>
<span id="cb17-861"><a href="#cb17-861"></a><span class="st">To install[^require-venv]:</span></span>
<span id="cb17-862"><a href="#cb17-862"></a></span>
<span id="cb17-863"><a href="#cb17-863"></a><span class="st">```bash</span></span>
<span id="cb17-864"><a href="#cb17-864"></a><span class="st">python3 -m pip install -e "git+https://github.com/saforem2/ezpz#egg=ezpz" --require-virtualenv</span></span>
<span id="cb17-865"><a href="#cb17-865"></a><span class="st">```</span></span>
<span id="cb17-866"><a href="#cb17-866"></a></span>
<span id="cb17-867"><a href="#cb17-867"></a><span class="st">[^require-venv]: Note the `--require-virtualenv` isn'</span>t _strictly_ required, but</span>
<span id="cb17-868"><a href="#cb17-868"></a>    <span class="ex">I</span> highly recommend to always try and work within a virtual environment,</span>
<span id="cb17-869"><a href="#cb17-869"></a>    <span class="ex">when</span> possible.</span>
<span id="cb17-870"><a href="#cb17-870"></a></span>
<span id="cb17-871"><a href="#cb17-871"></a><span class="op">&lt;</span>!--</span>
<span id="cb17-872"><a href="#cb17-872"></a><span class="ex">-</span> Clone repo<span class="pp">[^</span><span class="ss">location</span><span class="pp">]</span>:</span>
<span id="cb17-873"><a href="#cb17-873"></a></span>
<span id="cb17-874"><a href="#cb17-874"></a>   <span class="kw">```</span><span class="fu">bash</span></span>
<span id="cb17-875"><a href="#cb17-875"></a>   <span class="fu">git</span> clone https://github.com/saforem2/ezpz deps/ezpz</span>
<span id="cb17-876"><a href="#cb17-876"></a>   <span class="kw">```</span></span>
<span id="cb17-877"><a href="#cb17-877"></a></span>
<span id="cb17-878"><a href="#cb17-878"></a><span class="ex">[^location]:</span> _Where_, specifically, you clone it into <span class="er">(</span><span class="ex">e.g.</span> <span class="kw">`</span><span class="ex">deps/ezpz</span><span class="kw">`</span> here<span class="kw">)</span><span class="ex">,</span></span>
<span id="cb17-879"><a href="#cb17-879"></a>    <span class="ex">isn</span><span class="st">'t terribly important.</span></span>
<span id="cb17-880"><a href="#cb17-880"></a></span>
<span id="cb17-881"><a href="#cb17-881"></a><span class="st">    I usually choose to nest it inside a `deps/` directory to avoid the case</span></span>
<span id="cb17-882"><a href="#cb17-882"></a><span class="st">    where you have installed `ezpz` as a python library but you'</span><span class="ex">ve</span> additionally got</span>
<span id="cb17-883"><a href="#cb17-883"></a>    <span class="ex">a</span> folder named <span class="kw">`</span><span class="ex">ezpz</span><span class="kw">`</span> in your working directory.</span>
<span id="cb17-884"><a href="#cb17-884"></a></span>
<span id="cb17-885"><a href="#cb17-885"></a>    <span class="ex">For</span> example:</span>
<span id="cb17-886"><a href="#cb17-886"></a></span>
<span id="cb17-887"><a href="#cb17-887"></a>    <span class="kw">```</span><span class="fu">bash</span></span>
<span id="cb17-888"><a href="#cb17-888"></a>    <span class="ex">$</span> cd /path/to/your/project</span>
<span id="cb17-889"><a href="#cb17-889"></a>    <span class="ex">$</span> PBS_O_WORKDIR=<span class="va">$(</span><span class="bu">pwd</span><span class="va">)</span> source /dev/stdin <span class="op">&lt;&lt;&lt;</span> <span class="va">$(</span><span class="ex">curl</span> <span class="st">'https://raw.githubusercontent.com/saforem2/ezpz/refs/heads/main/src/ezpz/bin/utils.sh'</span><span class="va">)</span></span>
<span id="cb17-890"><a href="#cb17-890"></a>    <span class="ex">$</span> ezpz_setup_env  <span class="co"># just chains ezpz_setup_python + ezpz_setup_job</span></span>
<span id="cb17-891"><a href="#cb17-891"></a>    <span class="kw">(</span><span class="ex">venv</span><span class="kw">)</span> <span class="ex">$</span> python3 <span class="at">-m</span> pip install <span class="at">-e</span> <span class="st">"git+https://github.com/saforem2/ezpz#egg=ezpz"</span> <span class="at">--require-virtualenv</span></span>
<span id="cb17-892"><a href="#cb17-892"></a>    <span class="kw">```</span></span>
<span id="cb17-893"><a href="#cb17-893"></a></span>
<span id="cb17-894"><a href="#cb17-894"></a>    <span class="kw">```</span><span class="fu">bash</span></span>
<span id="cb17-895"><a href="#cb17-895"></a>    <span class="ex">$</span> git clone https://github.com/saforem2/ezpz</span>
<span id="cb17-896"><a href="#cb17-896"></a>    <span class="ex">$</span> python3 <span class="at">-m</span> pip install <span class="at">-e</span> ezpz</span>
<span id="cb17-897"><a href="#cb17-897"></a>    <span class="kw">```</span></span>
<span id="cb17-898"><a href="#cb17-898"></a><span class="ex">--</span><span class="op">&gt;</span></span>
<span id="cb17-899"><a href="#cb17-899"></a></span>
<span id="cb17-900"><a href="#cb17-900"></a></span>
<span id="cb17-901"><a href="#cb17-901"></a><span class="ex">-</span> ğŸ“‚ <span class="kw">`</span><span class="ex">ezpz</span><span class="kw">`</span> / <span class="kw">`</span><span class="ex">src</span><span class="kw">`</span> / <span class="pp">[</span><span class="ss">`ezpz/`</span><span class="pp">]</span><span class="er">(</span><span class="ex">https://github.com/saforem2/ezpz</span><span class="kw">)</span></span>
<span id="cb17-902"><a href="#cb17-902"></a>  <span class="ex">-</span> ğŸ“‚ <span class="pp">[</span><span class="ss">`bin/`</span><span class="pp">]</span><span class="er">(</span><span class="ex">https://github.com/saforem2/ezpz/blob/main/src/ezpz/bin/</span><span class="kw">)</span><span class="bu">:</span></span>
<span id="cb17-903"><a href="#cb17-903"></a>    <span class="ex">-</span> <span class="pp">[</span><span class="ss">`utils.sh`</span><span class="pp">]</span><span class="er">(</span><span class="ex">https://github.com/saforem2/ezpz/blob/main/src/ezpz/bin/utils.sh</span><span class="kw">)</span><span class="bu">:</span> Shell utilities for <span class="kw">`</span><span class="ex">ezpz</span><span class="kw">`</span></span>
<span id="cb17-904"><a href="#cb17-904"></a>  <span class="ex">-</span> ğŸ“‚ <span class="pp">[</span><span class="ss">`conf/`</span><span class="pp">]</span><span class="er">(</span><span class="ex">https://github.com/saforem2/ezpz/blob/main/src/ezpz/conf/</span><span class="kw">)</span><span class="bu">:</span></span>
<span id="cb17-905"><a href="#cb17-905"></a>    <span class="ex">-</span> âš™ï¸ <span class="pp">[</span><span class="ss">`config.yaml`</span><span class="pp">]</span><span class="er">(</span><span class="ex">https://github.com/saforem2/ezpz/blob/main/src/ezpz/conf/config.yaml</span><span class="kw">)</span><span class="bu">:</span>  Default <span class="kw">`</span><span class="ex">TrainConfig</span><span class="kw">`</span> object</span>
<span id="cb17-906"><a href="#cb17-906"></a>    <span class="ex">-</span> âš™ï¸ <span class="pp">[</span><span class="ss">`ds_config.json`</span><span class="pp">]</span><span class="er">(</span><span class="ex">https://github.com/saforem2/ezpz/blob/main/src/ezpz/conf/ds_config.json</span><span class="kw">)</span><span class="bu">:</span> DeepSpeed configuration</span>
<span id="cb17-907"><a href="#cb17-907"></a>  <span class="ex">-</span> ğŸ“‚ <span class="pp">[</span><span class="ss">`log/`</span><span class="pp">]</span><span class="er">(</span><span class="ex">https://github.com/saforem2/ezpz/blob/main/src/ezpz/log/</span><span class="kw">)</span><span class="bu">:</span> Logging configuration.</span>
<span id="cb17-908"><a href="#cb17-908"></a>  <span class="ex">-</span> ğŸ <span class="pp">[</span><span class="ss">`__about__.py`</span><span class="pp">]</span><span class="er">(</span><span class="ex">https://github.com/saforem2/ezpz/blob/main/src/ezpz/__about__.py</span><span class="kw">)</span><span class="bu">:</span> Version information</span>
<span id="cb17-909"><a href="#cb17-909"></a>  <span class="ex">-</span> ğŸ <span class="pp">[</span><span class="ss">`__init__.py`</span><span class="pp">]</span><span class="er">(</span><span class="ex">https://github.com/saforem2/ezpz/blob/main/src/ezpz/__init__.py</span><span class="kw">)</span><span class="bu">:</span> Main module</span>
<span id="cb17-910"><a href="#cb17-910"></a>  <span class="ex">-</span> ğŸ <span class="pp">[</span><span class="ss">`__main__.py`</span><span class="pp">]</span><span class="er">(</span><span class="ex">https://github.com/saforem2/ezpz/blob/main/src/ezpz/__main__.py</span><span class="kw">)</span><span class="bu">:</span> Entry point</span>
<span id="cb17-911"><a href="#cb17-911"></a>  <span class="ex">-</span> ğŸ <span class="pp">[</span><span class="ss">`configs.py`</span><span class="pp">]</span><span class="er">(</span><span class="ex">https://github.com/saforem2/ezpz/blob/main/src/ezpz/configs.py</span><span class="kw">)</span><span class="bu">:</span> Configuration module</span>
<span id="cb17-912"><a href="#cb17-912"></a>  <span class="ex">-</span> ğŸ<span class="pp">[</span><span class="ss">`cria.py`</span><span class="pp">]</span><span class="er">(</span><span class="ex">https://github.com/saforem2/ezpz/blob/main/src/ezpz/create.py</span><span class="kw">)</span><span class="bu">:</span> Baby Llama</span>
<span id="cb17-913"><a href="#cb17-913"></a>  <span class="ex">-</span> ğŸ<span class="pp">[</span><span class="ss">**`dist.py`**</span><span class="pp">]</span><span class="er">(</span><span class="ex">https://github.com/saforem2/ezpz/blob/main/src/ezpz/dist.py</span><span class="kw">)</span><span class="bu">:</span> Distributed training module</span>
<span id="cb17-914"><a href="#cb17-914"></a>  <span class="ex">-</span> ğŸ<span class="pp">[</span><span class="ss">`history.py`</span><span class="pp">]</span><span class="er">(</span><span class="ex">https://github.com/saforem2/ezpz/blob/main/src/ezpz/history.py</span><span class="kw">)</span><span class="bu">:</span> History module</span>
<span id="cb17-915"><a href="#cb17-915"></a>  <span class="ex">-</span> ğŸ<span class="pp">[</span><span class="ss">`jobs.py`</span><span class="pp">]</span><span class="er">(</span><span class="ex">https://github.com/saforem2/ezpz/blob/main/src/ezpz/jobs.py</span><span class="kw">)</span><span class="bu">:</span> Jobs module</span>
<span id="cb17-916"><a href="#cb17-916"></a>  <span class="ex">-</span> ğŸ<span class="pp">[</span><span class="ss">`model.py`</span><span class="pp">]</span><span class="er">(</span><span class="ex">https://github.com/saforem2/ezpz/blob/main/src/ezpz/model.py</span><span class="kw">)</span><span class="bu">:</span> Model module</span>
<span id="cb17-917"><a href="#cb17-917"></a>  <span class="ex">-</span> ğŸ<span class="pp">[</span><span class="ss">`plot.py`</span><span class="pp">]</span><span class="er">(</span><span class="ex">https://github.com/saforem2/ezpz/blob/main/src/ezpz/plot.py</span><span class="kw">)</span><span class="bu">:</span> Plot modul</span>
<span id="cb17-918"><a href="#cb17-918"></a>  <span class="ex">-</span> ğŸ<span class="pp">[</span><span class="ss">`profile.py`</span><span class="pp">]</span><span class="er">(</span><span class="ex">https://github.com/saforem2/ezpz/blob/main/src/ezpz/profile.py</span><span class="kw">)</span><span class="bu">:</span> Profile module</span>
<span id="cb17-919"><a href="#cb17-919"></a>  <span class="ex">-</span> ğŸ<span class="pp">[</span><span class="ss">`runtime.py`</span><span class="pp">]</span><span class="er">(</span><span class="ex">https://github.com/saforem2/ezpz/blob/main/src/ezpz/runtime.py</span><span class="kw">)</span><span class="bu">:</span> Runtime module</span>
<span id="cb17-920"><a href="#cb17-920"></a>  <span class="ex">-</span> ğŸ<span class="pp">[</span><span class="ss">`test.py`</span><span class="pp">]</span><span class="er">(</span><span class="ex">https://github.com/saforem2/ezpz/blob/main/src/ezpz/test.py</span><span class="kw">)</span><span class="bu">:</span> Test module</span>
<span id="cb17-921"><a href="#cb17-921"></a>  <span class="ex">-</span> ğŸ<span class="pp">[</span><span class="ss">**`test_dist.py`**</span><span class="pp">]</span><span class="er">(</span><span class="ex">https://github.com/saforem2/ezpz/blob/main/src/ezpz/test_dist.py</span><span class="kw">)</span><span class="bu">:</span> Distributed training test module</span>
<span id="cb17-922"><a href="#cb17-922"></a>  <span class="ex">-</span> ğŸ<span class="pp">[</span><span class="ss">`train.py`</span><span class="pp">]</span><span class="er">(</span><span class="ex">https://github.com/saforem2/ezpz/blob/main/src/ezpz/train.py</span><span class="kw">)</span><span class="bu">:</span> train module</span>
<span id="cb17-923"><a href="#cb17-923"></a>  <span class="ex">-</span> ğŸ<span class="pp">[</span><span class="ss">`trainer.py`</span><span class="pp">]</span><span class="er">(</span><span class="ex">https://github.com/saforem2/ezpz/blob/main/src/ezpz/trainer.py</span><span class="kw">)</span><span class="bu">:</span> trainer module</span>
<span id="cb17-924"><a href="#cb17-924"></a>  <span class="ex">-</span> ğŸ<span class="pp">[</span><span class="ss">`utils.py`</span><span class="pp">]</span><span class="er">(</span><span class="ex">https://github.com/saforem2/ezpz/blob/main/src/ezpz/utils.py</span><span class="kw">)</span><span class="bu">:</span> utility module</span>
<span id="cb17-925"><a href="#cb17-925"></a></span>
<span id="cb17-926"><a href="#cb17-926"></a></span>
<span id="cb17-927"><a href="#cb17-927"></a></span>
<span id="cb17-928"><a href="#cb17-928"></a></span>
<span id="cb17-929"><a href="#cb17-929"></a></span>
<span id="cb17-930"><a href="#cb17-930"></a></span>
<span id="cb17-931"><a href="#cb17-931"></a><span class="kw">```</span><span class="fu">bash</span></span>
<span id="cb17-932"><a href="#cb17-932"></a><span class="ex">ğŸ“‚</span> /ezpz/src/ezpz/</span>
<span id="cb17-933"><a href="#cb17-933"></a><span class="ex">â”£â”â”</span> ğŸ“‚ bin/</span>
<span id="cb17-934"><a href="#cb17-934"></a><span class="ex">â”ƒ</span>   â”£â”â” ğŸ“„ affinity.sh</span>
<span id="cb17-935"><a href="#cb17-935"></a><span class="ex">â”ƒ</span>   â”£â”â” ğŸ“„ getjobenv</span>
<span id="cb17-936"><a href="#cb17-936"></a><span class="ex">â”ƒ</span>   â”£â”â” ğŸ“„ savejobenv</span>
<span id="cb17-937"><a href="#cb17-937"></a><span class="ex">â”ƒ</span>   â”£â”â” ğŸ“„ saveslurmenv</span>
<span id="cb17-938"><a href="#cb17-938"></a><span class="ex">â”ƒ</span>   â”£â”â” ğŸ“„ setup.sh</span>
<span id="cb17-939"><a href="#cb17-939"></a><span class="ex">â”ƒ</span>   â”£â”â” ğŸ“„ train.sh</span>
<span id="cb17-940"><a href="#cb17-940"></a><span class="ex">â”ƒ</span>   â”—â”â” ğŸ“„ utils.sh</span>
<span id="cb17-941"><a href="#cb17-941"></a><span class="ex">â”£â”â”</span> ğŸ“‚ conf/</span>
<span id="cb17-942"><a href="#cb17-942"></a><span class="ex">â”ƒ</span>   â”£â”â” ğŸ“‚ hydra/</span>
<span id="cb17-943"><a href="#cb17-943"></a><span class="ex">â”ƒ</span>   â”ƒ   â”—â”â” ğŸ“‚ job_logging/</span>
<span id="cb17-944"><a href="#cb17-944"></a><span class="ex">â”ƒ</span>   â”ƒ       â”£â”â” âš™ï¸ colorlog1.yaml</span>
<span id="cb17-945"><a href="#cb17-945"></a><span class="ex">â”ƒ</span>   â”ƒ       â”£â”â” âš™ï¸ custom.yaml</span>
<span id="cb17-946"><a href="#cb17-946"></a><span class="ex">â”ƒ</span>   â”ƒ       â”—â”â” âš™ï¸ enrich.yaml</span>
<span id="cb17-947"><a href="#cb17-947"></a><span class="ex">â”ƒ</span>   â”£â”â” ğŸ“‚ logdir/</span>
<span id="cb17-948"><a href="#cb17-948"></a><span class="ex">â”ƒ</span>   â”ƒ   â”—â”â” âš™ï¸ default.yaml</span>
<span id="cb17-949"><a href="#cb17-949"></a><span class="ex">â”ƒ</span>   â”£â”â” âš™ï¸ config.yaml</span>
<span id="cb17-950"><a href="#cb17-950"></a><span class="ex">â”ƒ</span>   â”£â”â” ğŸ“„ ds_config.json</span>
<span id="cb17-951"><a href="#cb17-951"></a><span class="ex">â”ƒ</span>   â”—â”â” âš™ï¸ ds_config.yaml</span>
<span id="cb17-952"><a href="#cb17-952"></a><span class="ex">â”£â”â”</span> ğŸ“‚ log/</span>
<span id="cb17-953"><a href="#cb17-953"></a><span class="ex">â”ƒ</span>   â”£â”â” ğŸ“‚ conf/</span>
<span id="cb17-954"><a href="#cb17-954"></a><span class="ex">â”ƒ</span>   â”ƒ   â”—â”â” ğŸ“‚ hydra/</span>
<span id="cb17-955"><a href="#cb17-955"></a><span class="ex">â”ƒ</span>   â”ƒ       â”—â”â” ğŸ“‚ job_logging/</span>
<span id="cb17-956"><a href="#cb17-956"></a><span class="ex">â”ƒ</span>   â”ƒ           â”—â”â” âš™ï¸ enrich.yaml</span>
<span id="cb17-957"><a href="#cb17-957"></a><span class="ex">â”ƒ</span>   â”£â”â” ğŸ __init__.py</span>
<span id="cb17-958"><a href="#cb17-958"></a><span class="ex">â”ƒ</span>   â”£â”â” ğŸ __main__.py</span>
<span id="cb17-959"><a href="#cb17-959"></a><span class="ex">â”ƒ</span>   â”£â”â” ğŸ config.py</span>
<span id="cb17-960"><a href="#cb17-960"></a><span class="ex">â”ƒ</span>   â”£â”â” ğŸ console.py</span>
<span id="cb17-961"><a href="#cb17-961"></a><span class="ex">â”ƒ</span>   â”£â”â” ğŸ handler.py</span>
<span id="cb17-962"><a href="#cb17-962"></a><span class="ex">â”ƒ</span>   â”£â”â” ğŸ style.py</span>
<span id="cb17-963"><a href="#cb17-963"></a><span class="ex">â”ƒ</span>   â”£â”â” ğŸ test.py</span>
<span id="cb17-964"><a href="#cb17-964"></a><span class="ex">â”ƒ</span>   â”—â”â” ğŸ test_log.py</span>
<span id="cb17-965"><a href="#cb17-965"></a><span class="ex">â”£â”â”</span> ğŸ __about__.py</span>
<span id="cb17-966"><a href="#cb17-966"></a><span class="ex">â”£â”â”</span> ğŸ __init__.py</span>
<span id="cb17-967"><a href="#cb17-967"></a><span class="ex">â”£â”â”</span> ğŸ __main__.py</span>
<span id="cb17-968"><a href="#cb17-968"></a><span class="ex">â”£â”â”</span> ğŸ configs.py</span>
<span id="cb17-969"><a href="#cb17-969"></a><span class="ex">â”£â”â”</span> ğŸ cria.py</span>
<span id="cb17-970"><a href="#cb17-970"></a><span class="ex">â”£â”â”</span> ğŸ dist.py</span>
<span id="cb17-971"><a href="#cb17-971"></a><span class="ex">â”£â”â”</span> ğŸ history.py</span>
<span id="cb17-972"><a href="#cb17-972"></a><span class="ex">â”£â”â”</span> ğŸ jobs.py</span>
<span id="cb17-973"><a href="#cb17-973"></a><span class="ex">â”£â”â”</span> ğŸ loadjobenv.py</span>
<span id="cb17-974"><a href="#cb17-974"></a><span class="ex">â”£â”â”</span> ğŸ model.py</span>
<span id="cb17-975"><a href="#cb17-975"></a><span class="ex">â”£â”â”</span> ğŸ plot.py</span>
<span id="cb17-976"><a href="#cb17-976"></a><span class="ex">â”£â”â”</span> ğŸ profile.py</span>
<span id="cb17-977"><a href="#cb17-977"></a><span class="ex">â”£â”â”</span> ğŸ runtime.py</span>
<span id="cb17-978"><a href="#cb17-978"></a><span class="ex">â”£â”â”</span> ğŸ savejobenv.py</span>
<span id="cb17-979"><a href="#cb17-979"></a><span class="ex">â”£â”â”</span> ğŸ test.py</span>
<span id="cb17-980"><a href="#cb17-980"></a><span class="ex">â”£â”â”</span> ğŸ test_dist.py</span>
<span id="cb17-981"><a href="#cb17-981"></a><span class="ex">â”£â”â”</span> ğŸ train.py</span>
<span id="cb17-982"><a href="#cb17-982"></a><span class="ex">â”£â”â”</span> ğŸ trainer.py</span>
<span id="cb17-983"><a href="#cb17-983"></a><span class="ex">â”—â”â”</span> ğŸ utils.py</span>
<span id="cb17-984"><a href="#cb17-984"></a><span class="kw">```</span></span>
<span id="cb17-985"><a href="#cb17-985"></a></span>
<span id="cb17-986"><a href="#cb17-986"></a></span>
<span id="cb17-987"><a href="#cb17-987"></a>   <span class="op">&lt;</span>!-- <span class="kw">```</span><span class="fu">bash</span> <span class="at">--</span><span class="op">&gt;</span></span>
<span id="cb17-988"><a href="#cb17-988"></a>   <span class="op">&lt;</span>!-- <span class="st">"</span><span class="va">${PBS_O_WORKDIR</span><span class="op">:-</span><span class="va">$(</span><span class="bu">pwd</span><span class="va">)}</span><span class="st">/venvs/</span><span class="va">${CONDA_NAME}</span><span class="st">"</span> <span class="at">--</span><span class="op">&gt;</span></span>
<span id="cb17-989"><a href="#cb17-989"></a>   <span class="op">&lt;</span>!-- <span class="kw">```</span> <span class="at">--</span><span class="op">&gt;</span></span>
<span id="cb17-990"><a href="#cb17-990"></a></span>
<span id="cb17-991"><a href="#cb17-991"></a>   <span class="op">&lt;</span>!-- <span class="ex">Ideally,</span> following step 1., we are now inside a suitable <span class="kw">`</span><span class="ex">conda</span><span class="kw">`</span> <span class="at">--</span><span class="op">&gt;</span></span>
<span id="cb17-992"><a href="#cb17-992"></a>   <span class="op">&lt;</span>!-- <span class="ex">environment.</span> <span class="at">--</span><span class="op">&gt;</span></span>
<span id="cb17-993"><a href="#cb17-993"></a>   <span class="op">&lt;</span>!----<span class="op">&gt;</span></span>
<span id="cb17-994"><a href="#cb17-994"></a>   <span class="op">&lt;</span>!-- <span class="ex">Next,</span> we will look for a virtual environment located in: <span class="at">--</span><span class="op">&gt;</span></span>
<span id="cb17-995"><a href="#cb17-995"></a>   <span class="op">&lt;</span>!----<span class="op">&gt;</span></span>
<span id="cb17-996"><a href="#cb17-996"></a>   <span class="op">&lt;</span>!-- <span class="kw">```</span><span class="fu">bash</span> <span class="at">--</span><span class="op">&gt;</span></span>
<span id="cb17-997"><a href="#cb17-997"></a>   <span class="op">&lt;</span>!-- <span class="ex">venvs/</span><span class="va">${CONDA_NAME}</span> <span class="at">--</span><span class="op">&gt;</span></span>
<span id="cb17-998"><a href="#cb17-998"></a>   <span class="op">&lt;</span>!-- <span class="kw">```</span> <span class="at">--</span><span class="op">&gt;</span></span>
<span id="cb17-999"><a href="#cb17-999"></a>   <span class="op">&lt;</span>!----<span class="op">&gt;</span></span>
<span id="cb17-1000"><a href="#cb17-1000"></a>   <span class="op">&lt;</span>!-- <span class="ex">If</span> this exists, activate it and continue. <span class="at">--</span><span class="op">&gt;</span></span>
<span id="cb17-1001"><a href="#cb17-1001"></a>   <span class="op">&lt;</span>!-- <span class="ex">Otherwise,</span> we will create a new <span class="kw">`</span><span class="ex">venv</span><span class="kw">`</span> via: <span class="at">--</span><span class="op">&gt;</span></span>
<span id="cb17-1002"><a href="#cb17-1002"></a>   <span class="op">&lt;</span>!----<span class="op">&gt;</span></span>
<span id="cb17-1003"><a href="#cb17-1003"></a></span>
<span id="cb17-1004"><a href="#cb17-1004"></a><span class="op">&lt;</span>!-- <span class="kw">`</span><span class="ex">ezpz_setup_venv</span><span class="kw">`</span>:  <span class="at">--</span><span class="op">&gt;</span></span>
<span id="cb17-1005"><a href="#cb17-1005"></a></span>
<span id="cb17-1006"><a href="#cb17-1006"></a><span class="op">&lt;</span>!-- <span class="ex">base</span> <span class="kw">`</span><span class="ex">conda</span><span class="kw">`</span> environment to build a <span class="kw">`</span><span class="ex">venv</span><span class="kw">`</span> on top of <span class="at">--</span><span class="op">&gt;</span></span>
<span id="cb17-1007"><a href="#cb17-1007"></a><span class="op">&lt;</span>!-- <span class="ex">Build</span> <span class="er">(</span><span class="ex">or</span> activate, if already exists<span class="kw">)</span> <span class="ex">a</span> virtual environment on top of this  <span class="at">--</span><span class="op">&gt;</span></span>
<span id="cb17-1008"><a href="#cb17-1008"></a></span>
<span id="cb17-1009"><a href="#cb17-1009"></a><span class="op">&lt;</span>!-- <span class="ex">Place</span> you inside a <span class="kw">`</span><span class="ex">venv/</span><span class="va">${CONDA_NAME}</span><span class="kw">`</span> <span class="er">(</span><span class="ex">building</span> it if needed<span class="kw">)</span>  <span class="ex">--</span><span class="op">&gt;</span></span>
<span id="cb17-1010"><a href="#cb17-1010"></a><span class="op">&lt;</span>!-- <span class="ex">This</span> is done in two parts. <span class="at">--</span><span class="op">&gt;</span></span>
<span id="cb17-1011"><a href="#cb17-1011"></a><span class="op">&lt;</span>!----<span class="op">&gt;</span></span>
<span id="cb17-1012"><a href="#cb17-1012"></a><span class="op">&lt;</span>!-- <span class="ex">1.</span> <span class="kw">`</span><span class="ex">ezpz_setup_conda</span><span class="kw">`</span>: Will first attempt to load and activate a suitable <span class="at">--</span><span class="op">&gt;</span></span>
<span id="cb17-1013"><a href="#cb17-1013"></a><span class="op">&lt;</span>!--   <span class="kw">`</span><span class="ex">conda</span><span class="kw">`</span> environment. <span class="at">--</span><span class="op">&gt;</span></span>
<span id="cb17-1014"><a href="#cb17-1014"></a></span>
<span id="cb17-1015"><a href="#cb17-1015"></a></span>
<span id="cb17-1016"><a href="#cb17-1016"></a><span class="ex">[^completions]:</span> Plus this is useful for tab-completions in your shell, e.g.:</span>
<span id="cb17-1017"><a href="#cb17-1017"></a></span>
<span id="cb17-1018"><a href="#cb17-1018"></a>    <span class="kw">```</span><span class="fu">bash</span></span>
<span id="cb17-1019"><a href="#cb17-1019"></a>    <span class="ex">$</span> ezpz_<span class="op">&lt;</span>TAB<span class="op">&gt;</span></span>
<span id="cb17-1020"><a href="#cb17-1020"></a>    <span class="ex">ezpz_check_and_kill_if_running</span></span>
<span id="cb17-1021"><a href="#cb17-1021"></a>    <span class="ex">ezpz_get_dist_launch_cmd</span></span>
<span id="cb17-1022"><a href="#cb17-1022"></a>    <span class="ex">ezpz_get_job_env</span></span>
<span id="cb17-1023"><a href="#cb17-1023"></a>    <span class="ex">--More--</span></span>
<span id="cb17-1024"><a href="#cb17-1024"></a>    <span class="kw">```</span></span>
<span id="cb17-1025"><a href="#cb17-1025"></a></span>
<span id="cb17-1026"><a href="#cb17-1026"></a><span class="op">&lt;</span>!-- <span class="kw">```</span><span class="fu">bash</span> <span class="at">--</span><span class="op">&gt;</span></span>
<span id="cb17-1027"><a href="#cb17-1027"></a><span class="op">&lt;</span>!-- <span class="ex">$</span> ezpz_<span class="op">&lt;</span>TAB<span class="op">&gt;</span> --<span class="op">&gt;</span></span>
<span id="cb17-1028"><a href="#cb17-1028"></a><span class="op">&lt;</span>!-- <span class="ex">ezpz_check_and_kill_if_running</span> <span class="at">--</span><span class="op">&gt;</span></span>
<span id="cb17-1029"><a href="#cb17-1029"></a><span class="op">&lt;</span>!-- <span class="ex">ezpz_get_dist_launch_cmd</span> <span class="at">--</span><span class="op">&gt;</span></span>
<span id="cb17-1030"><a href="#cb17-1030"></a><span class="op">&lt;</span>!-- <span class="ex">ezpz_get_job_env</span> <span class="at">--</span><span class="op">&gt;</span></span>
<span id="cb17-1031"><a href="#cb17-1031"></a><span class="op">&lt;</span>!-- <span class="ex">ezpz_get_jobenv_file</span> <span class="at">--</span><span class="op">&gt;</span></span>
<span id="cb17-1032"><a href="#cb17-1032"></a><span class="op">&lt;</span>!-- <span class="ex">ezpz_get_jobid_from_hostname</span> <span class="at">--</span><span class="op">&gt;</span></span>
<span id="cb17-1033"><a href="#cb17-1033"></a><span class="op">&lt;</span>!-- <span class="ex">ezpz_get_machine_name</span> <span class="at">--</span><span class="op">&gt;</span></span>
<span id="cb17-1034"><a href="#cb17-1034"></a><span class="op">&lt;</span>!-- <span class="ex">ezpz_get_num_gpus_nvidia</span> <span class="at">--</span><span class="op">&gt;</span></span>
<span id="cb17-1035"><a href="#cb17-1035"></a><span class="op">&lt;</span>!-- <span class="ex">ezpz_get_num_gpus_per_host</span> <span class="at">--</span><span class="op">&gt;</span></span>
<span id="cb17-1036"><a href="#cb17-1036"></a><span class="op">&lt;</span>!-- <span class="ex">ezpz_get_num_gpus_total</span> <span class="at">--</span><span class="op">&gt;</span></span>
<span id="cb17-1037"><a href="#cb17-1037"></a><span class="op">&lt;</span>!-- <span class="ex">ezpz_get_num_hosts</span> <span class="at">--</span><span class="op">&gt;</span></span>
<span id="cb17-1038"><a href="#cb17-1038"></a><span class="op">&lt;</span>!-- <span class="ex">ezpz_get_num_xpus</span> <span class="at">--</span><span class="op">&gt;</span></span>
<span id="cb17-1039"><a href="#cb17-1039"></a><span class="op">&lt;</span>!-- <span class="ex">ezpz_get_pbs_env</span> <span class="at">--</span><span class="op">&gt;</span></span>
<span id="cb17-1040"><a href="#cb17-1040"></a><span class="op">&lt;</span>!-- <span class="ex">ezpz_get_pbs_nodefile_from_hostname</span> <span class="at">--</span><span class="op">&gt;</span></span>
<span id="cb17-1041"><a href="#cb17-1041"></a><span class="op">&lt;</span>!-- <span class="ex">ezpz_get_scheduler_type</span> <span class="at">--</span><span class="op">&gt;</span></span>
<span id="cb17-1042"><a href="#cb17-1042"></a><span class="op">&lt;</span>!-- <span class="ex">ezpz_get_shell_name</span> <span class="at">--</span><span class="op">&gt;</span></span>
<span id="cb17-1043"><a href="#cb17-1043"></a><span class="op">&lt;</span>!-- <span class="ex">ezpz_get_slurm_env</span> <span class="at">--</span><span class="op">&gt;</span></span>
<span id="cb17-1044"><a href="#cb17-1044"></a><span class="op">&lt;</span>!-- <span class="ex">ezpz_get_slurm_running_jobid</span> <span class="at">--</span><span class="op">&gt;</span></span>
<span id="cb17-1045"><a href="#cb17-1045"></a><span class="op">&lt;</span>!-- <span class="ex">ezpz_get_slurm_running_nodelist</span> <span class="at">--</span><span class="op">&gt;</span></span>
<span id="cb17-1046"><a href="#cb17-1046"></a><span class="op">&lt;</span>!-- <span class="ex">ezpz_get_tstamp</span> <span class="at">--</span><span class="op">&gt;</span></span>
<span id="cb17-1047"><a href="#cb17-1047"></a><span class="op">&lt;</span>!-- <span class="ex">ezpz_getjobenv_main</span> <span class="at">--</span><span class="op">&gt;</span></span>
<span id="cb17-1048"><a href="#cb17-1048"></a><span class="op">&lt;</span>!-- <span class="ex">ezpz_make_slurm_nodefile</span> <span class="at">--</span><span class="op">&gt;</span></span>
<span id="cb17-1049"><a href="#cb17-1049"></a><span class="op">&lt;</span>!-- <span class="ex">ezpz_parse_hostfile</span> <span class="at">--</span><span class="op">&gt;</span></span>
<span id="cb17-1050"><a href="#cb17-1050"></a><span class="op">&lt;</span>!-- <span class="ex">ezpz_print_hosts</span> <span class="at">--</span><span class="op">&gt;</span></span>
<span id="cb17-1051"><a href="#cb17-1051"></a><span class="op">&lt;</span>!-- <span class="ex">ezpz_print_job_env</span> <span class="at">--</span><span class="op">&gt;</span></span>
<span id="cb17-1052"><a href="#cb17-1052"></a><span class="op">&lt;</span>!-- <span class="ex">ezpz_qsme_running</span> <span class="at">--</span><span class="op">&gt;</span></span>
<span id="cb17-1053"><a href="#cb17-1053"></a><span class="op">&lt;</span>!-- <span class="ex">ezpz_reset_pbs_vars</span> <span class="at">--</span><span class="op">&gt;</span></span>
<span id="cb17-1054"><a href="#cb17-1054"></a><span class="op">&lt;</span>!-- <span class="ex">ezpz_save_deepspeed_env</span> <span class="at">--</span><span class="op">&gt;</span></span>
<span id="cb17-1055"><a href="#cb17-1055"></a><span class="op">&lt;</span>!-- <span class="ex">ezpz_save_dotenv</span> <span class="at">--</span><span class="op">&gt;</span></span>
<span id="cb17-1056"><a href="#cb17-1056"></a><span class="op">&lt;</span>!-- <span class="ex">ezpz_save_ds_env</span> <span class="at">--</span><span class="op">&gt;</span></span>
<span id="cb17-1057"><a href="#cb17-1057"></a><span class="op">&lt;</span>!-- <span class="ex">ezpz_save_pbs_env</span> <span class="at">--</span><span class="op">&gt;</span></span>
<span id="cb17-1058"><a href="#cb17-1058"></a><span class="op">&lt;</span>!-- <span class="ex">ezpz_save_slurm_env</span> <span class="at">--</span><span class="op">&gt;</span></span>
<span id="cb17-1059"><a href="#cb17-1059"></a><span class="op">&lt;</span>!-- <span class="ex">ezpz_savejobenv_main</span> <span class="at">--</span><span class="op">&gt;</span></span>
<span id="cb17-1060"><a href="#cb17-1060"></a><span class="op">&lt;</span>!-- <span class="ex">ezpz_setup_alcf</span> <span class="at">--</span><span class="op">&gt;</span></span>
<span id="cb17-1061"><a href="#cb17-1061"></a><span class="op">&lt;</span>!-- <span class="ex">ezpz_setup_conda</span> <span class="at">--</span><span class="op">&gt;</span></span>
<span id="cb17-1062"><a href="#cb17-1062"></a><span class="op">&lt;</span>!-- <span class="ex">ezpz_setup_conda_aurora</span> <span class="at">--</span><span class="op">&gt;</span></span>
<span id="cb17-1063"><a href="#cb17-1063"></a><span class="op">&lt;</span>!-- <span class="ex">ezpz_setup_conda_frontier</span> <span class="at">--</span><span class="op">&gt;</span></span>
<span id="cb17-1064"><a href="#cb17-1064"></a><span class="op">&lt;</span>!-- <span class="ex">ezpz_setup_conda_polaris</span> <span class="at">--</span><span class="op">&gt;</span></span>
<span id="cb17-1065"><a href="#cb17-1065"></a><span class="op">&lt;</span>!-- <span class="ex">ezpz_setup_conda_sirius</span> <span class="at">--</span><span class="op">&gt;</span></span>
<span id="cb17-1066"><a href="#cb17-1066"></a><span class="op">&lt;</span>!-- <span class="ex">ezpz_setup_conda_sophia</span> <span class="at">--</span><span class="op">&gt;</span></span>
<span id="cb17-1067"><a href="#cb17-1067"></a><span class="op">&lt;</span>!-- <span class="ex">ezpz_setup_conda_sunspot</span> <span class="at">--</span><span class="op">&gt;</span></span>
<span id="cb17-1068"><a href="#cb17-1068"></a><span class="op">&lt;</span>!-- <span class="ex">ezpz_setup_host</span> <span class="at">--</span><span class="op">&gt;</span></span>
<span id="cb17-1069"><a href="#cb17-1069"></a><span class="op">&lt;</span>!-- <span class="ex">ezpz_setup_host_old</span> <span class="at">--</span><span class="op">&gt;</span></span>
<span id="cb17-1070"><a href="#cb17-1070"></a><span class="op">&lt;</span>!-- <span class="ex">ezpz_setup_host_pbs</span> <span class="at">--</span><span class="op">&gt;</span></span>
<span id="cb17-1071"><a href="#cb17-1071"></a><span class="op">&lt;</span>!-- <span class="ex">ezpz_setup_host_slurm</span> <span class="at">--</span><span class="op">&gt;</span></span>
<span id="cb17-1072"><a href="#cb17-1072"></a><span class="op">&lt;</span>!-- <span class="ex">ezpz_setup_job</span> <span class="at">--</span><span class="op">&gt;</span></span>
<span id="cb17-1073"><a href="#cb17-1073"></a><span class="op">&lt;</span>!-- <span class="ex">--More--</span> <span class="at">--</span><span class="op">&gt;</span></span>
<span id="cb17-1074"><a href="#cb17-1074"></a><span class="op">&lt;</span>!-- <span class="kw">```</span> <span class="at">--</span><span class="op">&gt;</span></span>
<span id="cb17-1075"><a href="#cb17-1075"></a></span>
<span id="cb17-1076"><a href="#cb17-1076"></a><span class="op">&lt;</span>!--</span>
<span id="cb17-1077"><a href="#cb17-1077"></a><span class="ex">One</span> of the major frustrations I had when running and testing distributed</span>
<span id="cb17-1078"><a href="#cb17-1078"></a><span class="ex">applications</span> was the amount of overhead needed simply to <span class="st">"run"</span> the set of</span>
<span id="cb17-1079"><a href="#cb17-1079"></a><span class="ex">commands</span> I wanted to.</span>
<span id="cb17-1080"><a href="#cb17-1080"></a></span>
<span id="cb17-1081"><a href="#cb17-1081"></a><span class="ex">We</span> would like to write our applications in such a way that they are independent</span>
<span id="cb17-1082"><a href="#cb17-1082"></a><span class="ex">of</span> the machine, job scheduler and accelerator type used.</span>
<span id="cb17-1083"><a href="#cb17-1083"></a></span>
<span id="cb17-1084"><a href="#cb17-1084"></a><span class="ex">are</span> completely</span>
<span id="cb17-1085"><a href="#cb17-1085"></a><span class="ex">independent</span> of the details of our job scheduler</span>
<span id="cb17-1086"><a href="#cb17-1086"></a><span class="ex">scale</span></span>
<span id="cb17-1087"><a href="#cb17-1087"></a><span class="ex">automatically</span> with the resources allocated by our job scheduler.</span>
<span id="cb17-1088"><a href="#cb17-1088"></a><span class="op">&lt;</span>!--</span>
<span id="cb17-1089"><a href="#cb17-1089"></a><span class="ex">In</span> order to do this, we need a mechanism for determining the </span>
<span id="cb17-1090"><a href="#cb17-1090"></a><span class="ex">the</span> amount of resources ava</span>
<span id="cb17-1091"><a href="#cb17-1091"></a></span>
<span id="cb17-1092"><a href="#cb17-1092"></a><span class="ex">In</span> order to do this, there is some <span class="er">(</span><span class="ex">relatively</span> simple<span class="kw">)</span> <span class="ex">setup</span> and calculations</span>
<span id="cb17-1093"><a href="#cb17-1093"></a><span class="ex">that</span> must </span>
<span id="cb17-1094"><a href="#cb17-1094"></a></span>
<span id="cb17-1095"><a href="#cb17-1095"></a><span class="ex">are</span> able to run</span>
<span id="cb17-1096"><a href="#cb17-1096"></a><span class="ex">on</span> an arbitrary configuration of resources allocated</span>
<span id="cb17-1097"><a href="#cb17-1097"></a><span class="ex">We</span> provide a simple mechanism for dynamically setting up the runtime</span>
<span id="cb17-1098"><a href="#cb17-1098"></a></span>
<span id="cb17-1099"><a href="#cb17-1099"></a><span class="ex">environment</span> when allocated a set of resources through a job scheduler.</span>
<span id="cb17-1100"><a href="#cb17-1100"></a><span class="ex">our</span> environment to run python applications across any number of GPUs.</span>
<span id="cb17-1101"><a href="#cb17-1101"></a></span>
<span id="cb17-1102"><a href="#cb17-1102"></a><span class="ex">environment</span> to </span>
<span id="cb17-1103"><a href="#cb17-1103"></a><span class="op">&lt;</span>!--</span>
<span id="cb17-1104"><a href="#cb17-1104"></a>    <span class="ex">on</span> ALCF:</span>
<span id="cb17-1105"><a href="#cb17-1105"></a>    <span class="ex">setup</span> conda + venv <span class="er">(</span><span class="ex">creating</span> if needed<span class="kw">)</span></span>
<span id="cb17-1106"><a href="#cb17-1106"></a>    <span class="ex">from</span> inside a {PBS, SLURM} job, this will:</span>
<span id="cb17-1107"><a href="#cb17-1107"></a>    <span class="ex">-</span> do some sleuthing to determine specifics of active job </span>
<span id="cb17-1108"><a href="#cb17-1108"></a>    <span class="ex">-</span> number of nodes available</span>
<span id="cb17-1109"><a href="#cb17-1109"></a>    <span class="ex">-</span> how many GPUs are on each of them</span>
<span id="cb17-1110"><a href="#cb17-1110"></a>    <span class="ex">-</span> what type of GPUs they are</span>
<span id="cb17-1111"><a href="#cb17-1111"></a>    <span class="ex">-</span> what machine am I on</span>
<span id="cb17-1112"><a href="#cb17-1112"></a>    <span class="ex">-</span> etc.</span>
<span id="cb17-1113"><a href="#cb17-1113"></a>    <span class="cf">then</span><span class="ex">,</span> with this information, we can fill in the details of the</span>
<span id="cb17-1114"><a href="#cb17-1114"></a>    <span class="ex">{mpirun,</span>  mpiexec, srun} command that we will use to launch our</span>
<span id="cb17-1115"><a href="#cb17-1115"></a>    <span class="ex">executable</span> <span class="er">(</span><span class="kw">`</span><span class="ex">python3</span><span class="kw">`</span>, in this case<span class="kw">)</span> <span class="ex">across</span> all the accelerators in our job.</span>
<span id="cb17-1116"><a href="#cb17-1116"></a><span class="op">&lt;</span>!-- <span class="ex">To</span> setup Python, run: <span class="at">--</span><span class="op">&gt;</span></span>
<span id="cb17-1117"><a href="#cb17-1117"></a><span class="op">&lt;</span>!----<span class="op">&gt;</span></span>
<span id="cb17-1118"><a href="#cb17-1118"></a><span class="op">&lt;</span>!-- <span class="kw">```</span><span class="fu">bash</span> <span class="at">--</span><span class="op">&gt;</span></span>
<span id="cb17-1119"><a href="#cb17-1119"></a><span class="op">&lt;</span>!-- <span class="ex">ezpz_setup_python</span> <span class="at">--</span><span class="op">&gt;</span></span>
<span id="cb17-1120"><a href="#cb17-1120"></a><span class="op">&lt;</span>!-- <span class="kw">```</span> <span class="at">--</span><span class="op">&gt;</span></span>
<span id="cb17-1121"><a href="#cb17-1121"></a><span class="op">&lt;</span>!----<span class="op">&gt;</span></span>
<span id="cb17-1122"><a href="#cb17-1122"></a><span class="op">&lt;</span>!-- <span class="fu">which</span> will automagically âœ¨ set up and activate an appropriate virtual <span class="at">--</span><span class="op">&gt;</span></span>
<span id="cb17-1123"><a href="#cb17-1123"></a><span class="op">&lt;</span>!-- <span class="ex">environment.</span> <span class="at">--</span><span class="op">&gt;</span></span>
<span id="cb17-1124"><a href="#cb17-1124"></a><span class="op">&lt;</span>!----<span class="op">&gt;</span></span>
<span id="cb17-1125"><a href="#cb17-1125"></a><span class="op">&lt;</span>!-- <span class="ex">:::</span> <span class="at">--</span><span class="op">&gt;</span></span>
<span id="cb17-1126"><a href="#cb17-1126"></a><span class="op">&lt;</span>!--</span>
<span id="cb17-1127"><a href="#cb17-1127"></a><span class="ex">:::</span> {.callout-important title=<span class="st">"Shell Utilities"</span> collapsed=false}</span>
<span id="cb17-1128"><a href="#cb17-1128"></a><span class="ex">We</span> provide a variety of helper functions designed to make your life easier.</span>
<span id="cb17-1129"><a href="#cb17-1129"></a></span>
<span id="cb17-1130"><a href="#cb17-1130"></a><span class="ex">They</span><span class="st">'re:</span></span>
<span id="cb17-1131"><a href="#cb17-1131"></a></span>
<span id="cb17-1132"><a href="#cb17-1132"></a><span class="st">- entirely self-contained in [**`utils.sh`**](/ezpz/src/ezpz/bin/utils.sh)</span></span>
<span id="cb17-1133"><a href="#cb17-1133"></a><span class="st">- all prefixed with `ezpz_*`</span></span>
<span id="cb17-1134"><a href="#cb17-1134"></a></span>
<span id="cb17-1135"><a href="#cb17-1135"></a><span class="st">:::</span></span>
<span id="cb17-1136"><a href="#cb17-1136"></a></span>
<span id="cb17-1137"><a href="#cb17-1137"></a><span class="st">To take advantage of these helper functions we need to `source` this</span></span>
<span id="cb17-1138"><a href="#cb17-1138"></a><span class="st">[`utils.sh`](/ezpz/src/ezpz/bin/utils.sh).</span></span>
<span id="cb17-1139"><a href="#cb17-1139"></a></span>
<span id="cb17-1140"><a href="#cb17-1140"></a><span class="st">This can be done by:</span></span>
<span id="cb17-1141"><a href="#cb17-1141"></a></span>
<span id="cb17-1142"><a href="#cb17-1142"></a><span class="st">```bash</span></span>
<span id="cb17-1143"><a href="#cb17-1143"></a><span class="st">PBS_O_WORKDIR=$(pwd) source /dev/stdin &lt;&lt;&lt; $(curl '</span><span class="ex">https://raw.githubusercontent.com/saforem2/ezpz/refs/heads/main/src/ezpz/bin/utils.sh</span><span class="st">')</span></span>
<span id="cb17-1144"><a href="#cb17-1144"></a><span class="st">```</span></span>
<span id="cb17-1145"><a href="#cb17-1145"></a><span class="st">--&gt;</span></span></code><button title="Copy to Clipboard" class="code-copy-button" data-in-quarto-modal=""><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->




<footer class="footer"><div class="nav-footer"><div class="nav-footer-center"><div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/saforem2/personal_site/blob/main/posts/ezpz-at-alcf/index.qmd" class="toc-action"><i class="bi bi-github"></i>View source</a></li><li><a href="https://github.com/saforem2/personal_site/edit/main/posts/ezpz-at-alcf/index.qmd" class="toc-action"><i class="bi empty"></i>Edit this page</a></li><li><a href="https://github.com/saforem2/personal_site/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></div></div></footer></body></html>